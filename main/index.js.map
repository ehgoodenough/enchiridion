{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./source/index.js","webpack:///./source/library/analytics.js","webpack:///./node_modules/gameanalytics/dist/GameAnalytics.node.js","webpack:///./node_modules/frem/index.js","webpack:///./node_modules/yaafloop/main.js","webpack:///./node_modules/afloop/index.js","webpack:///./source/models/App.js","webpack:///./node_modules/local-json-storage/index.js","webpack:///./node_modules/keyb/index.js","webpack:///./node_modules/vkey/index.js","webpack:///./node_modules/poin/index.js","webpack:///./source/models/Game.js","webpack:///./source/data/activity.js","webpack:///./source/models/Adventurer.js","webpack:///./node_modules/shortid/index.js","webpack:///./node_modules/shortid/lib/index.js","webpack:///./node_modules/shortid/lib/alphabet.js","webpack:///./node_modules/shortid/lib/random/random-from-seed.js","webpack:///./node_modules/shortid/lib/build.js","webpack:///./node_modules/shortid/lib/generate.js","webpack:///./node_modules/shortid/lib/random/random-byte-browser.js","webpack:///./node_modules/nanoid/format.browser.js","webpack:///./node_modules/shortid/lib/is-valid.js","webpack:///./node_modules/shortid/lib/util/cluster-worker-id-browser.js","webpack:///./source/data/colors.js","webpack:///./source/data/deathtext.js","webpack:///./source/models/Monster.js","webpack:///./source/data/frame.js","webpack:///./source/assets/images/monsters/slime_alpha.png","webpack:///./source/assets/images/monsters/slime_omega.png","webpack:///./source/assets/images/monsters/gravestone.png","webpack:///./source/assets/images/monsters/adventurer.png","webpack:///./source/models/MonsterWave.js","webpack:///./source/models/Room.js","webpack:///./source/views/Mount.view.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./source/views/Game.view.js","webpack:///./source/views/Entity.view.js","webpack:///./source/views/Entity.view.less?f83f","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./source/views/Entity.view.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./source/views/UI.view.js","webpack:///./source/views/UI.view.less?ae8e","webpack:///./source/views/UI.view.less","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./source/assets/fonts/tiny.ttf","webpack:///./source/assets/images/ui/heart-full-yellow.png","webpack:///./source/assets/images/ui/heart-full-white.png","webpack:///./source/assets/images/ui/heart-half-yellow.png","webpack:///./source/assets/images/ui/heart-half-white.png","webpack:///./source/assets/images/ui/heart-none-yellow.png","webpack:///./source/assets/images/ui/heart-none-white.png","webpack:///./source/assets/images/ui/keyboard.png","webpack:///./source/views/Camera.view.js","webpack:///./source/views/Camera.view.less?520c","webpack:///./source/views/Camera.view.less","webpack:///./source/views/Game.view.less?3366","webpack:///./source/views/Game.view.less","webpack:///./source/views/Mount.view.less?2af0","webpack:///./source/views/Mount.view.less","webpack:///./source/library/render.js"],"names":["frem","loop","Yaafloop","delta","App","update","render","View","GA_GAME_KEY","GA_SECRET_KEY","GameAnalytics","require","_","analytics","module","exports","isInitialized","initialize","configureBuild","__VERSION__","reportError","error","addErrorEvent","EGAErrorSeverity","Error","message","reportStartGame","addProgressionEvent","EGAProgressionStatus","Start","reportEndGame","Complete","MINIMUM_DEATH_TIME","STATE_EXPIRATION","DEMO_GAME_STATE","NEW_GAME_STATE","Dev","isInDevMode","window","app","state","localStorage","getJSON","Date","now","date","game","adventurer","isDead","hasUsedKeyboard","Game","isDemo","isDone","deathtime","s","keyb","isJustDown","ms","poin","wasJustPressed","startNewGame","parameters","model","monsters","score","add","Adventurer","forEach","monster","Monster","room","Room","camera","wave","MonsterWave","entity","entities","push","group","splice","indexOf","onReaction","Function","onAction","setJSON","toState","hasEndeded","hasEnded","map","__STAGE__","DIRECTIONS","DEMO_CLOCK","DEMO_MOVEMENTS","key","shortid","generate","position","prevposition","x","y","damage","title","description","health","stack","clock","move","Math","random","width","height","isInGodMode","action","isAttacking","direction","beAttacked","isAttacked","deathtext","shift","onEnd","GRAVESTONE_IMAGE","ADVENTURER_IMAGE","flipflop","abs","isOutOfRoom","killcount","remove","SLIME_OMEGA_IMAGE","SLIME_ALPHA_IMAGE","capacity","Infinity","undefined","length","getRandomValidPosition","floor","getRandomPosition","some","Mount","onMouseUp","onMouseDown","Preload","className","isTutorial","join","Entity","style","props","animation","top","left","zIndex","image","backgroundImage","color","backgroundColor","opacity","UI","hearts","flash","Array","i","Camera","children","dom","document","body","view","ViewModel","Preact"],"mappings":"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OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,qDAAqD,OAAO;AAC5D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA,aAAa;AACb;AACA,qDAAqD,OAAO;AAC5D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,SAAS,eAAe,QAAQ;AAChC;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,qIAAqI,QAAQ;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,OAAO;AACpH;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,6LAA6L,2BAA2B;AACxN;AACA,sBAAsB,cAAc;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2FAA2F;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,uGAAuG;AAC5G;AACA;AACA;AACA;AACA;AACA,KAAK,oGAAoG;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,4EAA4E;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,yEAAyE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,sEAAsE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,+EAA+E;AACxF,KAAK,uDAAuD;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sFAAsF;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0EAA0E;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gFAAgF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,yFAAyF;AAClG,KAAK,6DAA6D;AAClE,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,oDAAoD;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,gEAAgE;AACrE,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,sEAAsE;AAC3E,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,GAAG;AACnE,uEAAuE,GAAG;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,KAAK;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,KAAK,SAAS,KAAK,EAAE,IAAI;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,KAAK,6BAA6B,KAAK,EAAE,IAAI;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6HAA6H,IAAI,SAAS,IAAI,EAAE,IAAI;AACpJ;AACA;AACA;AACA;AACA;AACA,8IAA8I,IAAI,SAAS,IAAI,EAAE,IAAI;AACrK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,yEAAyE;AAC9E,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,sCAAsC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,6DAA6D;AAClE,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,sEAAsE;AAC3E,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,sEAAsE;AAC3E,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,2FAA2F;AACpG;AACA;AACA;AACA;AACA;AACA,SAAS,uDAAuD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD,sCAAsC,cAAc;AACpD,0CAA0C,cAAc;AACxD;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB;AACxD;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB;AACxD;AACA;AACA,mCAAmC,sBAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB;AACxD;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iBAAiB;AAC1D,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA,qCAAqC,MAAM,yBAAyB,0BAA0B,EAAE;AAChG;AACA,sCAAsC,EAAE,GAAG,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,0DAA0D;AAC/D,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mCAAmC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,+CAA+C;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,2BAA2B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,0DAA0D;AAC/D,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,0DAA0D;AAC/D,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,uDAAuD;AAC5D,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,8HAA8H;AAC/K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,mGAAmG;AACpJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,wMAAwM;AAC5P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,6CAA6C;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,yDAAyD;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,8KAA8K;AAC9K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,6DAA6D;AAClE,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,sEAAsE;AAC3E,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,uBAAuB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,8CAA8C,uBAAuB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,8CAA8C,uBAAuB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,gDAAgD,yBAAyB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mCAAmC,YAAY;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,kDAAkD,2BAA2B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iCAAiC,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,qCAAqC,cAAc;AACnD,wCAAwC,iBAAiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,eAAe;AACrD,oCAAoC,YAAY;AAChD,sCAAsC,eAAe;AACrD,oCAAoC,aAAa;AACjD,sCAAsC,eAAe;AACrD;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F,aAAa;AACb;AACA;AACA,sCAAsC,wDAAwD;AAC9F,sCAAsC,eAAe;AACrD,oCAAoC,YAAY;AAChD,sCAAsC,eAAe;AACrD,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F,aAAa;AACb;AACA;AACA,+CAA+C,kEAAkE;AACjH,2CAA2C,oBAAoB;AAC/D,2CAA2C,oBAAoB;AAC/D,2CAA2C,oBAAoB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,iJAAiJ;AACjJ,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF;AACrF,aAAa;AACb;AACA;AACA,sCAAsC,qDAAqD;AAC3F,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,aAAa;AACb;AACA;AACA,sCAAsC,gDAAgD;AACtF,oCAAoC,4CAA4C;AAChF,uCAAuC,gBAAgB;AACvD,yCAAyC,kBAAkB;AAC3D,wCAAwC,iDAAiD;AACzF;AACA;AACA;AACA;AACA;AACA,sGAAsG;AACtG,aAAa;AACb;AACA;AACA,sCAAsC,gDAAgD;AACtF,oCAAoC,4CAA4C;AAChF,uCAAuC,gBAAgB;AACvD,yCAAyC,kBAAkB;AAC3D,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA,oIAAoI;AACpI,aAAa;AACb;AACA;AACA,sCAAsC,gDAAgD;AACtF,oCAAoC,4CAA4C;AAChF,uCAAuC,gBAAgB;AACvD,yCAAyC,kBAAkB;AAC3D;AACA;AACA;AACA;AACA;AACA,8HAA8H;AAC9H,aAAa;AACb;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA,aAAa;AACb;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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D,KAAK,CAACsD,EAAjC,CAPA,IAQAF,2CAAI,CAACC,UAAL,CAAgB,SAAhB,EAA2BrD,KAAK,CAACsD,EAAjC,CARA,IASAC,2CAAI,CAACC,cAAL,CAAoB,SAApB,EAA+BxD,KAAK,CAACsD,EAArC,CATH,EAS6C;AACzC,mBAAO,KAAKG,YAAL,EAAP;AACH;AACJ;AACJ;;AAED,WAAKd,IAAL,CAAUzC,MAAV,CAAiBF,KAAjB;AACH;AA1CU;;AAAA;AAAA,MAAf,E;;;;;;;ACfa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kC;;;;;;ACVA,aAAa,mBAAO,CAAC,CAAM;;AAE3B;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AChDY;;AAEZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,QAAQ;AACnB;AACA;;AAEA;AACA,WAAW,QAAQ;AACn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d;AAGH,wBAAgB,KAAKC,YAHlB;AAIH,kBAAU,KAAKjD;AAJZ,OAAP;AAMH;;;wBAjBY;AACT,aAAO,KAAKoD,MAAL,IAAe,KAAKG,MAA3B;AACH;;;wBACW;AACR,UAAG,KAAKvD,MAAL,KAAgB,IAAnB,EAAyB;AACrB,eAAOwE,4EAAP;AACH,OAFD,MAEO;AACH,eAAOC,4EAAP;AACH;AACJ;;;;;;;;;;;;;AC1JQ;AACb,iBAAiB,mBAAO,CAAC,EAAa;;;;;;;;ACDzB;;AAEb,eAAe,mBAAO,CAAC,EAAY;AACnC,YAAY,mBAAO,CAAC,EAAS;AAC7B,cAAc,mBAAO,CAAC,EAAY;;AAElC;AACA;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,EAA0B;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7Da;;AAEb,qBAAqB,mBAAO,CAAC,EAA2B;;AAExD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtGa;;AAEb;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AAC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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","////////////////\n// Analytics //\n//////////////\n\nimport analytics from \"library/analytics.js\"\n\n////////////\n// Frame //\n//////////\n\nimport frem from \"frem\"\n\nfrem({\n    \"width\": 10,\n    \"height\": 10,\n})\n\n\n///////////\n// Loop //\n/////////\n\nimport Yaafloop from \"yaafloop\"\n\nimport App from \"models/App.js\"\n\nimport View from \"views/Mount.view.js\"\nimport render from \"library/render.js\"\n\nconst loop = new Yaafloop((delta) => {\n    App.update(delta)\n    render(View)\n})\n","const GA_GAME_KEY = \"9387130595a40e9374321119f6ef2f73\"\nconst GA_SECRET_KEY = \"41653dad84e4f8df3671cafb2fe0d9117d47dddf\"\n\nconst GameAnalytics = require(\"gameanalytics\")\nGameAnalytics._ = GameAnalytics.GameAnalytics\n\nconst analytics = module.exports = {}\nanalytics.isInitialized = false\n\nanalytics.initialize = function() {\n    // GameAnalytics._.setEnabledInfoLog(true)\n    // GameAnalytics._.setEnabledVerboseLog(true)\n\n    GameAnalytics._.configureBuild(__VERSION__)\n    GameAnalytics._.initialize(GA_GAME_KEY, GA_SECRET_KEY)\n\n    analytics.isInitialized = true\n}\n\nanalytics.reportError = function(error) {\n    if(analytics.isInitialized === true) {\n        GameAnalytics._.addErrorEvent(GameAnalytics.EGAErrorSeverity.Error, error.message)\n    }\n}\n\nanalytics.reportStartGame = function() {\n    if(analytics.isInitialized === false) analytics.initialize()\n    GameAnalytics._.addProgressionEvent(GameAnalytics.EGAProgressionStatus.Start, \"game\")\n}\n\nanalytics.reportEndGame = function() {\n    if(analytics.isInitialized === false) analytics.initialize()\n    GameAnalytics._.addProgressionEvent(GameAnalytics.EGAProgressionStatus.Complete, \"game\")\n}\n","'use strict';\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS = CryptoJS || function(h, s) {\n    var f = {},\n        g = f.lib = {},\n        q = function() {},\n        m = g.Base = {\n            extend: function(a) {\n                q.prototype = this;\n                var c = new q;\n                a && c.mixIn(a);\n                c.hasOwnProperty(\"init\") || (c.init = function() {\n                    c.$super.init.apply(this, arguments)\n                });\n                c.init.prototype = c;\n                c.$super = this;\n                return c\n            },\n            create: function() {\n                var a = this.extend();\n                a.init.apply(a, arguments);\n                return a\n            },\n            init: function() {},\n            mixIn: function(a) {\n                for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);\n                a.hasOwnProperty(\"toString\") && (this.toString = a.toString)\n            },\n            clone: function() {\n                return this.init.prototype.extend(this)\n            }\n        },\n        r = g.WordArray = m.extend({\n            init: function(a, c) {\n                a = this.words = a || [];\n                this.sigBytes = c != s ? c : 4 * a.length\n            },\n            toString: function(a) {\n                return (a || k).stringify(this)\n            },\n            concat: function(a) {\n                var c = this.words,\n                    d = a.words,\n                    b = this.sigBytes;\n                a = a.sigBytes;\n                this.clamp();\n                if (b % 4)\n                    for (var e = 0; e < a; e++) c[b + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((b + e) % 4);\n                else if (65535 < d.length)\n                    for (e = 0; e < a; e += 4) c[b + e >>> 2] = d[e >>> 2];\n                else c.push.apply(c, d);\n                this.sigBytes += a;\n                return this\n            },\n            clamp: function() {\n                var a = this.words,\n                    c = this.sigBytes;\n                a[c >>> 2] &= 4294967295 <<\n                    32 - 8 * (c % 4);\n                a.length = h.ceil(c / 4)\n            },\n            clone: function() {\n                var a = m.clone.call(this);\n                a.words = this.words.slice(0);\n                return a\n            },\n            random: function(a) {\n                for (var c = [], d = 0; d < a; d += 4) c.push(4294967296 * h.random() | 0);\n                return new r.init(c, a)\n            }\n        }),\n        l = f.enc = {},\n        k = l.Hex = {\n            stringify: function(a) {\n                var c = a.words;\n                a = a.sigBytes;\n                for (var d = [], b = 0; b < a; b++) {\n                    var e = c[b >>> 2] >>> 24 - 8 * (b % 4) & 255;\n                    d.push((e >>> 4).toString(16));\n                    d.push((e & 15).toString(16))\n                }\n                return d.join(\"\")\n            },\n            parse: function(a) {\n                for (var c = a.length, d = [], b = 0; b < c; b += 2) d[b >>> 3] |= parseInt(a.substr(b,\n                    2), 16) << 24 - 4 * (b % 8);\n                return new r.init(d, c / 2)\n            }\n        },\n        n = l.Latin1 = {\n            stringify: function(a) {\n                var c = a.words;\n                a = a.sigBytes;\n                for (var d = [], b = 0; b < a; b++) d.push(String.fromCharCode(c[b >>> 2] >>> 24 - 8 * (b % 4) & 255));\n                return d.join(\"\")\n            },\n            parse: function(a) {\n                for (var c = a.length, d = [], b = 0; b < c; b++) d[b >>> 2] |= (a.charCodeAt(b) & 255) << 24 - 8 * (b % 4);\n                return new r.init(d, c)\n            }\n        },\n        j = l.Utf8 = {\n            stringify: function(a) {\n                try {\n                    return decodeURIComponent(escape(n.stringify(a)))\n                } catch (c) {\n                    throw Error(\"Malformed UTF-8 data\");\n                }\n            },\n            parse: function(a) {\n                return n.parse(unescape(encodeURIComponent(a)))\n            }\n        },\n        u = g.BufferedBlockAlgorithm = m.extend({\n            reset: function() {\n                this._data = new r.init;\n                this._nDataBytes = 0\n            },\n            _append: function(a) {\n                \"string\" == typeof a && (a = j.parse(a));\n                this._data.concat(a);\n                this._nDataBytes += a.sigBytes\n            },\n            _process: function(a) {\n                var c = this._data,\n                    d = c.words,\n                    b = c.sigBytes,\n                    e = this.blockSize,\n                    f = b / (4 * e),\n                    f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0);\n                a = f * e;\n                b = h.min(4 * a, b);\n                if (a) {\n                    for (var g = 0; g < a; g += e) this._doProcessBlock(d, g);\n                    g = d.splice(0, a);\n                    c.sigBytes -= b\n                }\n                return new r.init(g, b)\n            },\n            clone: function() {\n                var a = m.clone.call(this);\n                a._data = this._data.clone();\n                return a\n            },\n            _minBufferSize: 0\n        });\n    g.Hasher = u.extend({\n        cfg: m.extend(),\n        init: function(a) {\n            this.cfg = this.cfg.extend(a);\n            this.reset()\n        },\n        reset: function() {\n            u.reset.call(this);\n            this._doReset()\n        },\n        update: function(a) {\n            this._append(a);\n            this._process();\n            return this\n        },\n        finalize: function(a) {\n            a && this._append(a);\n            return this._doFinalize()\n        },\n        blockSize: 16,\n        _createHelper: function(a) {\n            return function(c, d) {\n                return (new a.init(d)).finalize(c)\n            }\n        },\n        _createHmacHelper: function(a) {\n            return function(c, d) {\n                return (new t.HMAC.init(a,\n                    d)).finalize(c)\n            }\n        }\n    });\n    var t = f.algo = {};\n    return f\n}(Math);\n(function(h) {\n    for (var s = CryptoJS, f = s.lib, g = f.WordArray, q = f.Hasher, f = s.algo, m = [], r = [], l = function(a) {\n            return 4294967296 * (a - (a | 0)) | 0\n        }, k = 2, n = 0; 64 > n;) {\n        var j;\n        a: {\n            j = k;\n            for (var u = h.sqrt(j), t = 2; t <= u; t++)\n                if (!(j % t)) {\n                    j = !1;\n                    break a\n                }\n            j = !0\n        }\n        j && (8 > n && (m[n] = l(h.pow(k, 0.5))), r[n] = l(h.pow(k, 1 / 3)), n++);\n        k++\n    }\n    var a = [],\n        f = f.SHA256 = q.extend({\n            _doReset: function() {\n                this._hash = new g.init(m.slice(0))\n            },\n            _doProcessBlock: function(c, d) {\n                for (var b = this._hash.words, e = b[0], f = b[1], g = b[2], j = b[3], h = b[4], m = b[5], n = b[6], q = b[7], p = 0; 64 > p; p++) {\n                    if (16 > p) a[p] =\n                        c[d + p] | 0;\n                    else {\n                        var k = a[p - 15],\n                            l = a[p - 2];\n                        a[p] = ((k << 25 | k >>> 7) ^ (k << 14 | k >>> 18) ^ k >>> 3) + a[p - 7] + ((l << 15 | l >>> 17) ^ (l << 13 | l >>> 19) ^ l >>> 10) + a[p - 16]\n                    }\n                    k = q + ((h << 26 | h >>> 6) ^ (h << 21 | h >>> 11) ^ (h << 7 | h >>> 25)) + (h & m ^ ~h & n) + r[p] + a[p];\n                    l = ((e << 30 | e >>> 2) ^ (e << 19 | e >>> 13) ^ (e << 10 | e >>> 22)) + (e & f ^ e & g ^ f & g);\n                    q = n;\n                    n = m;\n                    m = h;\n                    h = j + k | 0;\n                    j = g;\n                    g = f;\n                    f = e;\n                    e = k + l | 0\n                }\n                b[0] = b[0] + e | 0;\n                b[1] = b[1] + f | 0;\n                b[2] = b[2] + g | 0;\n                b[3] = b[3] + j | 0;\n                b[4] = b[4] + h | 0;\n                b[5] = b[5] + m | 0;\n                b[6] = b[6] + n | 0;\n                b[7] = b[7] + q | 0\n            },\n            _doFinalize: function() {\n                var a = this._data,\n                    d = a.words,\n                    b = 8 * this._nDataBytes,\n                    e = 8 * a.sigBytes;\n                d[e >>> 5] |= 128 << 24 - e % 32;\n                d[(e + 64 >>> 9 << 4) + 14] = h.floor(b / 4294967296);\n                d[(e + 64 >>> 9 << 4) + 15] = b;\n                a.sigBytes = 4 * d.length;\n                this._process();\n                return this._hash\n            },\n            clone: function() {\n                var a = q.clone.call(this);\n                a._hash = this._hash.clone();\n                return a\n            }\n        });\n    s.SHA256 = q._createHelper(f);\n    s.HmacSHA256 = q._createHmacHelper(f)\n})(Math);\n(function() {\n    var h = CryptoJS,\n        s = h.enc.Utf8;\n    h.algo.HMAC = h.lib.Base.extend({\n        init: function(f, g) {\n            f = this._hasher = new f.init;\n            \"string\" == typeof g && (g = s.parse(g));\n            var h = f.blockSize,\n                m = 4 * h;\n            g.sigBytes > m && (g = f.finalize(g));\n            g.clamp();\n            for (var r = this._oKey = g.clone(), l = this._iKey = g.clone(), k = r.words, n = l.words, j = 0; j < h; j++) k[j] ^= 1549556828, n[j] ^= 909522486;\n            r.sigBytes = l.sigBytes = m;\n            this.reset()\n        },\n        reset: function() {\n            var f = this._hasher;\n            f.reset();\n            f.update(this._iKey)\n        },\n        update: function(f) {\n            this._hasher.update(f);\n            return this\n        },\n        finalize: function(f) {\n            var g =\n                this._hasher;\n            f = g.finalize(f);\n            g.reset();\n            return g.finalize(this._oKey.clone().concat(f))\n        }\n    })\n})();\n\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function() {\n    var h = CryptoJS,\n        j = h.lib.WordArray;\n    h.enc.Base64 = {\n        stringify: function(b) {\n            var e = b.words,\n                f = b.sigBytes,\n                c = this._map;\n            b.clamp();\n            b = [];\n            for (var a = 0; a < f; a += 3)\n                for (var d = (e[a >>> 2] >>> 24 - 8 * (a % 4) & 255) << 16 | (e[a + 1 >>> 2] >>> 24 - 8 * ((a + 1) % 4) & 255) << 8 | e[a + 2 >>> 2] >>> 24 - 8 * ((a + 2) % 4) & 255, g = 0; 4 > g && a + 0.75 * g < f; g++) b.push(c.charAt(d >>> 6 * (3 - g) & 63));\n            if (e = c.charAt(64))\n                for (; b.length % 4;) b.push(e);\n            return b.join(\"\")\n        },\n        parse: function(b) {\n            var e = b.length,\n                f = this._map,\n                c = f.charAt(64);\n            c && (c = b.indexOf(c), -1 != c && (e = c));\n            for (var c = [], a = 0, d = 0; d <\n                e; d++)\n                if (d % 4) {\n                    var g = f.indexOf(b.charAt(d - 1)) << 2 * (d % 4),\n                        h = f.indexOf(b.charAt(d)) >>> 6 - 2 * (d % 4);\n                    c[a >>> 2] |= (g | h) << 24 - 8 * (a % 4);\n                    a++\n                }\n            return j.create(c, a)\n        },\n        _map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"\n    }\n})();\n\nvar gameanalytics;\n(function (gameanalytics) {\n    var EGAErrorSeverity;\n    (function (EGAErrorSeverity) {\n        EGAErrorSeverity[EGAErrorSeverity[\"Undefined\"] = 0] = \"Undefined\";\n        EGAErrorSeverity[EGAErrorSeverity[\"Debug\"] = 1] = \"Debug\";\n        EGAErrorSeverity[EGAErrorSeverity[\"Info\"] = 2] = \"Info\";\n        EGAErrorSeverity[EGAErrorSeverity[\"Warning\"] = 3] = \"Warning\";\n        EGAErrorSeverity[EGAErrorSeverity[\"Error\"] = 4] = \"Error\";\n        EGAErrorSeverity[EGAErrorSeverity[\"Critical\"] = 5] = \"Critical\";\n    })(EGAErrorSeverity = gameanalytics.EGAErrorSeverity || (gameanalytics.EGAErrorSeverity = {}));\n    var EGAProgressionStatus;\n    (function (EGAProgressionStatus) {\n        EGAProgressionStatus[EGAProgressionStatus[\"Undefined\"] = 0] = \"Undefined\";\n        EGAProgressionStatus[EGAProgressionStatus[\"Start\"] = 1] = \"Start\";\n        EGAProgressionStatus[EGAProgressionStatus[\"Complete\"] = 2] = \"Complete\";\n        EGAProgressionStatus[EGAProgressionStatus[\"Fail\"] = 3] = \"Fail\";\n    })(EGAProgressionStatus = gameanalytics.EGAProgressionStatus || (gameanalytics.EGAProgressionStatus = {}));\n    var EGAResourceFlowType;\n    (function (EGAResourceFlowType) {\n        EGAResourceFlowType[EGAResourceFlowType[\"Undefined\"] = 0] = \"Undefined\";\n        EGAResourceFlowType[EGAResourceFlowType[\"Source\"] = 1] = \"Source\";\n        EGAResourceFlowType[EGAResourceFlowType[\"Sink\"] = 2] = \"Sink\";\n    })(EGAResourceFlowType = gameanalytics.EGAResourceFlowType || (gameanalytics.EGAResourceFlowType = {}));\n    var EGAAdAction;\n    (function (EGAAdAction) {\n        EGAAdAction[EGAAdAction[\"Undefined\"] = 0] = \"Undefined\";\n        EGAAdAction[EGAAdAction[\"Clicked\"] = 1] = \"Clicked\";\n        EGAAdAction[EGAAdAction[\"Show\"] = 2] = \"Show\";\n        EGAAdAction[EGAAdAction[\"FailedShow\"] = 3] = \"FailedShow\";\n        EGAAdAction[EGAAdAction[\"RewardReceived\"] = 4] = \"RewardReceived\";\n    })(EGAAdAction = gameanalytics.EGAAdAction || (gameanalytics.EGAAdAction = {}));\n    var EGAAdError;\n    (function (EGAAdError) {\n        EGAAdError[EGAAdError[\"Undefined\"] = 0] = \"Undefined\";\n        EGAAdError[EGAAdError[\"Unknown\"] = 1] = \"Unknown\";\n        EGAAdError[EGAAdError[\"Offline\"] = 2] = \"Offline\";\n        EGAAdError[EGAAdError[\"NoFill\"] = 3] = \"NoFill\";\n        EGAAdError[EGAAdError[\"InternalError\"] = 4] = \"InternalError\";\n        EGAAdError[EGAAdError[\"InvalidRequest\"] = 5] = \"InvalidRequest\";\n        EGAAdError[EGAAdError[\"UnableToPrecache\"] = 6] = \"UnableToPrecache\";\n    })(EGAAdError = gameanalytics.EGAAdError || (gameanalytics.EGAAdError = {}));\n    var EGAAdType;\n    (function (EGAAdType) {\n        EGAAdType[EGAAdType[\"Undefined\"] = 0] = \"Undefined\";\n        EGAAdType[EGAAdType[\"Video\"] = 1] = \"Video\";\n        EGAAdType[EGAAdType[\"RewardedVideo\"] = 2] = \"RewardedVideo\";\n        EGAAdType[EGAAdType[\"Playable\"] = 3] = \"Playable\";\n        EGAAdType[EGAAdType[\"Interstitial\"] = 4] = \"Interstitial\";\n        EGAAdType[EGAAdType[\"OfferWall\"] = 5] = \"OfferWall\";\n        EGAAdType[EGAAdType[\"Banner\"] = 6] = \"Banner\";\n    })(EGAAdType = gameanalytics.EGAAdType || (gameanalytics.EGAAdType = {}));\n    var http;\n    (function (http) {\n        var EGAHTTPApiResponse;\n        (function (EGAHTTPApiResponse) {\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"NoResponse\"] = 0] = \"NoResponse\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"BadResponse\"] = 1] = \"BadResponse\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"RequestTimeout\"] = 2] = \"RequestTimeout\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"JsonEncodeFailed\"] = 3] = \"JsonEncodeFailed\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"JsonDecodeFailed\"] = 4] = \"JsonDecodeFailed\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"InternalServerError\"] = 5] = \"InternalServerError\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"BadRequest\"] = 6] = \"BadRequest\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"Unauthorized\"] = 7] = \"Unauthorized\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"UnknownResponseCode\"] = 8] = \"UnknownResponseCode\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"Ok\"] = 9] = \"Ok\";\n            EGAHTTPApiResponse[EGAHTTPApiResponse[\"Created\"] = 10] = \"Created\";\n        })(EGAHTTPApiResponse = http.EGAHTTPApiResponse || (http.EGAHTTPApiResponse = {}));\n    })(http = gameanalytics.http || (gameanalytics.http = {}));\n    var events;\n    (function (events) {\n        var EGASdkErrorCategory;\n        (function (EGASdkErrorCategory) {\n            EGASdkErrorCategory[EGASdkErrorCategory[\"Undefined\"] = 0] = \"Undefined\";\n            EGASdkErrorCategory[EGASdkErrorCategory[\"EventValidation\"] = 1] = \"EventValidation\";\n            EGASdkErrorCategory[EGASdkErrorCategory[\"Database\"] = 2] = \"Database\";\n            EGASdkErrorCategory[EGASdkErrorCategory[\"Init\"] = 3] = \"Init\";\n            EGASdkErrorCategory[EGASdkErrorCategory[\"Http\"] = 4] = \"Http\";\n            EGASdkErrorCategory[EGASdkErrorCategory[\"Json\"] = 5] = \"Json\";\n        })(EGASdkErrorCategory = events.EGASdkErrorCategory || (events.EGASdkErrorCategory = {}));\n        var EGASdkErrorArea;\n        (function (EGASdkErrorArea) {\n            EGASdkErrorArea[EGASdkErrorArea[\"Undefined\"] = 0] = \"Undefined\";\n            EGASdkErrorArea[EGASdkErrorArea[\"BusinessEvent\"] = 1] = \"BusinessEvent\";\n            EGASdkErrorArea[EGASdkErrorArea[\"ResourceEvent\"] = 2] = \"ResourceEvent\";\n            EGASdkErrorArea[EGASdkErrorArea[\"ProgressionEvent\"] = 3] = \"ProgressionEvent\";\n            EGASdkErrorArea[EGASdkErrorArea[\"DesignEvent\"] = 4] = \"DesignEvent\";\n            EGASdkErrorArea[EGASdkErrorArea[\"ErrorEvent\"] = 5] = \"ErrorEvent\";\n            EGASdkErrorArea[EGASdkErrorArea[\"InitHttp\"] = 9] = \"InitHttp\";\n            EGASdkErrorArea[EGASdkErrorArea[\"EventsHttp\"] = 10] = \"EventsHttp\";\n            EGASdkErrorArea[EGASdkErrorArea[\"ProcessEvents\"] = 11] = \"ProcessEvents\";\n            EGASdkErrorArea[EGASdkErrorArea[\"AddEventsToStore\"] = 12] = \"AddEventsToStore\";\n            EGASdkErrorArea[EGASdkErrorArea[\"AdEvent\"] = 20] = \"AdEvent\";\n        })(EGASdkErrorArea = events.EGASdkErrorArea || (events.EGASdkErrorArea = {}));\n        var EGASdkErrorAction;\n        (function (EGASdkErrorAction) {\n            EGASdkErrorAction[EGASdkErrorAction[\"Undefined\"] = 0] = \"Undefined\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidCurrency\"] = 1] = \"InvalidCurrency\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidShortString\"] = 2] = \"InvalidShortString\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidEventPartLength\"] = 3] = \"InvalidEventPartLength\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidEventPartCharacters\"] = 4] = \"InvalidEventPartCharacters\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidStore\"] = 5] = \"InvalidStore\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidFlowType\"] = 6] = \"InvalidFlowType\";\n            EGASdkErrorAction[EGASdkErrorAction[\"StringEmptyOrNull\"] = 7] = \"StringEmptyOrNull\";\n            EGASdkErrorAction[EGASdkErrorAction[\"NotFoundInAvailableCurrencies\"] = 8] = \"NotFoundInAvailableCurrencies\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidAmount\"] = 9] = \"InvalidAmount\";\n            EGASdkErrorAction[EGASdkErrorAction[\"NotFoundInAvailableItemTypes\"] = 10] = \"NotFoundInAvailableItemTypes\";\n            EGASdkErrorAction[EGASdkErrorAction[\"WrongProgressionOrder\"] = 11] = \"WrongProgressionOrder\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidEventIdLength\"] = 12] = \"InvalidEventIdLength\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidEventIdCharacters\"] = 13] = \"InvalidEventIdCharacters\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidProgressionStatus\"] = 15] = \"InvalidProgressionStatus\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidSeverity\"] = 16] = \"InvalidSeverity\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidLongString\"] = 17] = \"InvalidLongString\";\n            EGASdkErrorAction[EGASdkErrorAction[\"DatabaseTooLarge\"] = 18] = \"DatabaseTooLarge\";\n            EGASdkErrorAction[EGASdkErrorAction[\"DatabaseOpenOrCreate\"] = 19] = \"DatabaseOpenOrCreate\";\n            EGASdkErrorAction[EGASdkErrorAction[\"JsonError\"] = 25] = \"JsonError\";\n            EGASdkErrorAction[EGASdkErrorAction[\"FailHttpJsonDecode\"] = 29] = \"FailHttpJsonDecode\";\n            EGASdkErrorAction[EGASdkErrorAction[\"FailHttpJsonEncode\"] = 30] = \"FailHttpJsonEncode\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidAdAction\"] = 31] = \"InvalidAdAction\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidAdType\"] = 32] = \"InvalidAdType\";\n            EGASdkErrorAction[EGASdkErrorAction[\"InvalidString\"] = 33] = \"InvalidString\";\n        })(EGASdkErrorAction = events.EGASdkErrorAction || (events.EGASdkErrorAction = {}));\n        var EGASdkErrorParameter;\n        (function (EGASdkErrorParameter) {\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Undefined\"] = 0] = \"Undefined\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Currency\"] = 1] = \"Currency\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"CartType\"] = 2] = \"CartType\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"ItemType\"] = 3] = \"ItemType\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"ItemId\"] = 4] = \"ItemId\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Store\"] = 5] = \"Store\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"FlowType\"] = 6] = \"FlowType\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Amount\"] = 7] = \"Amount\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Progression01\"] = 8] = \"Progression01\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Progression02\"] = 9] = \"Progression02\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Progression03\"] = 10] = \"Progression03\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"EventId\"] = 11] = \"EventId\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"ProgressionStatus\"] = 12] = \"ProgressionStatus\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Severity\"] = 13] = \"Severity\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"Message\"] = 14] = \"Message\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"AdAction\"] = 15] = \"AdAction\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"AdType\"] = 16] = \"AdType\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"AdSdkName\"] = 17] = \"AdSdkName\";\n            EGASdkErrorParameter[EGASdkErrorParameter[\"AdPlacement\"] = 18] = \"AdPlacement\";\n        })(EGASdkErrorParameter = events.EGASdkErrorParameter || (events.EGASdkErrorParameter = {}));\n    })(events = gameanalytics.events || (gameanalytics.events = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar EGAErrorSeverity = gameanalytics.EGAErrorSeverity;\nvar EGAProgressionStatus = gameanalytics.EGAProgressionStatus;\nvar EGAResourceFlowType = gameanalytics.EGAResourceFlowType;\nvar gameanalytics;\n(function (gameanalytics) {\n    var logging;\n    (function (logging) {\n        var EGALoggerMessageType;\n        (function (EGALoggerMessageType) {\n            EGALoggerMessageType[EGALoggerMessageType[\"Error\"] = 0] = \"Error\";\n            EGALoggerMessageType[EGALoggerMessageType[\"Warning\"] = 1] = \"Warning\";\n            EGALoggerMessageType[EGALoggerMessageType[\"Info\"] = 2] = \"Info\";\n            EGALoggerMessageType[EGALoggerMessageType[\"Debug\"] = 3] = \"Debug\";\n        })(EGALoggerMessageType || (EGALoggerMessageType = {}));\n        var GALogger = (function () {\n            function GALogger() {\n                GALogger.debugEnabled = false;\n            }\n            GALogger.setInfoLog = function (value) {\n                GALogger.instance.infoLogEnabled = value;\n            };\n            GALogger.setVerboseLog = function (value) {\n                GALogger.instance.infoLogVerboseEnabled = value;\n            };\n            GALogger.i = function (format) {\n                if (!GALogger.instance.infoLogEnabled) {\n                    return;\n                }\n                var message = \"Info/\" + GALogger.Tag + \": \" + format;\n                GALogger.instance.sendNotificationMessage(message, EGALoggerMessageType.Info);\n            };\n            GALogger.w = function (format) {\n                var message = \"Warning/\" + GALogger.Tag + \": \" + format;\n                GALogger.instance.sendNotificationMessage(message, EGALoggerMessageType.Warning);\n            };\n            GALogger.e = function (format) {\n                var message = \"Error/\" + GALogger.Tag + \": \" + format;\n                GALogger.instance.sendNotificationMessage(message, EGALoggerMessageType.Error);\n            };\n            GALogger.ii = function (format) {\n                if (!GALogger.instance.infoLogVerboseEnabled) {\n                    return;\n                }\n                var message = \"Verbose/\" + GALogger.Tag + \": \" + format;\n                GALogger.instance.sendNotificationMessage(message, EGALoggerMessageType.Info);\n            };\n            GALogger.d = function (format) {\n                if (!GALogger.debugEnabled) {\n                    return;\n                }\n                var message = \"Debug/\" + GALogger.Tag + \": \" + format;\n                GALogger.instance.sendNotificationMessage(message, EGALoggerMessageType.Debug);\n            };\n            GALogger.prototype.sendNotificationMessage = function (message, type) {\n                switch (type) {\n                    case EGALoggerMessageType.Error:\n                        {\n                            console.error(message);\n                        }\n                        break;\n                    case EGALoggerMessageType.Warning:\n                        {\n                            console.warn(message);\n                        }\n                        break;\n                    case EGALoggerMessageType.Debug:\n                        {\n                            if (typeof console.debug === \"function\") {\n                                console.debug(message);\n                            }\n                            else {\n                                console.log(message);\n                            }\n                        }\n                        break;\n                    case EGALoggerMessageType.Info:\n                        {\n                            console.log(message);\n                        }\n                        break;\n                }\n            };\n            GALogger.instance = new GALogger();\n            GALogger.Tag = \"GameAnalytics\";\n            return GALogger;\n        }());\n        logging.GALogger = GALogger;\n    })(logging = gameanalytics.logging || (gameanalytics.logging = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var utilities;\n    (function (utilities) {\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAUtilities = (function () {\n            function GAUtilities() {\n            }\n            GAUtilities.getHmac = function (key, data) {\n                var encryptedMessage = CryptoJS.HmacSHA256(data, key);\n                return CryptoJS.enc.Base64.stringify(encryptedMessage);\n            };\n            GAUtilities.stringMatch = function (s, pattern) {\n                if (!s || !pattern) {\n                    return false;\n                }\n                return pattern.test(s);\n            };\n            GAUtilities.joinStringArray = function (v, delimiter) {\n                var result = \"\";\n                for (var i = 0, il = v.length; i < il; i++) {\n                    if (i > 0) {\n                        result += delimiter;\n                    }\n                    result += v[i];\n                }\n                return result;\n            };\n            GAUtilities.stringArrayContainsString = function (array, search) {\n                if (array.length === 0) {\n                    return false;\n                }\n                for (var s in array) {\n                    if (array[s] === search) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            GAUtilities.encode64 = function (input) {\n                input = encodeURI(input);\n                var output = \"\";\n                var chr1, chr2, chr3 = 0;\n                var enc1, enc2, enc3, enc4 = 0;\n                var i = 0;\n                do {\n                    chr1 = input.charCodeAt(i++);\n                    chr2 = input.charCodeAt(i++);\n                    chr3 = input.charCodeAt(i++);\n                    enc1 = chr1 >> 2;\n                    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                    enc4 = chr3 & 63;\n                    if (isNaN(chr2)) {\n                        enc3 = enc4 = 64;\n                    }\n                    else if (isNaN(chr3)) {\n                        enc4 = 64;\n                    }\n                    output = output +\n                        GAUtilities.keyStr.charAt(enc1) +\n                        GAUtilities.keyStr.charAt(enc2) +\n                        GAUtilities.keyStr.charAt(enc3) +\n                        GAUtilities.keyStr.charAt(enc4);\n                    chr1 = chr2 = chr3 = 0;\n                    enc1 = enc2 = enc3 = enc4 = 0;\n                } while (i < input.length);\n                return output;\n            };\n            GAUtilities.decode64 = function (input) {\n                var output = \"\";\n                var chr1, chr2, chr3 = 0;\n                var enc1, enc2, enc3, enc4 = 0;\n                var i = 0;\n                var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n                if (base64test.exec(input)) {\n                    GALogger.w(\"There were invalid base64 characters in the input text. Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='. Expect errors in decoding.\");\n                }\n                input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n                do {\n                    enc1 = GAUtilities.keyStr.indexOf(input.charAt(i++));\n                    enc2 = GAUtilities.keyStr.indexOf(input.charAt(i++));\n                    enc3 = GAUtilities.keyStr.indexOf(input.charAt(i++));\n                    enc4 = GAUtilities.keyStr.indexOf(input.charAt(i++));\n                    chr1 = (enc1 << 2) | (enc2 >> 4);\n                    chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                    chr3 = ((enc3 & 3) << 6) | enc4;\n                    output = output + String.fromCharCode(chr1);\n                    if (enc3 != 64) {\n                        output = output + String.fromCharCode(chr2);\n                    }\n                    if (enc4 != 64) {\n                        output = output + String.fromCharCode(chr3);\n                    }\n                    chr1 = chr2 = chr3 = 0;\n                    enc1 = enc2 = enc3 = enc4 = 0;\n                } while (i < input.length);\n                return decodeURI(output);\n            };\n            GAUtilities.timeIntervalSince1970 = function () {\n                var date = new Date();\n                return Math.round(date.getTime() / 1000);\n            };\n            GAUtilities.createGuid = function () {\n                return (GAUtilities.s4() + GAUtilities.s4() + \"-\" + GAUtilities.s4() + \"-4\" + GAUtilities.s4().substr(0, 3) + \"-\" + GAUtilities.s4() + \"-\" + GAUtilities.s4() + GAUtilities.s4() + GAUtilities.s4()).toLowerCase();\n            };\n            GAUtilities.s4 = function () {\n                return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n            };\n            GAUtilities.keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n            return GAUtilities;\n        }());\n        utilities.GAUtilities = GAUtilities;\n    })(utilities = gameanalytics.utilities || (gameanalytics.utilities = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var validators;\n    (function (validators) {\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAUtilities = gameanalytics.utilities.GAUtilities;\n        var EGASdkErrorCategory = gameanalytics.events.EGASdkErrorCategory;\n        var EGASdkErrorArea = gameanalytics.events.EGASdkErrorArea;\n        var EGASdkErrorAction = gameanalytics.events.EGASdkErrorAction;\n        var EGASdkErrorParameter = gameanalytics.events.EGASdkErrorParameter;\n        var ValidationResult = (function () {\n            function ValidationResult(category, area, action, parameter, reason) {\n                this.category = category;\n                this.area = area;\n                this.action = action;\n                this.parameter = parameter;\n                this.reason = reason;\n            }\n            return ValidationResult;\n        }());\n        validators.ValidationResult = ValidationResult;\n        var GAValidator = (function () {\n            function GAValidator() {\n            }\n            GAValidator.validateBusinessEvent = function (currency, amount, cartType, itemType, itemId) {\n                if (!GAValidator.validateCurrency(currency)) {\n                    GALogger.w(\"Validation fail - business event - currency: Cannot be (null) and need to be A-Z, 3 characters and in the standard at openexchangerates.org. Failed currency: \" + currency);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidCurrency, EGASdkErrorParameter.Currency, currency);\n                }\n                if (amount < 0) {\n                    GALogger.w(\"Validation fail - business event - amount. Cannot be less than 0. Failed amount: \" + amount);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidAmount, EGASdkErrorParameter.Amount, amount + \"\");\n                }\n                if (!GAValidator.validateShortString(cartType, true)) {\n                    GALogger.w(\"Validation fail - business event - cartType. Cannot be above 32 length. String: \" + cartType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidShortString, EGASdkErrorParameter.CartType, cartType);\n                }\n                if (!GAValidator.validateEventPartLength(itemType, false)) {\n                    GALogger.w(\"Validation fail - business event - itemType: Cannot be (null), empty or above 64 characters. String: \" + itemType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.ItemType, itemType);\n                }\n                if (!GAValidator.validateEventPartCharacters(itemType)) {\n                    GALogger.w(\"Validation fail - business event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + itemType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.ItemType, itemType);\n                }\n                if (!GAValidator.validateEventPartLength(itemId, false)) {\n                    GALogger.w(\"Validation fail - business event - itemId. Cannot be (null), empty or above 64 characters. String: \" + itemId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.ItemId, itemId);\n                }\n                if (!GAValidator.validateEventPartCharacters(itemId)) {\n                    GALogger.w(\"Validation fail - business event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + itemId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.BusinessEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.ItemId, itemId);\n                }\n                return null;\n            };\n            GAValidator.validateResourceEvent = function (flowType, currency, amount, itemType, itemId, availableCurrencies, availableItemTypes) {\n                if (flowType == gameanalytics.EGAResourceFlowType.Undefined) {\n                    GALogger.w(\"Validation fail - resource event - flowType: Invalid flow type.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidFlowType, EGASdkErrorParameter.FlowType, \"\");\n                }\n                if (!currency) {\n                    GALogger.w(\"Validation fail - resource event - currency: Cannot be (null)\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.StringEmptyOrNull, EGASdkErrorParameter.Currency, \"\");\n                }\n                if (!GAUtilities.stringArrayContainsString(availableCurrencies, currency)) {\n                    GALogger.w(\"Validation fail - resource event - currency: Not found in list of pre-defined available resource currencies. String: \" + currency);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.NotFoundInAvailableCurrencies, EGASdkErrorParameter.Currency, currency);\n                }\n                if (!(amount > 0)) {\n                    GALogger.w(\"Validation fail - resource event - amount: Float amount cannot be 0 or negative. Value: \" + amount);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidAmount, EGASdkErrorParameter.Amount, amount + \"\");\n                }\n                if (!itemType) {\n                    GALogger.w(\"Validation fail - resource event - itemType: Cannot be (null)\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.StringEmptyOrNull, EGASdkErrorParameter.ItemType, \"\");\n                }\n                if (!GAValidator.validateEventPartLength(itemType, false)) {\n                    GALogger.w(\"Validation fail - resource event - itemType: Cannot be (null), empty or above 64 characters. String: \" + itemType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.ItemType, itemType);\n                }\n                if (!GAValidator.validateEventPartCharacters(itemType)) {\n                    GALogger.w(\"Validation fail - resource event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + itemType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.ItemType, itemType);\n                }\n                if (!GAUtilities.stringArrayContainsString(availableItemTypes, itemType)) {\n                    GALogger.w(\"Validation fail - resource event - itemType: Not found in list of pre-defined available resource itemTypes. String: \" + itemType);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.NotFoundInAvailableItemTypes, EGASdkErrorParameter.ItemType, itemType);\n                }\n                if (!GAValidator.validateEventPartLength(itemId, false)) {\n                    GALogger.w(\"Validation fail - resource event - itemId: Cannot be (null), empty or above 64 characters. String: \" + itemId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.ItemId, itemId);\n                }\n                if (!GAValidator.validateEventPartCharacters(itemId)) {\n                    GALogger.w(\"Validation fail - resource event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + itemId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ResourceEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.ItemId, itemId);\n                }\n                return null;\n            };\n            GAValidator.validateProgressionEvent = function (progressionStatus, progression01, progression02, progression03) {\n                if (progressionStatus == gameanalytics.EGAProgressionStatus.Undefined) {\n                    GALogger.w(\"Validation fail - progression event: Invalid progression status.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidProgressionStatus, EGASdkErrorParameter.ProgressionStatus, \"\");\n                }\n                if (progression03 && !(progression02 || !progression01)) {\n                    GALogger.w(\"Validation fail - progression event: 03 found but 01+02 are invalid. Progression must be set as either 01, 01+02 or 01+02+03.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.WrongProgressionOrder, EGASdkErrorParameter.Undefined, progression01 + \":\" + progression02 + \":\" + progression03);\n                }\n                else if (progression02 && !progression01) {\n                    GALogger.w(\"Validation fail - progression event: 02 found but not 01. Progression must be set as either 01, 01+02 or 01+02+03\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.WrongProgressionOrder, EGASdkErrorParameter.Undefined, progression01 + \":\" + progression02 + \":\" + progression03);\n                }\n                else if (!progression01) {\n                    GALogger.w(\"Validation fail - progression event: progression01 not valid. Progressions must be set as either 01, 01+02 or 01+02+03\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.WrongProgressionOrder, EGASdkErrorParameter.Undefined, (progression01 ? progression01 : \"\") + \":\" + (progression02 ? progression02 : \"\") + \":\" + (progression03 ? progression03 : \"\"));\n                }\n                if (!GAValidator.validateEventPartLength(progression01, false)) {\n                    GALogger.w(\"Validation fail - progression event - progression01: Cannot be (null), empty or above 64 characters. String: \" + progression01);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.Progression01, progression01);\n                }\n                if (!GAValidator.validateEventPartCharacters(progression01)) {\n                    GALogger.w(\"Validation fail - progression event - progression01: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + progression01);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.Progression01, progression01);\n                }\n                if (progression02) {\n                    if (!GAValidator.validateEventPartLength(progression02, true)) {\n                        GALogger.w(\"Validation fail - progression event - progression02: Cannot be empty or above 64 characters. String: \" + progression02);\n                        return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.Progression02, progression02);\n                    }\n                    if (!GAValidator.validateEventPartCharacters(progression02)) {\n                        GALogger.w(\"Validation fail - progression event - progression02: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + progression02);\n                        return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.Progression02, progression02);\n                    }\n                }\n                if (progression03) {\n                    if (!GAValidator.validateEventPartLength(progression03, true)) {\n                        GALogger.w(\"Validation fail - progression event - progression03: Cannot be empty or above 64 characters. String: \" + progression03);\n                        return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartLength, EGASdkErrorParameter.Progression03, progression03);\n                    }\n                    if (!GAValidator.validateEventPartCharacters(progression03)) {\n                        GALogger.w(\"Validation fail - progression event - progression03: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: \" + progression03);\n                        return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ProgressionEvent, EGASdkErrorAction.InvalidEventPartCharacters, EGASdkErrorParameter.Progression03, progression03);\n                    }\n                }\n                return null;\n            };\n            GAValidator.validateDesignEvent = function (eventId) {\n                if (!GAValidator.validateEventIdLength(eventId)) {\n                    GALogger.w(\"Validation fail - design event - eventId: Cannot be (null) or empty. Only 5 event parts allowed seperated by :. Each part need to be 32 characters or less. String: \" + eventId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.DesignEvent, EGASdkErrorAction.InvalidEventIdLength, EGASdkErrorParameter.EventId, eventId);\n                }\n                if (!GAValidator.validateEventIdCharacters(eventId)) {\n                    GALogger.w(\"Validation fail - design event - eventId: Non valid characters. Only allowed A-z, 0-9, -_., ()!?. String: \" + eventId);\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.DesignEvent, EGASdkErrorAction.InvalidEventIdCharacters, EGASdkErrorParameter.EventId, eventId);\n                }\n                return null;\n            };\n            GAValidator.validateErrorEvent = function (severity, message) {\n                if (severity == gameanalytics.EGAErrorSeverity.Undefined) {\n                    GALogger.w(\"Validation fail - error event - severity: Severity was unsupported value.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ErrorEvent, EGASdkErrorAction.InvalidSeverity, EGASdkErrorParameter.Severity, \"\");\n                }\n                if (!GAValidator.validateLongString(message, true)) {\n                    GALogger.w(\"Validation fail - error event - message: Message cannot be above 8192 characters.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.ErrorEvent, EGASdkErrorAction.InvalidLongString, EGASdkErrorParameter.Message, message);\n                }\n                return null;\n            };\n            GAValidator.validateAdEvent = function (adAction, adType, adSdkName, adPlacement) {\n                if (adAction == gameanalytics.EGAAdAction.Undefined) {\n                    GALogger.w(\"Validation fail - error event - severity: Severity was unsupported value.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.AdEvent, EGASdkErrorAction.InvalidAdAction, EGASdkErrorParameter.AdAction, \"\");\n                }\n                if (adType == gameanalytics.EGAAdType.Undefined) {\n                    GALogger.w(\"Validation fail - ad event - adType: Ad type was unsupported value.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.AdEvent, EGASdkErrorAction.InvalidAdType, EGASdkErrorParameter.AdType, \"\");\n                }\n                if (!GAValidator.validateShortString(adSdkName, false)) {\n                    GALogger.w(\"Validation fail - ad event - message: Ad SDK name cannot be above 32 characters.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.AdEvent, EGASdkErrorAction.InvalidShortString, EGASdkErrorParameter.AdSdkName, adSdkName);\n                }\n                if (!GAValidator.validateString(adPlacement, false)) {\n                    GALogger.w(\"Validation fail - ad event - message: Ad placement cannot be above 64 characters.\");\n                    return new ValidationResult(EGASdkErrorCategory.EventValidation, EGASdkErrorArea.AdEvent, EGASdkErrorAction.InvalidString, EGASdkErrorParameter.AdPlacement, adPlacement);\n                }\n                return null;\n            };\n            GAValidator.validateSdkErrorEvent = function (gameKey, gameSecret, category, area, action) {\n                if (!GAValidator.validateKeys(gameKey, gameSecret)) {\n                    return false;\n                }\n                if (category === EGASdkErrorCategory.Undefined) {\n                    GALogger.w(\"Validation fail - sdk error event - type: Category was unsupported value.\");\n                    return false;\n                }\n                if (area === EGASdkErrorArea.Undefined) {\n                    GALogger.w(\"Validation fail - sdk error event - type: Area was unsupported value.\");\n                    return false;\n                }\n                if (action === EGASdkErrorAction.Undefined) {\n                    GALogger.w(\"Validation fail - sdk error event - type: Action was unsupported value.\");\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateKeys = function (gameKey, gameSecret) {\n                if (GAUtilities.stringMatch(gameKey, /^[A-z0-9]{32}$/)) {\n                    if (GAUtilities.stringMatch(gameSecret, /^[A-z0-9]{40}$/)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            GAValidator.validateCurrency = function (currency) {\n                if (!currency) {\n                    return false;\n                }\n                if (!GAUtilities.stringMatch(currency, /^[A-Z]{3}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateEventPartLength = function (eventPart, allowNull) {\n                if (allowNull && !eventPart) {\n                    return true;\n                }\n                if (!eventPart) {\n                    return false;\n                }\n                if (eventPart.length > 64) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateEventPartCharacters = function (eventPart) {\n                if (!GAUtilities.stringMatch(eventPart, /^[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateEventIdLength = function (eventId) {\n                if (!eventId) {\n                    return false;\n                }\n                if (!GAUtilities.stringMatch(eventId, /^[^:]{1,64}(?::[^:]{1,64}){0,4}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateEventIdCharacters = function (eventId) {\n                if (!eventId) {\n                    return false;\n                }\n                if (!GAUtilities.stringMatch(eventId, /^[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}(:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}){0,4}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateAndCleanInitRequestResponse = function (initResponse, configsCreated) {\n                if (initResponse == null) {\n                    GALogger.w(\"validateInitRequestResponse failed - no response dictionary.\");\n                    return null;\n                }\n                var validatedDict = {};\n                try {\n                    var serverTsNumber = initResponse[\"server_ts\"];\n                    if (serverTsNumber > 0) {\n                        validatedDict[\"server_ts\"] = serverTsNumber;\n                    }\n                    else {\n                        GALogger.w(\"validateInitRequestResponse failed - invalid value in 'server_ts' field.\");\n                        return null;\n                    }\n                }\n                catch (e) {\n                    GALogger.w(\"validateInitRequestResponse failed - invalid type in 'server_ts' field. type=\" + typeof initResponse[\"server_ts\"] + \", value=\" + initResponse[\"server_ts\"] + \", \" + e);\n                    return null;\n                }\n                if (configsCreated) {\n                    try {\n                        var configurations = initResponse[\"configs\"];\n                        validatedDict[\"configs\"] = configurations;\n                    }\n                    catch (e) {\n                        GALogger.w(\"validateInitRequestResponse failed - invalid type in 'configs' field. type=\" + typeof initResponse[\"configs\"] + \", value=\" + initResponse[\"configs\"] + \", \" + e);\n                        return null;\n                    }\n                    try {\n                        var configs_hash = initResponse[\"configs_hash\"];\n                        validatedDict[\"configs_hash\"] = configs_hash;\n                    }\n                    catch (e) {\n                        GALogger.w(\"validateInitRequestResponse failed - invalid type in 'configs_hash' field. type=\" + typeof initResponse[\"configs_hash\"] + \", value=\" + initResponse[\"configs_hash\"] + \", \" + e);\n                        return null;\n                    }\n                    try {\n                        var ab_id = initResponse[\"ab_id\"];\n                        validatedDict[\"ab_id\"] = ab_id;\n                    }\n                    catch (e) {\n                        GALogger.w(\"validateInitRequestResponse failed - invalid type in 'ab_id' field. type=\" + typeof initResponse[\"ab_id\"] + \", value=\" + initResponse[\"ab_id\"] + \", \" + e);\n                        return null;\n                    }\n                    try {\n                        var ab_variant_id = initResponse[\"ab_variant_id\"];\n                        validatedDict[\"ab_variant_id\"] = ab_variant_id;\n                    }\n                    catch (e) {\n                        GALogger.w(\"validateInitRequestResponse failed - invalid type in 'ab_variant_id' field. type=\" + typeof initResponse[\"ab_variant_id\"] + \", value=\" + initResponse[\"ab_variant_id\"] + \", \" + e);\n                        return null;\n                    }\n                }\n                return validatedDict;\n            };\n            GAValidator.validateBuild = function (build) {\n                if (!GAValidator.validateShortString(build, false)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateSdkWrapperVersion = function (wrapperVersion) {\n                if (!GAUtilities.stringMatch(wrapperVersion, /^(unity|unreal|gamemaker|cocos2d|construct|defold|godot) [0-9]{0,5}(\\.[0-9]{0,5}){0,2}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateEngineVersion = function (engineVersion) {\n                if (!engineVersion || !GAUtilities.stringMatch(engineVersion, /^(unity|unreal|gamemaker|cocos2d|construct|defold|godot) [0-9]{0,5}(\\.[0-9]{0,5}){0,2}$/)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateUserId = function (uId) {\n                if (!GAValidator.validateString(uId, false)) {\n                    GALogger.w(\"Validation fail - user id: id cannot be (null), empty or above 64 characters.\");\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateShortString = function (shortString, canBeEmpty) {\n                if (canBeEmpty && !shortString) {\n                    return true;\n                }\n                if (!shortString || shortString.length > 32) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateString = function (s, canBeEmpty) {\n                if (canBeEmpty && !s) {\n                    return true;\n                }\n                if (!s || s.length > 64) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateLongString = function (longString, canBeEmpty) {\n                if (canBeEmpty && !longString) {\n                    return true;\n                }\n                if (!longString || longString.length > 8192) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateConnectionType = function (connectionType) {\n                return GAUtilities.stringMatch(connectionType, /^(wwan|wifi|lan|offline)$/);\n            };\n            GAValidator.validateCustomDimensions = function (customDimensions) {\n                return GAValidator.validateArrayOfStrings(20, 32, false, \"custom dimensions\", customDimensions);\n            };\n            GAValidator.validateResourceCurrencies = function (resourceCurrencies) {\n                if (!GAValidator.validateArrayOfStrings(20, 64, false, \"resource currencies\", resourceCurrencies)) {\n                    return false;\n                }\n                for (var i = 0; i < resourceCurrencies.length; ++i) {\n                    if (!GAUtilities.stringMatch(resourceCurrencies[i], /^[A-Za-z]+$/)) {\n                        GALogger.w(\"resource currencies validation failed: a resource currency can only be A-Z, a-z. String was: \" + resourceCurrencies[i]);\n                        return false;\n                    }\n                }\n                return true;\n            };\n            GAValidator.validateResourceItemTypes = function (resourceItemTypes) {\n                if (!GAValidator.validateArrayOfStrings(20, 32, false, \"resource item types\", resourceItemTypes)) {\n                    return false;\n                }\n                for (var i = 0; i < resourceItemTypes.length; ++i) {\n                    if (!GAValidator.validateEventPartCharacters(resourceItemTypes[i])) {\n                        GALogger.w(\"resource item types validation failed: a resource item type cannot contain other characters than A-z, 0-9, -_., ()!?. String was: \" + resourceItemTypes[i]);\n                        return false;\n                    }\n                }\n                return true;\n            };\n            GAValidator.validateDimension01 = function (dimension01, availableDimensions) {\n                if (!dimension01) {\n                    return true;\n                }\n                if (!GAUtilities.stringArrayContainsString(availableDimensions, dimension01)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateDimension02 = function (dimension02, availableDimensions) {\n                if (!dimension02) {\n                    return true;\n                }\n                if (!GAUtilities.stringArrayContainsString(availableDimensions, dimension02)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateDimension03 = function (dimension03, availableDimensions) {\n                if (!dimension03) {\n                    return true;\n                }\n                if (!GAUtilities.stringArrayContainsString(availableDimensions, dimension03)) {\n                    return false;\n                }\n                return true;\n            };\n            GAValidator.validateArrayOfStrings = function (maxCount, maxStringLength, allowNoValues, logTag, arrayOfStrings) {\n                var arrayTag = logTag;\n                if (!arrayTag) {\n                    arrayTag = \"Array\";\n                }\n                if (!arrayOfStrings) {\n                    GALogger.w(arrayTag + \" validation failed: array cannot be null. \");\n                    return false;\n                }\n                if (allowNoValues == false && arrayOfStrings.length == 0) {\n                    GALogger.w(arrayTag + \" validation failed: array cannot be empty. \");\n                    return false;\n                }\n                if (maxCount > 0 && arrayOfStrings.length > maxCount) {\n                    GALogger.w(arrayTag + \" validation failed: array cannot exceed \" + maxCount + \" values. It has \" + arrayOfStrings.length + \" values.\");\n                    return false;\n                }\n                for (var i = 0; i < arrayOfStrings.length; ++i) {\n                    var stringLength = !arrayOfStrings[i] ? 0 : arrayOfStrings[i].length;\n                    if (stringLength === 0) {\n                        GALogger.w(arrayTag + \" validation failed: contained an empty string. Array=\" + JSON.stringify(arrayOfStrings));\n                        return false;\n                    }\n                    if (maxStringLength > 0 && stringLength > maxStringLength) {\n                        GALogger.w(arrayTag + \" validation failed: a string exceeded max allowed length (which is: \" + maxStringLength + \"). String was: \" + arrayOfStrings[i]);\n                        return false;\n                    }\n                }\n                return true;\n            };\n            GAValidator.validateClientTs = function (clientTs) {\n                if (clientTs < (-4294967295 + 1) || clientTs > (4294967295 - 1)) {\n                    return false;\n                }\n                return true;\n            };\n            return GAValidator;\n        }());\n        validators.GAValidator = GAValidator;\n    })(validators = gameanalytics.validators || (gameanalytics.validators = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var device;\n    (function (device) {\n        var NameValueVersion = (function () {\n            function NameValueVersion(name, value, version) {\n                this.name = name;\n                this.value = value;\n                this.version = version;\n            }\n            return NameValueVersion;\n        }());\n        device.NameValueVersion = NameValueVersion;\n        var NameVersion = (function () {\n            function NameVersion(name, version) {\n                this.name = name;\n                this.version = version;\n            }\n            return NameVersion;\n        }());\n        device.NameVersion = NameVersion;\n        var GADevice = (function () {\n            function GADevice() {\n            }\n            GADevice.touch = function () {\n            };\n            GADevice.getRelevantSdkVersion = function () {\n                if (GADevice.sdkGameEngineVersion) {\n                    return GADevice.sdkGameEngineVersion;\n                }\n                return GADevice.sdkWrapperVersion;\n            };\n            GADevice.getConnectionType = function () {\n                return GADevice.connectionType;\n            };\n            GADevice.updateConnectionType = function () {\n                if (navigator.onLine) {\n                    if (GADevice.buildPlatform === \"ios\" || GADevice.buildPlatform === \"android\") {\n                        GADevice.connectionType = \"wwan\";\n                    }\n                    else {\n                        GADevice.connectionType = \"lan\";\n                    }\n                }\n                else {\n                    GADevice.connectionType = \"offline\";\n                }\n            };\n            GADevice.getOSVersionString = function () {\n                return GADevice.buildPlatform + \" \" + GADevice.osVersionPair.version;\n            };\n            GADevice.runtimePlatformToString = function () {\n                return GADevice.osVersionPair.name;\n            };\n            GADevice.getBrowserVersionString = function () {\n                var ua = navigator.userAgent;\n                var tem;\n                var M = ua.match(/(opera|chrome|safari|firefox|ubrowser|msie|trident|fbav(?=\\/))\\/?\\s*(\\d+)/i) || [];\n                if (M.length == 0) {\n                    if (GADevice.buildPlatform === \"ios\") {\n                        return \"webkit_\" + GADevice.osVersion;\n                    }\n                }\n                if (/trident/i.test(M[1])) {\n                    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n                    return 'IE ' + (tem[1] || '');\n                }\n                if (M[1] === 'Chrome') {\n                    tem = ua.match(/\\b(OPR|Edge|UBrowser)\\/(\\d+)/);\n                    if (tem != null) {\n                        return tem.slice(1).join(' ').replace('OPR', 'Opera').replace('UBrowser', 'UC').toLowerCase();\n                    }\n                }\n                if (M[1] && M[1].toLowerCase() === 'fbav') {\n                    M[1] = \"facebook\";\n                    if (M[2]) {\n                        return \"facebook \" + M[2];\n                    }\n                }\n                var MString = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\n                if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n                    MString.splice(1, 1, tem[1]);\n                }\n                return MString.join(' ').toLowerCase();\n            };\n            GADevice.getDeviceModel = function () {\n                var result = \"unknown\";\n                return result;\n            };\n            GADevice.getDeviceManufacturer = function () {\n                var result = \"unknown\";\n                return result;\n            };\n            GADevice.matchItem = function (agent, data) {\n                var result = new NameVersion(\"unknown\", \"0.0.0\");\n                var i = 0;\n                var j = 0;\n                var regex;\n                var regexv;\n                var match;\n                var matches;\n                var mathcesResult;\n                var version;\n                for (i = 0; i < data.length; i += 1) {\n                    regex = new RegExp(data[i].value, 'i');\n                    match = regex.test(agent);\n                    if (match) {\n                        regexv = new RegExp(data[i].version + '[- /:;]([\\\\d._]+)', 'i');\n                        matches = agent.match(regexv);\n                        version = '';\n                        if (matches) {\n                            if (matches[1]) {\n                                mathcesResult = matches[1];\n                            }\n                        }\n                        if (mathcesResult) {\n                            var matchesArray = mathcesResult.split(/[._]+/);\n                            for (j = 0; j < Math.min(matchesArray.length, 3); j += 1) {\n                                version += matchesArray[j] + (j < Math.min(matchesArray.length, 3) - 1 ? '.' : '');\n                            }\n                        }\n                        else {\n                            version = '0.0.0';\n                        }\n                        result.name = data[i].name;\n                        result.version = version;\n                        return result;\n                    }\n                }\n                return result;\n            };\n            GADevice.sdkWrapperVersion = \"javascript 4.1.4\";\n            GADevice.osVersionPair = GADevice.matchItem([\n                navigator.platform,\n                navigator.userAgent,\n                navigator.appVersion,\n                navigator.vendor\n            ].join(' '), [\n                new NameValueVersion(\"windows_phone\", \"Windows Phone\", \"OS\"),\n                new NameValueVersion(\"windows\", \"Win\", \"NT\"),\n                new NameValueVersion(\"ios\", \"iPhone\", \"OS\"),\n                new NameValueVersion(\"ios\", \"iPad\", \"OS\"),\n                new NameValueVersion(\"ios\", \"iPod\", \"OS\"),\n                new NameValueVersion(\"android\", \"Android\", \"Android\"),\n                new NameValueVersion(\"blackBerry\", \"BlackBerry\", \"/\"),\n                new NameValueVersion(\"mac_osx\", \"Mac\", \"OS X\"),\n                new NameValueVersion(\"tizen\", \"Tizen\", \"Tizen\"),\n                new NameValueVersion(\"linux\", \"Linux\", \"rv\"),\n                new NameValueVersion(\"kai_os\", \"KAIOS\", \"KAIOS\")\n            ]);\n            GADevice.buildPlatform = GADevice.runtimePlatformToString();\n            GADevice.deviceModel = GADevice.getDeviceModel();\n            GADevice.deviceManufacturer = GADevice.getDeviceManufacturer();\n            GADevice.osVersion = GADevice.getOSVersionString();\n            GADevice.browserVersion = GADevice.getBrowserVersionString();\n            return GADevice;\n        }());\n        device.GADevice = GADevice;\n    })(device = gameanalytics.device || (gameanalytics.device = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var threading;\n    (function (threading) {\n        var TimedBlock = (function () {\n            function TimedBlock(deadline) {\n                this.deadline = deadline;\n                this.ignore = false;\n                this.async = false;\n                this.running = false;\n                this.id = ++TimedBlock.idCounter;\n            }\n            TimedBlock.idCounter = 0;\n            return TimedBlock;\n        }());\n        threading.TimedBlock = TimedBlock;\n    })(threading = gameanalytics.threading || (gameanalytics.threading = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var threading;\n    (function (threading) {\n        var PriorityQueue = (function () {\n            function PriorityQueue(priorityComparer) {\n                this.comparer = priorityComparer;\n                this._subQueues = {};\n                this._sortedKeys = [];\n            }\n            PriorityQueue.prototype.enqueue = function (priority, item) {\n                if (this._sortedKeys.indexOf(priority) === -1) {\n                    this.addQueueOfPriority(priority);\n                }\n                this._subQueues[priority].push(item);\n            };\n            PriorityQueue.prototype.addQueueOfPriority = function (priority) {\n                var _this = this;\n                this._sortedKeys.push(priority);\n                this._sortedKeys.sort(function (x, y) { return _this.comparer.compare(x, y); });\n                this._subQueues[priority] = [];\n            };\n            PriorityQueue.prototype.peek = function () {\n                if (this.hasItems()) {\n                    return this._subQueues[this._sortedKeys[0]][0];\n                }\n                else {\n                    throw new Error(\"The queue is empty\");\n                }\n            };\n            PriorityQueue.prototype.hasItems = function () {\n                return this._sortedKeys.length > 0;\n            };\n            PriorityQueue.prototype.dequeue = function () {\n                if (this.hasItems()) {\n                    return this.dequeueFromHighPriorityQueue();\n                }\n                else {\n                    throw new Error(\"The queue is empty\");\n                }\n            };\n            PriorityQueue.prototype.dequeueFromHighPriorityQueue = function () {\n                var firstKey = this._sortedKeys[0];\n                var nextItem = this._subQueues[firstKey].shift();\n                if (this._subQueues[firstKey].length === 0) {\n                    this._sortedKeys.shift();\n                    delete this._subQueues[firstKey];\n                }\n                return nextItem;\n            };\n            return PriorityQueue;\n        }());\n        threading.PriorityQueue = PriorityQueue;\n    })(threading = gameanalytics.threading || (gameanalytics.threading = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var store;\n    (function (store_1) {\n        var GALogger = gameanalytics.logging.GALogger;\n        var EGAStoreArgsOperator;\n        (function (EGAStoreArgsOperator) {\n            EGAStoreArgsOperator[EGAStoreArgsOperator[\"Equal\"] = 0] = \"Equal\";\n            EGAStoreArgsOperator[EGAStoreArgsOperator[\"LessOrEqual\"] = 1] = \"LessOrEqual\";\n            EGAStoreArgsOperator[EGAStoreArgsOperator[\"NotEqual\"] = 2] = \"NotEqual\";\n        })(EGAStoreArgsOperator = store_1.EGAStoreArgsOperator || (store_1.EGAStoreArgsOperator = {}));\n        var EGAStore;\n        (function (EGAStore) {\n            EGAStore[EGAStore[\"Events\"] = 0] = \"Events\";\n            EGAStore[EGAStore[\"Sessions\"] = 1] = \"Sessions\";\n            EGAStore[EGAStore[\"Progression\"] = 2] = \"Progression\";\n        })(EGAStore = store_1.EGAStore || (store_1.EGAStore = {}));\n        var GAStore = (function () {\n            function GAStore() {\n                this.eventsStore = [];\n                this.sessionsStore = [];\n                this.progressionStore = [];\n                this.storeItems = {};\n                try {\n                    if (typeof localStorage === 'object') {\n                        localStorage.setItem('testingLocalStorage', 'yes');\n                        localStorage.removeItem('testingLocalStorage');\n                        GAStore.storageAvailable = true;\n                    }\n                    else {\n                        GAStore.storageAvailable = false;\n                    }\n                }\n                catch (e) {\n                }\n            }\n            GAStore.isStorageAvailable = function () {\n                return GAStore.storageAvailable;\n            };\n            GAStore.isStoreTooLargeForEvents = function () {\n                return GAStore.instance.eventsStore.length + GAStore.instance.sessionsStore.length > GAStore.MaxNumberOfEntries;\n            };\n            GAStore.select = function (store, args, sort, maxCount) {\n                if (args === void 0) { args = []; }\n                if (sort === void 0) { sort = false; }\n                if (maxCount === void 0) { maxCount = 0; }\n                var currentStore = GAStore.getStore(store);\n                if (!currentStore) {\n                    return null;\n                }\n                var result = [];\n                for (var i = 0; i < currentStore.length; ++i) {\n                    var entry = currentStore[i];\n                    var add = true;\n                    for (var j = 0; j < args.length; ++j) {\n                        var argsEntry = args[j];\n                        if (entry[argsEntry[0]]) {\n                            switch (argsEntry[1]) {\n                                case EGAStoreArgsOperator.Equal:\n                                    {\n                                        add = entry[argsEntry[0]] == argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.LessOrEqual:\n                                    {\n                                        add = entry[argsEntry[0]] <= argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.NotEqual:\n                                    {\n                                        add = entry[argsEntry[0]] != argsEntry[2];\n                                    }\n                                    break;\n                                default:\n                                    {\n                                        add = false;\n                                    }\n                                    break;\n                            }\n                        }\n                        else {\n                            add = false;\n                        }\n                        if (!add) {\n                            break;\n                        }\n                    }\n                    if (add) {\n                        result.push(entry);\n                    }\n                }\n                if (sort) {\n                    result.sort(function (a, b) {\n                        return a[\"client_ts\"] - b[\"client_ts\"];\n                    });\n                }\n                if (maxCount > 0 && result.length > maxCount) {\n                    result = result.slice(0, maxCount + 1);\n                }\n                return result;\n            };\n            GAStore.update = function (store, setArgs, whereArgs) {\n                if (whereArgs === void 0) { whereArgs = []; }\n                var currentStore = GAStore.getStore(store);\n                if (!currentStore) {\n                    return false;\n                }\n                for (var i = 0; i < currentStore.length; ++i) {\n                    var entry = currentStore[i];\n                    var update = true;\n                    for (var j = 0; j < whereArgs.length; ++j) {\n                        var argsEntry = whereArgs[j];\n                        if (entry[argsEntry[0]]) {\n                            switch (argsEntry[1]) {\n                                case EGAStoreArgsOperator.Equal:\n                                    {\n                                        update = entry[argsEntry[0]] == argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.LessOrEqual:\n                                    {\n                                        update = entry[argsEntry[0]] <= argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.NotEqual:\n                                    {\n                                        update = entry[argsEntry[0]] != argsEntry[2];\n                                    }\n                                    break;\n                                default:\n                                    {\n                                        update = false;\n                                    }\n                                    break;\n                            }\n                        }\n                        else {\n                            update = false;\n                        }\n                        if (!update) {\n                            break;\n                        }\n                    }\n                    if (update) {\n                        for (var j = 0; j < setArgs.length; ++j) {\n                            var setArgsEntry = setArgs[j];\n                            entry[setArgsEntry[0]] = setArgsEntry[1];\n                        }\n                    }\n                }\n                return true;\n            };\n            GAStore[\"delete\"] = function (store, args) {\n                var currentStore = GAStore.getStore(store);\n                if (!currentStore) {\n                    return;\n                }\n                for (var i = 0; i < currentStore.length; ++i) {\n                    var entry = currentStore[i];\n                    var del = true;\n                    for (var j = 0; j < args.length; ++j) {\n                        var argsEntry = args[j];\n                        if (entry[argsEntry[0]]) {\n                            switch (argsEntry[1]) {\n                                case EGAStoreArgsOperator.Equal:\n                                    {\n                                        del = entry[argsEntry[0]] == argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.LessOrEqual:\n                                    {\n                                        del = entry[argsEntry[0]] <= argsEntry[2];\n                                    }\n                                    break;\n                                case EGAStoreArgsOperator.NotEqual:\n                                    {\n                                        del = entry[argsEntry[0]] != argsEntry[2];\n                                    }\n                                    break;\n                                default:\n                                    {\n                                        del = false;\n                                    }\n                                    break;\n                            }\n                        }\n                        else {\n                            del = false;\n                        }\n                        if (!del) {\n                            break;\n                        }\n                    }\n                    if (del) {\n                        currentStore.splice(i, 1);\n                        --i;\n                    }\n                }\n            };\n            GAStore.insert = function (store, newEntry, replace, replaceKey) {\n                if (replace === void 0) { replace = false; }\n                if (replaceKey === void 0) { replaceKey = null; }\n                var currentStore = GAStore.getStore(store);\n                if (!currentStore) {\n                    return;\n                }\n                if (replace) {\n                    if (!replaceKey) {\n                        return;\n                    }\n                    var replaced = false;\n                    for (var i = 0; i < currentStore.length; ++i) {\n                        var entry = currentStore[i];\n                        if (entry[replaceKey] == newEntry[replaceKey]) {\n                            for (var s in newEntry) {\n                                entry[s] = newEntry[s];\n                            }\n                            replaced = true;\n                            break;\n                        }\n                    }\n                    if (!replaced) {\n                        currentStore.push(newEntry);\n                    }\n                }\n                else {\n                    currentStore.push(newEntry);\n                }\n            };\n            GAStore.save = function (gameKey) {\n                if (!GAStore.isStorageAvailable()) {\n                    GALogger.w(\"Storage is not available, cannot save.\");\n                    return;\n                }\n                localStorage.setItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.EventsStoreKey), JSON.stringify(GAStore.instance.eventsStore));\n                localStorage.setItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.SessionsStoreKey), JSON.stringify(GAStore.instance.sessionsStore));\n                localStorage.setItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.ProgressionStoreKey), JSON.stringify(GAStore.instance.progressionStore));\n                localStorage.setItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.ItemsStoreKey), JSON.stringify(GAStore.instance.storeItems));\n            };\n            GAStore.load = function (gameKey) {\n                if (!GAStore.isStorageAvailable()) {\n                    GALogger.w(\"Storage is not available, cannot load.\");\n                    return;\n                }\n                try {\n                    GAStore.instance.eventsStore = JSON.parse(localStorage.getItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.EventsStoreKey)));\n                    if (!GAStore.instance.eventsStore) {\n                        GAStore.instance.eventsStore = [];\n                    }\n                }\n                catch (e) {\n                    GALogger.w(\"Load failed for 'events' store. Using empty store.\");\n                    GAStore.instance.eventsStore = [];\n                }\n                try {\n                    GAStore.instance.sessionsStore = JSON.parse(localStorage.getItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.SessionsStoreKey)));\n                    if (!GAStore.instance.sessionsStore) {\n                        GAStore.instance.sessionsStore = [];\n                    }\n                }\n                catch (e) {\n                    GALogger.w(\"Load failed for 'sessions' store. Using empty store.\");\n                    GAStore.instance.sessionsStore = [];\n                }\n                try {\n                    GAStore.instance.progressionStore = JSON.parse(localStorage.getItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.ProgressionStoreKey)));\n                    if (!GAStore.instance.progressionStore) {\n                        GAStore.instance.progressionStore = [];\n                    }\n                }\n                catch (e) {\n                    GALogger.w(\"Load failed for 'progression' store. Using empty store.\");\n                    GAStore.instance.progressionStore = [];\n                }\n                try {\n                    GAStore.instance.storeItems = JSON.parse(localStorage.getItem(GAStore.StringFormat(GAStore.KeyFormat, gameKey, GAStore.ItemsStoreKey)));\n                    if (!GAStore.instance.storeItems) {\n                        GAStore.instance.storeItems = {};\n                    }\n                }\n                catch (e) {\n                    GALogger.w(\"Load failed for 'items' store. Using empty store.\");\n                    GAStore.instance.progressionStore = [];\n                }\n            };\n            GAStore.setItem = function (gameKey, key, value) {\n                var keyWithPrefix = GAStore.StringFormat(GAStore.KeyFormat, gameKey, key);\n                if (!value) {\n                    if (keyWithPrefix in GAStore.instance.storeItems) {\n                        delete GAStore.instance.storeItems[keyWithPrefix];\n                    }\n                }\n                else {\n                    GAStore.instance.storeItems[keyWithPrefix] = value;\n                }\n            };\n            GAStore.getItem = function (gameKey, key) {\n                var keyWithPrefix = GAStore.StringFormat(GAStore.KeyFormat, gameKey, key);\n                if (keyWithPrefix in GAStore.instance.storeItems) {\n                    return GAStore.instance.storeItems[keyWithPrefix];\n                }\n                else {\n                    return null;\n                }\n            };\n            GAStore.getStore = function (store) {\n                switch (store) {\n                    case EGAStore.Events:\n                        {\n                            return GAStore.instance.eventsStore;\n                        }\n                    case EGAStore.Sessions:\n                        {\n                            return GAStore.instance.sessionsStore;\n                        }\n                    case EGAStore.Progression:\n                        {\n                            return GAStore.instance.progressionStore;\n                        }\n                    default:\n                        {\n                            GALogger.w(\"GAStore.getStore(): Cannot find store: \" + store);\n                            return null;\n                        }\n                }\n            };\n            GAStore.instance = new GAStore();\n            GAStore.MaxNumberOfEntries = 2000;\n            GAStore.StringFormat = function (str) {\n                var args = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    args[_i - 1] = arguments[_i];\n                }\n                return str.replace(/{(\\d+)}/g, function (_, index) { return args[index] || ''; });\n            };\n            GAStore.KeyFormat = \"GA::{0}::{1}\";\n            GAStore.EventsStoreKey = \"ga_event\";\n            GAStore.SessionsStoreKey = \"ga_session\";\n            GAStore.ProgressionStoreKey = \"ga_progression\";\n            GAStore.ItemsStoreKey = \"ga_items\";\n            return GAStore;\n        }());\n        store_1.GAStore = GAStore;\n    })(store = gameanalytics.store || (gameanalytics.store = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var state;\n    (function (state) {\n        var GAValidator = gameanalytics.validators.GAValidator;\n        var GAUtilities = gameanalytics.utilities.GAUtilities;\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAStore = gameanalytics.store.GAStore;\n        var GADevice = gameanalytics.device.GADevice;\n        var EGAStore = gameanalytics.store.EGAStore;\n        var EGAStoreArgsOperator = gameanalytics.store.EGAStoreArgsOperator;\n        var GAState = (function () {\n            function GAState() {\n                this.availableCustomDimensions01 = [];\n                this.availableCustomDimensions02 = [];\n                this.availableCustomDimensions03 = [];\n                this.availableResourceCurrencies = [];\n                this.availableResourceItemTypes = [];\n                this.configurations = {};\n                this.remoteConfigsListeners = [];\n                this.sdkConfigDefault = {};\n                this.sdkConfig = {};\n                this.progressionTries = {};\n                this._isEventSubmissionEnabled = true;\n            }\n            GAState.setUserId = function (userId) {\n                GAState.instance.userId = userId;\n                GAState.cacheIdentifier();\n            };\n            GAState.getIdentifier = function () {\n                return GAState.instance.identifier;\n            };\n            GAState.isInitialized = function () {\n                return GAState.instance.initialized;\n            };\n            GAState.setInitialized = function (value) {\n                GAState.instance.initialized = value;\n            };\n            GAState.getSessionStart = function () {\n                return GAState.instance.sessionStart;\n            };\n            GAState.getSessionNum = function () {\n                return GAState.instance.sessionNum;\n            };\n            GAState.getTransactionNum = function () {\n                return GAState.instance.transactionNum;\n            };\n            GAState.getSessionId = function () {\n                return GAState.instance.sessionId;\n            };\n            GAState.getCurrentCustomDimension01 = function () {\n                return GAState.instance.currentCustomDimension01;\n            };\n            GAState.getCurrentCustomDimension02 = function () {\n                return GAState.instance.currentCustomDimension02;\n            };\n            GAState.getCurrentCustomDimension03 = function () {\n                return GAState.instance.currentCustomDimension03;\n            };\n            GAState.getGameKey = function () {\n                return GAState.instance.gameKey;\n            };\n            GAState.getGameSecret = function () {\n                return GAState.instance.gameSecret;\n            };\n            GAState.getAvailableCustomDimensions01 = function () {\n                return GAState.instance.availableCustomDimensions01;\n            };\n            GAState.setAvailableCustomDimensions01 = function (value) {\n                if (!GAValidator.validateCustomDimensions(value)) {\n                    return;\n                }\n                GAState.instance.availableCustomDimensions01 = value;\n                GAState.validateAndFixCurrentDimensions();\n                GALogger.i(\"Set available custom01 dimension values: (\" + GAUtilities.joinStringArray(value, \", \") + \")\");\n            };\n            GAState.getAvailableCustomDimensions02 = function () {\n                return GAState.instance.availableCustomDimensions02;\n            };\n            GAState.setAvailableCustomDimensions02 = function (value) {\n                if (!GAValidator.validateCustomDimensions(value)) {\n                    return;\n                }\n                GAState.instance.availableCustomDimensions02 = value;\n                GAState.validateAndFixCurrentDimensions();\n                GALogger.i(\"Set available custom02 dimension values: (\" + GAUtilities.joinStringArray(value, \", \") + \")\");\n            };\n            GAState.getAvailableCustomDimensions03 = function () {\n                return GAState.instance.availableCustomDimensions03;\n            };\n            GAState.setAvailableCustomDimensions03 = function (value) {\n                if (!GAValidator.validateCustomDimensions(value)) {\n                    return;\n                }\n                GAState.instance.availableCustomDimensions03 = value;\n                GAState.validateAndFixCurrentDimensions();\n                GALogger.i(\"Set available custom03 dimension values: (\" + GAUtilities.joinStringArray(value, \", \") + \")\");\n            };\n            GAState.getAvailableResourceCurrencies = function () {\n                return GAState.instance.availableResourceCurrencies;\n            };\n            GAState.setAvailableResourceCurrencies = function (value) {\n                if (!GAValidator.validateResourceCurrencies(value)) {\n                    return;\n                }\n                GAState.instance.availableResourceCurrencies = value;\n                GALogger.i(\"Set available resource currencies: (\" + GAUtilities.joinStringArray(value, \", \") + \")\");\n            };\n            GAState.getAvailableResourceItemTypes = function () {\n                return GAState.instance.availableResourceItemTypes;\n            };\n            GAState.setAvailableResourceItemTypes = function (value) {\n                if (!GAValidator.validateResourceItemTypes(value)) {\n                    return;\n                }\n                GAState.instance.availableResourceItemTypes = value;\n                GALogger.i(\"Set available resource item types: (\" + GAUtilities.joinStringArray(value, \", \") + \")\");\n            };\n            GAState.getBuild = function () {\n                return GAState.instance.build;\n            };\n            GAState.setBuild = function (value) {\n                GAState.instance.build = value;\n                GALogger.i(\"Set build version: \" + value);\n            };\n            GAState.getUseManualSessionHandling = function () {\n                return GAState.instance.useManualSessionHandling;\n            };\n            GAState.isEventSubmissionEnabled = function () {\n                return GAState.instance._isEventSubmissionEnabled;\n            };\n            GAState.getABTestingId = function () {\n                return GAState.instance.abId;\n            };\n            GAState.getABTestingVariantId = function () {\n                return GAState.instance.abVariantId;\n            };\n            GAState.prototype.setDefaultId = function (value) {\n                this.defaultUserId = !value ? \"\" : value;\n                GAState.cacheIdentifier();\n            };\n            GAState.getDefaultId = function () {\n                return GAState.instance.defaultUserId;\n            };\n            GAState.getSdkConfig = function () {\n                {\n                    var first;\n                    var count = 0;\n                    for (var json in GAState.instance.sdkConfig) {\n                        if (count === 0) {\n                            first = json;\n                        }\n                        ++count;\n                    }\n                    if (first && count > 0) {\n                        return GAState.instance.sdkConfig;\n                    }\n                }\n                {\n                    var first;\n                    var count = 0;\n                    for (var json in GAState.instance.sdkConfigCached) {\n                        if (count === 0) {\n                            first = json;\n                        }\n                        ++count;\n                    }\n                    if (first && count > 0) {\n                        return GAState.instance.sdkConfigCached;\n                    }\n                }\n                return GAState.instance.sdkConfigDefault;\n            };\n            GAState.isEnabled = function () {\n                if (!GAState.instance.initAuthorized) {\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            };\n            GAState.setCustomDimension01 = function (dimension) {\n                GAState.instance.currentCustomDimension01 = dimension;\n                GAStore.setItem(GAState.getGameKey(), GAState.Dimension01Key, dimension);\n                GALogger.i(\"Set custom01 dimension value: \" + dimension);\n            };\n            GAState.setCustomDimension02 = function (dimension) {\n                GAState.instance.currentCustomDimension02 = dimension;\n                GAStore.setItem(GAState.getGameKey(), GAState.Dimension02Key, dimension);\n                GALogger.i(\"Set custom02 dimension value: \" + dimension);\n            };\n            GAState.setCustomDimension03 = function (dimension) {\n                GAState.instance.currentCustomDimension03 = dimension;\n                GAStore.setItem(GAState.getGameKey(), GAState.Dimension03Key, dimension);\n                GALogger.i(\"Set custom03 dimension value: \" + dimension);\n            };\n            GAState.incrementSessionNum = function () {\n                var sessionNumInt = GAState.getSessionNum() + 1;\n                GAState.instance.sessionNum = sessionNumInt;\n            };\n            GAState.incrementTransactionNum = function () {\n                var transactionNumInt = GAState.getTransactionNum() + 1;\n                GAState.instance.transactionNum = transactionNumInt;\n            };\n            GAState.incrementProgressionTries = function (progression) {\n                var tries = GAState.getProgressionTries(progression) + 1;\n                GAState.instance.progressionTries[progression] = tries;\n                var values = {};\n                values[\"progression\"] = progression;\n                values[\"tries\"] = tries;\n                GAStore.insert(EGAStore.Progression, values, true, \"progression\");\n            };\n            GAState.getProgressionTries = function (progression) {\n                if (progression in GAState.instance.progressionTries) {\n                    return GAState.instance.progressionTries[progression];\n                }\n                else {\n                    return 0;\n                }\n            };\n            GAState.clearProgressionTries = function (progression) {\n                if (progression in GAState.instance.progressionTries) {\n                    delete GAState.instance.progressionTries[progression];\n                }\n                var parms = [];\n                parms.push([\"progression\", EGAStoreArgsOperator.Equal, progression]);\n                GAStore[\"delete\"](EGAStore.Progression, parms);\n            };\n            GAState.setKeys = function (gameKey, gameSecret) {\n                GAState.instance.gameKey = gameKey;\n                GAState.instance.gameSecret = gameSecret;\n            };\n            GAState.setManualSessionHandling = function (flag) {\n                GAState.instance.useManualSessionHandling = flag;\n                GALogger.i(\"Use manual session handling: \" + flag);\n            };\n            GAState.setEnabledEventSubmission = function (flag) {\n                GAState.instance._isEventSubmissionEnabled = flag;\n            };\n            GAState.getEventAnnotations = function () {\n                var annotations = {};\n                annotations[\"v\"] = 2;\n                annotations[\"user_id\"] = GAState.instance.identifier;\n                annotations[\"client_ts\"] = GAState.getClientTsAdjusted();\n                annotations[\"sdk_version\"] = GADevice.getRelevantSdkVersion();\n                annotations[\"os_version\"] = GADevice.osVersion;\n                annotations[\"manufacturer\"] = GADevice.deviceManufacturer;\n                annotations[\"device\"] = GADevice.deviceModel;\n                annotations[\"browser_version\"] = GADevice.browserVersion;\n                annotations[\"platform\"] = GADevice.buildPlatform;\n                annotations[\"session_id\"] = GAState.instance.sessionId;\n                annotations[GAState.SessionNumKey] = GAState.instance.sessionNum;\n                var connection_type = GADevice.getConnectionType();\n                if (GAValidator.validateConnectionType(connection_type)) {\n                    annotations[\"connection_type\"] = connection_type;\n                }\n                if (GADevice.gameEngineVersion) {\n                    annotations[\"engine_version\"] = GADevice.gameEngineVersion;\n                }\n                if (GAState.instance.configurations) {\n                    var count = 0;\n                    for (var _ in GAState.instance.configurations) {\n                        count++;\n                        break;\n                    }\n                    if (count > 0) {\n                        annotations[\"configurations\"] = GAState.instance.configurations;\n                    }\n                }\n                if (GAState.instance.abId) {\n                    annotations[\"ab_id\"] = GAState.instance.abId;\n                }\n                if (GAState.instance.abVariantId) {\n                    annotations[\"ab_variant_id\"] = GAState.instance.abVariantId;\n                }\n                if (GAState.instance.build) {\n                    annotations[\"build\"] = GAState.instance.build;\n                }\n                return annotations;\n            };\n            GAState.getSdkErrorEventAnnotations = function () {\n                var annotations = {};\n                annotations[\"v\"] = 2;\n                annotations[\"category\"] = GAState.CategorySdkError;\n                annotations[\"sdk_version\"] = GADevice.getRelevantSdkVersion();\n                annotations[\"os_version\"] = GADevice.osVersion;\n                annotations[\"manufacturer\"] = GADevice.deviceManufacturer;\n                annotations[\"device\"] = GADevice.deviceModel;\n                annotations[\"platform\"] = GADevice.buildPlatform;\n                var connection_type = GADevice.getConnectionType();\n                if (GAValidator.validateConnectionType(connection_type)) {\n                    annotations[\"connection_type\"] = connection_type;\n                }\n                if (GADevice.gameEngineVersion) {\n                    annotations[\"engine_version\"] = GADevice.gameEngineVersion;\n                }\n                return annotations;\n            };\n            GAState.getInitAnnotations = function () {\n                var initAnnotations = {};\n                if (!GAState.getIdentifier()) {\n                    GAState.cacheIdentifier();\n                }\n                initAnnotations[\"user_id\"] = GAState.getIdentifier();\n                initAnnotations[\"sdk_version\"] = GADevice.getRelevantSdkVersion();\n                initAnnotations[\"os_version\"] = GADevice.osVersion;\n                initAnnotations[\"platform\"] = GADevice.buildPlatform;\n                if (GAState.getBuild()) {\n                    initAnnotations[\"build\"] = GAState.getBuild();\n                }\n                else {\n                    initAnnotations[\"build\"] = null;\n                }\n                initAnnotations[\"session_num\"] = GAState.getSessionNum();\n                initAnnotations[\"random_salt\"] = GAState.getSessionNum();\n                return initAnnotations;\n            };\n            GAState.getClientTsAdjusted = function () {\n                var clientTs = GAUtilities.timeIntervalSince1970();\n                var clientTsAdjustedInteger = clientTs + GAState.instance.clientServerTimeOffset;\n                if (GAValidator.validateClientTs(clientTsAdjustedInteger)) {\n                    return clientTsAdjustedInteger;\n                }\n                else {\n                    return clientTs;\n                }\n            };\n            GAState.sessionIsStarted = function () {\n                return GAState.instance.sessionStart != 0;\n            };\n            GAState.cacheIdentifier = function () {\n                if (GAState.instance.userId) {\n                    GAState.instance.identifier = GAState.instance.userId;\n                }\n                else if (GAState.instance.defaultUserId) {\n                    GAState.instance.identifier = GAState.instance.defaultUserId;\n                }\n            };\n            GAState.ensurePersistedStates = function () {\n                if (GAStore.isStorageAvailable()) {\n                    GAStore.load(GAState.getGameKey());\n                }\n                var instance = GAState.instance;\n                instance.setDefaultId(GAStore.getItem(GAState.getGameKey(), GAState.DefaultUserIdKey) != null ? GAStore.getItem(GAState.getGameKey(), GAState.DefaultUserIdKey) : GAUtilities.createGuid());\n                instance.sessionNum = GAStore.getItem(GAState.getGameKey(), GAState.SessionNumKey) != null ? Number(GAStore.getItem(GAState.getGameKey(), GAState.SessionNumKey)) : 0.0;\n                instance.transactionNum = GAStore.getItem(GAState.getGameKey(), GAState.TransactionNumKey) != null ? Number(GAStore.getItem(GAState.getGameKey(), GAState.TransactionNumKey)) : 0.0;\n                if (instance.currentCustomDimension01) {\n                    GAStore.setItem(GAState.getGameKey(), GAState.Dimension01Key, instance.currentCustomDimension01);\n                }\n                else {\n                    instance.currentCustomDimension01 = GAStore.getItem(GAState.getGameKey(), GAState.Dimension01Key) != null ? GAStore.getItem(GAState.getGameKey(), GAState.Dimension01Key) : \"\";\n                    if (instance.currentCustomDimension01) {\n                    }\n                }\n                if (instance.currentCustomDimension02) {\n                    GAStore.setItem(GAState.getGameKey(), GAState.Dimension02Key, instance.currentCustomDimension02);\n                }\n                else {\n                    instance.currentCustomDimension02 = GAStore.getItem(GAState.getGameKey(), GAState.Dimension02Key) != null ? GAStore.getItem(GAState.getGameKey(), GAState.Dimension02Key) : \"\";\n                    if (instance.currentCustomDimension02) {\n                    }\n                }\n                if (instance.currentCustomDimension03) {\n                    GAStore.setItem(GAState.getGameKey(), GAState.Dimension03Key, instance.currentCustomDimension03);\n                }\n                else {\n                    instance.currentCustomDimension03 = GAStore.getItem(GAState.getGameKey(), GAState.Dimension03Key) != null ? GAStore.getItem(GAState.getGameKey(), GAState.Dimension03Key) : \"\";\n                    if (instance.currentCustomDimension03) {\n                    }\n                }\n                var sdkConfigCachedString = GAStore.getItem(GAState.getGameKey(), GAState.SdkConfigCachedKey) != null ? GAStore.getItem(GAState.getGameKey(), GAState.SdkConfigCachedKey) : \"\";\n                if (sdkConfigCachedString) {\n                    var sdkConfigCached = JSON.parse(GAUtilities.decode64(sdkConfigCachedString));\n                    if (sdkConfigCached) {\n                        instance.sdkConfigCached = sdkConfigCached;\n                    }\n                }\n                {\n                    var currentSdkConfig = GAState.getSdkConfig();\n                    instance.configsHash = currentSdkConfig[\"configs_hash\"] ? currentSdkConfig[\"configs_hash\"] : \"\";\n                    instance.abId = currentSdkConfig[\"ab_id\"] ? currentSdkConfig[\"ab_id\"] : \"\";\n                    instance.abVariantId = currentSdkConfig[\"ab_variant_id\"] ? currentSdkConfig[\"ab_variant_id\"] : \"\";\n                }\n                var results_ga_progression = GAStore.select(EGAStore.Progression);\n                if (results_ga_progression) {\n                    for (var i = 0; i < results_ga_progression.length; ++i) {\n                        var result = results_ga_progression[i];\n                        if (result) {\n                            instance.progressionTries[result[\"progression\"]] = result[\"tries\"];\n                        }\n                    }\n                }\n            };\n            GAState.calculateServerTimeOffset = function (serverTs) {\n                var clientTs = GAUtilities.timeIntervalSince1970();\n                return serverTs - clientTs;\n            };\n            GAState.validateAndCleanCustomFields = function (fields) {\n                var result = {};\n                if (fields) {\n                    var count = 0;\n                    for (var key in fields) {\n                        var value = fields[key];\n                        if (!key || !value) {\n                            GALogger.w(\"validateAndCleanCustomFields: entry with key=\" + key + \", value=\" + value + \" has been omitted because its key or value is null\");\n                        }\n                        else if (count < GAState.MAX_CUSTOM_FIELDS_COUNT) {\n                            var regex = new RegExp(\"^[a-zA-Z0-9_]{1,\" + GAState.MAX_CUSTOM_FIELDS_KEY_LENGTH + \"}$\");\n                            if (GAUtilities.stringMatch(key, regex)) {\n                                var type = typeof value;\n                                if (type === \"string\" || value instanceof String) {\n                                    var valueAsString = value;\n                                    if (valueAsString.length <= GAState.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH && valueAsString.length > 0) {\n                                        result[key] = valueAsString;\n                                        ++count;\n                                    }\n                                    else {\n                                        GALogger.w(\"validateAndCleanCustomFields: entry with key=\" + key + \", value=\" + value + \" has been omitted because its value is an empty string or exceeds the max number of characters (\" + GAState.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH + \")\");\n                                    }\n                                }\n                                else if (type === \"number\" || value instanceof Number) {\n                                    var valueAsNumber = value;\n                                    result[key] = valueAsNumber;\n                                    ++count;\n                                }\n                                else {\n                                    GALogger.w(\"validateAndCleanCustomFields: entry with key=\" + key + \", value=\" + value + \" has been omitted because its value is not a string or number\");\n                                }\n                            }\n                            else {\n                                GALogger.w(\"validateAndCleanCustomFields: entry with key=\" + key + \", value=\" + value + \" has been omitted because its key contains illegal character, is empty or exceeds the max number of characters (\" + GAState.MAX_CUSTOM_FIELDS_KEY_LENGTH + \")\");\n                            }\n                        }\n                        else {\n                            GALogger.w(\"validateAndCleanCustomFields: entry with key=\" + key + \", value=\" + value + \" has been omitted because it exceeds the max number of custom fields (\" + GAState.MAX_CUSTOM_FIELDS_COUNT + \")\");\n                        }\n                    }\n                }\n                return result;\n            };\n            GAState.validateAndFixCurrentDimensions = function () {\n                if (!GAValidator.validateDimension01(GAState.getCurrentCustomDimension01(), GAState.getAvailableCustomDimensions01())) {\n                    GAState.setCustomDimension01(\"\");\n                }\n                if (!GAValidator.validateDimension02(GAState.getCurrentCustomDimension02(), GAState.getAvailableCustomDimensions02())) {\n                    GAState.setCustomDimension02(\"\");\n                }\n                if (!GAValidator.validateDimension03(GAState.getCurrentCustomDimension03(), GAState.getAvailableCustomDimensions03())) {\n                    GAState.setCustomDimension03(\"\");\n                }\n            };\n            GAState.getConfigurationStringValue = function (key, defaultValue) {\n                if (GAState.instance.configurations[key]) {\n                    return GAState.instance.configurations[key].toString();\n                }\n                else {\n                    return defaultValue;\n                }\n            };\n            GAState.isRemoteConfigsReady = function () {\n                return GAState.instance.remoteConfigsIsReady;\n            };\n            GAState.addRemoteConfigsListener = function (listener) {\n                if (GAState.instance.remoteConfigsListeners.indexOf(listener) < 0) {\n                    GAState.instance.remoteConfigsListeners.push(listener);\n                }\n            };\n            GAState.removeRemoteConfigsListener = function (listener) {\n                var index = GAState.instance.remoteConfigsListeners.indexOf(listener);\n                if (index > -1) {\n                    GAState.instance.remoteConfigsListeners.splice(index, 1);\n                }\n            };\n            GAState.getRemoteConfigsContentAsString = function () {\n                return JSON.stringify(GAState.instance.configurations);\n            };\n            GAState.populateConfigurations = function (sdkConfig) {\n                var configurations = sdkConfig[\"configs\"];\n                if (configurations) {\n                    GAState.instance.configurations = {};\n                    for (var i = 0; i < configurations.length; ++i) {\n                        var configuration = configurations[i];\n                        if (configuration) {\n                            var key = configuration[\"key\"];\n                            var value = configuration[\"value\"];\n                            var start_ts = configuration[\"start_ts\"] ? configuration[\"start_ts\"] : Number.MIN_VALUE;\n                            var end_ts = configuration[\"end_ts\"] ? configuration[\"end_ts\"] : Number.MAX_VALUE;\n                            var client_ts_adjusted = GAState.getClientTsAdjusted();\n                            if (key && value && client_ts_adjusted > start_ts && client_ts_adjusted < end_ts) {\n                                GAState.instance.configurations[key] = value;\n                            }\n                        }\n                    }\n                }\n                GAState.instance.remoteConfigsIsReady = true;\n                var listeners = GAState.instance.remoteConfigsListeners;\n                for (var i = 0; i < listeners.length; ++i) {\n                    if (listeners[i]) {\n                        listeners[i].onRemoteConfigsUpdated();\n                    }\n                }\n            };\n            GAState.CategorySdkError = \"sdk_error\";\n            GAState.MAX_CUSTOM_FIELDS_COUNT = 50;\n            GAState.MAX_CUSTOM_FIELDS_KEY_LENGTH = 64;\n            GAState.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH = 256;\n            GAState.instance = new GAState();\n            GAState.DefaultUserIdKey = \"default_user_id\";\n            GAState.SessionNumKey = \"session_num\";\n            GAState.TransactionNumKey = \"transaction_num\";\n            GAState.Dimension01Key = \"dimension01\";\n            GAState.Dimension02Key = \"dimension02\";\n            GAState.Dimension03Key = \"dimension03\";\n            GAState.SdkConfigCachedKey = \"sdk_config_cached\";\n            return GAState;\n        }());\n        state.GAState = GAState;\n    })(state = gameanalytics.state || (gameanalytics.state = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var tasks;\n    (function (tasks) {\n        var GAUtilities = gameanalytics.utilities.GAUtilities;\n        var GALogger = gameanalytics.logging.GALogger;\n        var SdkErrorTask = (function () {\n            function SdkErrorTask() {\n            }\n            SdkErrorTask.execute = function (url, type, payloadData, secretKey) {\n                var now = new Date();\n                if (!SdkErrorTask.timestampMap[type]) {\n                    SdkErrorTask.timestampMap[type] = now;\n                }\n                if (!SdkErrorTask.countMap[type]) {\n                    SdkErrorTask.countMap[type] = 0;\n                }\n                var diff = now.getTime() - SdkErrorTask.timestampMap[type].getTime();\n                var diffSeconds = diff / 1000;\n                if (diffSeconds >= 3600) {\n                    SdkErrorTask.timestampMap[type] = now;\n                    SdkErrorTask.countMap[type] = 0;\n                }\n                if (SdkErrorTask.countMap[type] >= SdkErrorTask.MaxCount) {\n                    return;\n                }\n                var hashHmac = GAUtilities.getHmac(secretKey, payloadData);\n                var request = new XMLHttpRequest();\n                request.onreadystatechange = function () {\n                    if (request.readyState === 4) {\n                        if (!request.responseText) {\n                            return;\n                        }\n                        if (request.status != 200) {\n                            GALogger.w(\"sdk error failed. response code not 200. status code: \" + request.status + \", description: \" + request.statusText + \", body: \" + request.responseText);\n                            return;\n                        }\n                        else {\n                            SdkErrorTask.countMap[type] = SdkErrorTask.countMap[type] + 1;\n                        }\n                    }\n                };\n                request.open(\"POST\", url, true);\n                request.setRequestHeader(\"Content-Type\", \"application/json\");\n                request.setRequestHeader(\"Authorization\", hashHmac);\n                try {\n                    request.send(payloadData);\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            };\n            SdkErrorTask.MaxCount = 10;\n            SdkErrorTask.countMap = {};\n            SdkErrorTask.timestampMap = {};\n            return SdkErrorTask;\n        }());\n        tasks.SdkErrorTask = SdkErrorTask;\n    })(tasks = gameanalytics.tasks || (gameanalytics.tasks = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var http;\n    (function (http) {\n        var GAState = gameanalytics.state.GAState;\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAUtilities = gameanalytics.utilities.GAUtilities;\n        var GAValidator = gameanalytics.validators.GAValidator;\n        var SdkErrorTask = gameanalytics.tasks.SdkErrorTask;\n        var EGASdkErrorCategory = gameanalytics.events.EGASdkErrorCategory;\n        var EGASdkErrorArea = gameanalytics.events.EGASdkErrorArea;\n        var EGASdkErrorAction = gameanalytics.events.EGASdkErrorAction;\n        var EGASdkErrorParameter = gameanalytics.events.EGASdkErrorParameter;\n        var GAHTTPApi = (function () {\n            function GAHTTPApi() {\n                this.protocol = \"https\";\n                this.hostName = \"api.gameanalytics.com\";\n                this.version = \"v2\";\n                this.remoteConfigsVersion = \"v1\";\n                this.baseUrl = this.protocol + \"://\" + this.hostName + \"/\" + this.version;\n                this.remoteConfigsBaseUrl = this.protocol + \"://\" + this.hostName + \"/remote_configs/\" + this.remoteConfigsVersion;\n                this.initializeUrlPath = \"init\";\n                this.eventsUrlPath = \"events\";\n                this.useGzip = false;\n            }\n            GAHTTPApi.prototype.requestInit = function (configsHash, callback) {\n                var gameKey = GAState.getGameKey();\n                var url = this.remoteConfigsBaseUrl + \"/\" + this.initializeUrlPath + \"?game_key=\" + gameKey + \"&interval_seconds=0&configs_hash=\" + configsHash;\n                var initAnnotations = GAState.getInitAnnotations();\n                var JSONstring = JSON.stringify(initAnnotations);\n                if (!JSONstring) {\n                    callback(http.EGAHTTPApiResponse.JsonEncodeFailed, null);\n                    return;\n                }\n                var payloadData = this.createPayloadData(JSONstring, this.useGzip);\n                var extraArgs = [];\n                extraArgs.push(JSONstring);\n                GAHTTPApi.sendRequest(url, payloadData, extraArgs, this.useGzip, GAHTTPApi.initRequestCallback, callback);\n            };\n            GAHTTPApi.prototype.sendEventsInArray = function (eventArray, requestId, callback) {\n                if (eventArray.length == 0) {\n                    return;\n                }\n                var gameKey = GAState.getGameKey();\n                var url = this.baseUrl + \"/\" + gameKey + \"/\" + this.eventsUrlPath;\n                var JSONstring = JSON.stringify(eventArray);\n                if (!JSONstring) {\n                    callback(http.EGAHTTPApiResponse.JsonEncodeFailed, null, requestId, eventArray.length);\n                    return;\n                }\n                var payloadData = this.createPayloadData(JSONstring, this.useGzip);\n                var extraArgs = [];\n                extraArgs.push(JSONstring);\n                extraArgs.push(requestId);\n                extraArgs.push(eventArray.length.toString());\n                GAHTTPApi.sendRequest(url, payloadData, extraArgs, this.useGzip, GAHTTPApi.sendEventInArrayRequestCallback, callback);\n            };\n            GAHTTPApi.prototype.sendSdkErrorEvent = function (category, area, action, parameter, reason, gameKey, secretKey) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                if (!GAValidator.validateSdkErrorEvent(gameKey, secretKey, category, area, action)) {\n                    return;\n                }\n                var url = this.baseUrl + \"/\" + gameKey + \"/\" + this.eventsUrlPath;\n                var payloadJSONString = \"\";\n                var errorType = \"\";\n                var json = GAState.getSdkErrorEventAnnotations();\n                var categoryString = GAHTTPApi.sdkErrorCategoryString(category);\n                json[\"error_category\"] = categoryString;\n                errorType += categoryString;\n                var areaString = GAHTTPApi.sdkErrorAreaString(area);\n                json[\"error_area\"] = areaString;\n                errorType += \":\" + areaString;\n                var actionString = GAHTTPApi.sdkErrorActionString(action);\n                json[\"error_action\"] = actionString;\n                var parameterString = GAHTTPApi.sdkErrorParameterString(parameter);\n                if (parameterString.length > 0) {\n                    json[\"error_parameter\"] = parameterString;\n                }\n                if (reason.length > 0) {\n                    var reasonTrimmed = reason;\n                    if (reason.length > GAHTTPApi.MAX_ERROR_MESSAGE_LENGTH) {\n                        var reasonTrimmed = reason.substring(0, GAHTTPApi.MAX_ERROR_MESSAGE_LENGTH);\n                    }\n                    json[\"reason\"] = reasonTrimmed;\n                }\n                var eventArray = [];\n                eventArray.push(json);\n                payloadJSONString = JSON.stringify(eventArray);\n                if (!payloadJSONString) {\n                    GALogger.w(\"sendSdkErrorEvent: JSON encoding failed.\");\n                    return;\n                }\n                SdkErrorTask.execute(url, errorType, payloadJSONString, secretKey);\n            };\n            GAHTTPApi.sendEventInArrayRequestCallback = function (request, url, callback, extra) {\n                if (extra === void 0) { extra = null; }\n                var authorization = extra[0];\n                var JSONstring = extra[1];\n                var requestId = extra[2];\n                var eventCount = parseInt(extra[3]);\n                var body = \"\";\n                var responseCode = 0;\n                body = request.responseText;\n                responseCode = request.status;\n                var requestResponseEnum = GAHTTPApi.instance.processRequestResponse(responseCode, request.statusText, body, \"Events\");\n                if (requestResponseEnum != http.EGAHTTPApiResponse.Ok && requestResponseEnum != http.EGAHTTPApiResponse.Created && requestResponseEnum != http.EGAHTTPApiResponse.BadRequest) {\n                    callback(requestResponseEnum, null, requestId, eventCount);\n                    return;\n                }\n                var requestJsonDict = body ? JSON.parse(body) : {};\n                if (requestJsonDict == null) {\n                    callback(http.EGAHTTPApiResponse.JsonDecodeFailed, null, requestId, eventCount);\n                    GAHTTPApi.instance.sendSdkErrorEvent(EGASdkErrorCategory.Http, EGASdkErrorArea.EventsHttp, EGASdkErrorAction.FailHttpJsonDecode, EGASdkErrorParameter.Undefined, body, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                if (requestResponseEnum == http.EGAHTTPApiResponse.BadRequest) {\n                }\n                callback(requestResponseEnum, requestJsonDict, requestId, eventCount);\n            };\n            GAHTTPApi.sendRequest = function (url, payloadData, extraArgs, gzip, callback, callback2) {\n                var request = new XMLHttpRequest();\n                var key = GAState.getGameSecret();\n                var authorization = GAUtilities.getHmac(key, payloadData);\n                var args = [];\n                args.push(authorization);\n                for (var s in extraArgs) {\n                    args.push(extraArgs[s]);\n                }\n                request.onreadystatechange = function () {\n                    if (request.readyState === 4) {\n                        callback(request, url, callback2, args);\n                    }\n                };\n                request.open(\"POST\", url, true);\n                request.setRequestHeader(\"Content-Type\", \"application/json\");\n                request.setRequestHeader(\"Authorization\", authorization);\n                if (gzip) {\n                    throw new Error(\"gzip not supported\");\n                }\n                try {\n                    request.send(payloadData);\n                }\n                catch (e) {\n                    console.error(e.stack);\n                }\n            };\n            GAHTTPApi.initRequestCallback = function (request, url, callback, extra) {\n                if (extra === void 0) { extra = null; }\n                var authorization = extra[0];\n                var JSONstring = extra[1];\n                var body = \"\";\n                var responseCode = 0;\n                body = request.responseText;\n                responseCode = request.status;\n                var requestJsonDict = body ? JSON.parse(body) : {};\n                var requestResponseEnum = GAHTTPApi.instance.processRequestResponse(responseCode, request.statusText, body, \"Init\");\n                if (requestResponseEnum != http.EGAHTTPApiResponse.Ok && requestResponseEnum != http.EGAHTTPApiResponse.Created && requestResponseEnum != http.EGAHTTPApiResponse.BadRequest) {\n                    callback(requestResponseEnum, null, \"\", 0);\n                    return;\n                }\n                if (requestJsonDict == null) {\n                    callback(http.EGAHTTPApiResponse.JsonDecodeFailed, null, \"\", 0);\n                    GAHTTPApi.instance.sendSdkErrorEvent(EGASdkErrorCategory.Http, EGASdkErrorArea.InitHttp, EGASdkErrorAction.FailHttpJsonDecode, EGASdkErrorParameter.Undefined, body, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                if (requestResponseEnum === http.EGAHTTPApiResponse.BadRequest) {\n                    callback(requestResponseEnum, null, \"\", 0);\n                    return;\n                }\n                var validatedInitValues = GAValidator.validateAndCleanInitRequestResponse(requestJsonDict, requestResponseEnum === http.EGAHTTPApiResponse.Created);\n                if (!validatedInitValues) {\n                    callback(http.EGAHTTPApiResponse.BadResponse, null, \"\", 0);\n                    return;\n                }\n                callback(requestResponseEnum, validatedInitValues, \"\", 0);\n            };\n            GAHTTPApi.prototype.createPayloadData = function (payload, gzip) {\n                var payloadData;\n                if (gzip) {\n                    throw new Error(\"gzip not supported\");\n                }\n                else {\n                    payloadData = payload;\n                }\n                return payloadData;\n            };\n            GAHTTPApi.prototype.processRequestResponse = function (responseCode, responseMessage, body, requestId) {\n                if (!body) {\n                    return http.EGAHTTPApiResponse.NoResponse;\n                }\n                if (responseCode === 200) {\n                    return http.EGAHTTPApiResponse.Ok;\n                }\n                if (responseCode === 201) {\n                    return http.EGAHTTPApiResponse.Created;\n                }\n                if (responseCode === 0 || responseCode === 401) {\n                    return http.EGAHTTPApiResponse.Unauthorized;\n                }\n                if (responseCode === 400) {\n                    return http.EGAHTTPApiResponse.BadRequest;\n                }\n                if (responseCode === 500) {\n                    return http.EGAHTTPApiResponse.InternalServerError;\n                }\n                return http.EGAHTTPApiResponse.UnknownResponseCode;\n            };\n            GAHTTPApi.sdkErrorCategoryString = function (value) {\n                switch (value) {\n                    case EGASdkErrorCategory.EventValidation:\n                        return \"event_validation\";\n                    case EGASdkErrorCategory.Database:\n                        return \"db\";\n                    case EGASdkErrorCategory.Init:\n                        return \"init\";\n                    case EGASdkErrorCategory.Http:\n                        return \"http\";\n                    case EGASdkErrorCategory.Json:\n                        return \"json\";\n                    default:\n                        break;\n                }\n                return \"\";\n            };\n            GAHTTPApi.sdkErrorAreaString = function (value) {\n                switch (value) {\n                    case EGASdkErrorArea.BusinessEvent:\n                        return \"business\";\n                    case EGASdkErrorArea.ResourceEvent:\n                        return \"resource\";\n                    case EGASdkErrorArea.ProgressionEvent:\n                        return \"progression\";\n                    case EGASdkErrorArea.DesignEvent:\n                        return \"design\";\n                    case EGASdkErrorArea.ErrorEvent:\n                        return \"error\";\n                    case EGASdkErrorArea.InitHttp:\n                        return \"init_http\";\n                    case EGASdkErrorArea.EventsHttp:\n                        return \"events_http\";\n                    case EGASdkErrorArea.ProcessEvents:\n                        return \"process_events\";\n                    case EGASdkErrorArea.AddEventsToStore:\n                        return \"add_events_to_store\";\n                    default:\n                        break;\n                }\n                return \"\";\n            };\n            GAHTTPApi.sdkErrorActionString = function (value) {\n                switch (value) {\n                    case EGASdkErrorAction.InvalidCurrency:\n                        return \"invalid_currency\";\n                    case EGASdkErrorAction.InvalidShortString:\n                        return \"invalid_short_string\";\n                    case EGASdkErrorAction.InvalidEventPartLength:\n                        return \"invalid_event_part_length\";\n                    case EGASdkErrorAction.InvalidEventPartCharacters:\n                        return \"invalid_event_part_characters\";\n                    case EGASdkErrorAction.InvalidStore:\n                        return \"invalid_store\";\n                    case EGASdkErrorAction.InvalidFlowType:\n                        return \"invalid_flow_type\";\n                    case EGASdkErrorAction.StringEmptyOrNull:\n                        return \"string_empty_or_null\";\n                    case EGASdkErrorAction.NotFoundInAvailableCurrencies:\n                        return \"not_found_in_available_currencies\";\n                    case EGASdkErrorAction.InvalidAmount:\n                        return \"invalid_amount\";\n                    case EGASdkErrorAction.NotFoundInAvailableItemTypes:\n                        return \"not_found_in_available_item_types\";\n                    case EGASdkErrorAction.WrongProgressionOrder:\n                        return \"wrong_progression_order\";\n                    case EGASdkErrorAction.InvalidEventIdLength:\n                        return \"invalid_event_id_length\";\n                    case EGASdkErrorAction.InvalidEventIdCharacters:\n                        return \"invalid_event_id_characters\";\n                    case EGASdkErrorAction.InvalidProgressionStatus:\n                        return \"invalid_progression_status\";\n                    case EGASdkErrorAction.InvalidSeverity:\n                        return \"invalid_severity\";\n                    case EGASdkErrorAction.InvalidLongString:\n                        return \"invalid_long_string\";\n                    case EGASdkErrorAction.DatabaseTooLarge:\n                        return \"db_too_large\";\n                    case EGASdkErrorAction.DatabaseOpenOrCreate:\n                        return \"db_open_or_create\";\n                    case EGASdkErrorAction.JsonError:\n                        return \"json_error\";\n                    case EGASdkErrorAction.FailHttpJsonDecode:\n                        return \"fail_http_json_decode\";\n                    case EGASdkErrorAction.FailHttpJsonEncode:\n                        return \"fail_http_json_encode\";\n                    default:\n                        break;\n                }\n                return \"\";\n            };\n            GAHTTPApi.sdkErrorParameterString = function (value) {\n                switch (value) {\n                    case EGASdkErrorParameter.Currency:\n                        return \"currency\";\n                    case EGASdkErrorParameter.CartType:\n                        return \"cart_type\";\n                    case EGASdkErrorParameter.ItemType:\n                        return \"item_type\";\n                    case EGASdkErrorParameter.ItemId:\n                        return \"item_id\";\n                    case EGASdkErrorParameter.Store:\n                        return \"store\";\n                    case EGASdkErrorParameter.FlowType:\n                        return \"flow_type\";\n                    case EGASdkErrorParameter.Amount:\n                        return \"amount\";\n                    case EGASdkErrorParameter.Progression01:\n                        return \"progression01\";\n                    case EGASdkErrorParameter.Progression02:\n                        return \"progression02\";\n                    case EGASdkErrorParameter.Progression03:\n                        return \"progression03\";\n                    case EGASdkErrorParameter.EventId:\n                        return \"event_id\";\n                    case EGASdkErrorParameter.ProgressionStatus:\n                        return \"progression_status\";\n                    case EGASdkErrorParameter.Severity:\n                        return \"severity\";\n                    case EGASdkErrorParameter.Message:\n                        return \"message\";\n                    default:\n                        break;\n                }\n                return \"\";\n            };\n            GAHTTPApi.instance = new GAHTTPApi();\n            GAHTTPApi.MAX_ERROR_MESSAGE_LENGTH = 256;\n            return GAHTTPApi;\n        }());\n        http.GAHTTPApi = GAHTTPApi;\n    })(http = gameanalytics.http || (gameanalytics.http = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var events;\n    (function (events_1) {\n        var GAStore = gameanalytics.store.GAStore;\n        var EGAStore = gameanalytics.store.EGAStore;\n        var EGAStoreArgsOperator = gameanalytics.store.EGAStoreArgsOperator;\n        var GAState = gameanalytics.state.GAState;\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAUtilities = gameanalytics.utilities.GAUtilities;\n        var EGAHTTPApiResponse = gameanalytics.http.EGAHTTPApiResponse;\n        var GAHTTPApi = gameanalytics.http.GAHTTPApi;\n        var GAValidator = gameanalytics.validators.GAValidator;\n        var GAEvents = (function () {\n            function GAEvents() {\n            }\n            GAEvents.addSessionStartEvent = function () {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var eventDict = {};\n                eventDict[\"category\"] = GAEvents.CategorySessionStart;\n                GAState.incrementSessionNum();\n                GAStore.setItem(GAState.getGameKey(), GAState.SessionNumKey, GAState.getSessionNum().toString());\n                GAEvents.addDimensionsToEvent(eventDict);\n                GAEvents.addEventToStore(eventDict);\n                GALogger.i(\"Add SESSION START event\");\n                GAEvents.processEvents(GAEvents.CategorySessionStart, false);\n            };\n            GAEvents.addSessionEndEvent = function () {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var session_start_ts = GAState.getSessionStart();\n                var client_ts_adjusted = GAState.getClientTsAdjusted();\n                var sessionLength = client_ts_adjusted - session_start_ts;\n                if (sessionLength < 0) {\n                    GALogger.w(\"Session length was calculated to be less then 0. Should not be possible. Resetting to 0.\");\n                    sessionLength = 0;\n                }\n                var eventDict = {};\n                eventDict[\"category\"] = GAEvents.CategorySessionEnd;\n                eventDict[\"length\"] = sessionLength;\n                GAEvents.addDimensionsToEvent(eventDict);\n                GAEvents.addEventToStore(eventDict);\n                GALogger.i(\"Add SESSION END event.\");\n                GAEvents.processEvents(\"\", false);\n            };\n            GAEvents.addBusinessEvent = function (currency, amount, itemType, itemId, cartType, fields) {\n                if (cartType === void 0) { cartType = null; }\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var validationResult = GAValidator.validateBusinessEvent(currency, amount, cartType, itemType, itemId);\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                var eventDict = {};\n                GAState.incrementTransactionNum();\n                GAStore.setItem(GAState.getGameKey(), GAState.TransactionNumKey, GAState.getTransactionNum().toString());\n                eventDict[\"event_id\"] = itemType + \":\" + itemId;\n                eventDict[\"category\"] = GAEvents.CategoryBusiness;\n                eventDict[\"currency\"] = currency;\n                eventDict[\"amount\"] = amount;\n                eventDict[GAState.TransactionNumKey] = GAState.getTransactionNum();\n                if (cartType) {\n                    eventDict[\"cart_type\"] = cartType;\n                }\n                GAEvents.addDimensionsToEvent(eventDict);\n                GAEvents.addFieldsToEvent(eventDict, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add BUSINESS event: {currency:\" + currency + \", amount:\" + amount + \", itemType:\" + itemType + \", itemId:\" + itemId + \", cartType:\" + cartType + \"}\");\n                GAEvents.addEventToStore(eventDict);\n            };\n            GAEvents.addResourceEvent = function (flowType, currency, amount, itemType, itemId, fields) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var validationResult = GAValidator.validateResourceEvent(flowType, currency, amount, itemType, itemId, GAState.getAvailableResourceCurrencies(), GAState.getAvailableResourceItemTypes());\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                if (flowType === gameanalytics.EGAResourceFlowType.Sink) {\n                    amount *= -1;\n                }\n                var eventDict = {};\n                var flowTypeString = GAEvents.resourceFlowTypeToString(flowType);\n                eventDict[\"event_id\"] = flowTypeString + \":\" + currency + \":\" + itemType + \":\" + itemId;\n                eventDict[\"category\"] = GAEvents.CategoryResource;\n                eventDict[\"amount\"] = amount;\n                GAEvents.addDimensionsToEvent(eventDict);\n                GAEvents.addFieldsToEvent(eventDict, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add RESOURCE event: {currency:\" + currency + \", amount:\" + amount + \", itemType:\" + itemType + \", itemId:\" + itemId + \"}\");\n                GAEvents.addEventToStore(eventDict);\n            };\n            GAEvents.addProgressionEvent = function (progressionStatus, progression01, progression02, progression03, score, sendScore, fields) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var progressionStatusString = GAEvents.progressionStatusToString(progressionStatus);\n                var validationResult = GAValidator.validateProgressionEvent(progressionStatus, progression01, progression02, progression03);\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                var eventDict = {};\n                var progressionIdentifier;\n                if (!progression02) {\n                    progressionIdentifier = progression01;\n                }\n                else if (!progression03) {\n                    progressionIdentifier = progression01 + \":\" + progression02;\n                }\n                else {\n                    progressionIdentifier = progression01 + \":\" + progression02 + \":\" + progression03;\n                }\n                eventDict[\"category\"] = GAEvents.CategoryProgression;\n                eventDict[\"event_id\"] = progressionStatusString + \":\" + progressionIdentifier;\n                var attempt_num = 0;\n                if (sendScore && progressionStatus != gameanalytics.EGAProgressionStatus.Start) {\n                    eventDict[\"score\"] = score;\n                }\n                if (progressionStatus === gameanalytics.EGAProgressionStatus.Fail) {\n                    GAState.incrementProgressionTries(progressionIdentifier);\n                }\n                if (progressionStatus === gameanalytics.EGAProgressionStatus.Complete) {\n                    GAState.incrementProgressionTries(progressionIdentifier);\n                    attempt_num = GAState.getProgressionTries(progressionIdentifier);\n                    eventDict[\"attempt_num\"] = attempt_num;\n                    GAState.clearProgressionTries(progressionIdentifier);\n                }\n                GAEvents.addDimensionsToEvent(eventDict);\n                GAEvents.addFieldsToEvent(eventDict, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add PROGRESSION event: {status:\" + progressionStatusString + \", progression01:\" + progression01 + \", progression02:\" + progression02 + \", progression03:\" + progression03 + \", score:\" + score + \", attempt:\" + attempt_num + \"}\");\n                GAEvents.addEventToStore(eventDict);\n            };\n            GAEvents.addDesignEvent = function (eventId, value, sendValue, fields) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var validationResult = GAValidator.validateDesignEvent(eventId);\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                var eventData = {};\n                eventData[\"category\"] = GAEvents.CategoryDesign;\n                eventData[\"event_id\"] = eventId;\n                if (sendValue) {\n                    eventData[\"value\"] = value;\n                }\n                GAEvents.addDimensionsToEvent(eventData);\n                GAEvents.addFieldsToEvent(eventData, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add DESIGN event: {eventId:\" + eventId + \", value:\" + value + \"}\");\n                GAEvents.addEventToStore(eventData);\n            };\n            GAEvents.addErrorEvent = function (severity, message, fields) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var severityString = GAEvents.errorSeverityToString(severity);\n                var validationResult = GAValidator.validateErrorEvent(severity, message);\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                var eventData = {};\n                eventData[\"category\"] = GAEvents.CategoryError;\n                eventData[\"severity\"] = severityString;\n                eventData[\"message\"] = message;\n                GAEvents.addDimensionsToEvent(eventData);\n                GAEvents.addFieldsToEvent(eventData, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add ERROR event: {severity:\" + severityString + \", message:\" + message + \"}\");\n                GAEvents.addEventToStore(eventData);\n            };\n            GAEvents.addAdEvent = function (adAction, adType, adSdkName, adPlacement, noAdReason, duration, sendDuration, fields) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var adActionString = GAEvents.adActionToString(adAction);\n                var adTypeString = GAEvents.adTypeToString(adType);\n                var noAdReasonString = GAEvents.adErrorToString(noAdReason);\n                var validationResult = GAValidator.validateAdEvent(adAction, adType, adSdkName, adPlacement);\n                if (validationResult != null) {\n                    GAHTTPApi.instance.sendSdkErrorEvent(validationResult.category, validationResult.area, validationResult.action, validationResult.parameter, validationResult.reason, GAState.getGameKey(), GAState.getGameSecret());\n                    return;\n                }\n                var eventData = {};\n                eventData[\"category\"] = GAEvents.CategoryAds;\n                eventData[\"ad_sdk_name\"] = adSdkName;\n                eventData[\"ad_placement\"] = adPlacement;\n                eventData[\"ad_type\"] = adTypeString;\n                eventData[\"ad_action\"] = adActionString;\n                if (adAction == gameanalytics.EGAAdAction.FailedShow && noAdReasonString.length > 0) {\n                    eventData[\"ad_fail_show_reason\"] = noAdReasonString;\n                }\n                if (sendDuration && (adType == gameanalytics.EGAAdType.RewardedVideo || adType == gameanalytics.EGAAdType.Video)) {\n                    eventData[\"ad_duration\"] = duration;\n                }\n                GAEvents.addDimensionsToEvent(eventData);\n                GAEvents.addFieldsToEvent(eventData, GAState.validateAndCleanCustomFields(fields));\n                GALogger.i(\"Add AD event: {ad_sdk_name:\" + adSdkName + \", ad_placement:\" + adPlacement + \", ad_type:\" + adTypeString + \", ad_action:\" + adActionString +\n                    ((adAction == gameanalytics.EGAAdAction.FailedShow && noAdReasonString.length > 0) ? (\", ad_fail_show_reason:\" + noAdReasonString) : \"\") +\n                    ((sendDuration && (adType == gameanalytics.EGAAdType.RewardedVideo || adType == gameanalytics.EGAAdType.Video)) ? (\", ad_duration:\" + duration) : \"\") + \"}\");\n                GAEvents.addEventToStore(eventData);\n            };\n            GAEvents.processEvents = function (category, performCleanUp) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                try {\n                    var requestIdentifier = GAUtilities.createGuid();\n                    if (performCleanUp) {\n                        GAEvents.cleanupEvents();\n                        GAEvents.fixMissingSessionEndEvents();\n                    }\n                    var selectArgs = [];\n                    selectArgs.push([\"status\", EGAStoreArgsOperator.Equal, \"new\"]);\n                    var updateWhereArgs = [];\n                    updateWhereArgs.push([\"status\", EGAStoreArgsOperator.Equal, \"new\"]);\n                    if (category) {\n                        selectArgs.push([\"category\", EGAStoreArgsOperator.Equal, category]);\n                        updateWhereArgs.push([\"category\", EGAStoreArgsOperator.Equal, category]);\n                    }\n                    var updateSetArgs = [];\n                    updateSetArgs.push([\"status\", requestIdentifier]);\n                    var events = GAStore.select(EGAStore.Events, selectArgs);\n                    if (!events || events.length == 0) {\n                        GALogger.i(\"Event queue: No events to send\");\n                        GAEvents.updateSessionStore();\n                        return;\n                    }\n                    if (events.length > GAEvents.MaxEventCount) {\n                        events = GAStore.select(EGAStore.Events, selectArgs, true, GAEvents.MaxEventCount);\n                        if (!events) {\n                            return;\n                        }\n                        var lastItem = events[events.length - 1];\n                        var lastTimestamp = lastItem[\"client_ts\"];\n                        selectArgs.push([\"client_ts\", EGAStoreArgsOperator.LessOrEqual, lastTimestamp]);\n                        events = GAStore.select(EGAStore.Events, selectArgs);\n                        if (!events) {\n                            return;\n                        }\n                        updateWhereArgs.push([\"client_ts\", EGAStoreArgsOperator.LessOrEqual, lastTimestamp]);\n                    }\n                    GALogger.i(\"Event queue: Sending \" + events.length + \" events.\");\n                    if (!GAStore.update(EGAStore.Events, updateSetArgs, updateWhereArgs)) {\n                        return;\n                    }\n                    var payloadArray = [];\n                    for (var i = 0; i < events.length; ++i) {\n                        var ev = events[i];\n                        var eventDict = JSON.parse(GAUtilities.decode64(ev[\"event\"]));\n                        if (eventDict.length != 0) {\n                            payloadArray.push(eventDict);\n                        }\n                    }\n                    GAHTTPApi.instance.sendEventsInArray(payloadArray, requestIdentifier, GAEvents.processEventsCallback);\n                }\n                catch (e) {\n                    GALogger.e(\"Error during ProcessEvents(): \" + e.stack);\n                    GAHTTPApi.instance.sendSdkErrorEvent(events_1.EGASdkErrorCategory.Json, events_1.EGASdkErrorArea.ProcessEvents, events_1.EGASdkErrorAction.JsonError, events_1.EGASdkErrorParameter.Undefined, e.stack, GAState.getGameKey(), GAState.getGameSecret());\n                }\n            };\n            GAEvents.processEventsCallback = function (responseEnum, dataDict, requestId, eventCount) {\n                var requestIdWhereArgs = [];\n                requestIdWhereArgs.push([\"status\", EGAStoreArgsOperator.Equal, requestId]);\n                if (responseEnum === EGAHTTPApiResponse.Ok) {\n                    GAStore[\"delete\"](EGAStore.Events, requestIdWhereArgs);\n                    GALogger.i(\"Event queue: \" + eventCount + \" events sent.\");\n                }\n                else {\n                    if (responseEnum === EGAHTTPApiResponse.NoResponse) {\n                        var setArgs = [];\n                        setArgs.push([\"status\", \"new\"]);\n                        GALogger.w(\"Event queue: Failed to send events to collector - Retrying next time\");\n                        GAStore.update(EGAStore.Events, setArgs, requestIdWhereArgs);\n                    }\n                    else {\n                        if (dataDict) {\n                            var json;\n                            var count = 0;\n                            for (var j in dataDict) {\n                                if (count == 0) {\n                                    json = dataDict[j];\n                                }\n                                ++count;\n                            }\n                            if (responseEnum === EGAHTTPApiResponse.BadRequest && json.constructor === Array) {\n                                GALogger.w(\"Event queue: \" + eventCount + \" events sent. \" + count + \" events failed GA server validation.\");\n                            }\n                            else {\n                                GALogger.w(\"Event queue: Failed to send events.\");\n                            }\n                        }\n                        else {\n                            GALogger.w(\"Event queue: Failed to send events.\");\n                        }\n                        GAStore[\"delete\"](EGAStore.Events, requestIdWhereArgs);\n                    }\n                }\n            };\n            GAEvents.cleanupEvents = function () {\n                GAStore.update(EGAStore.Events, [[\"status\", \"new\"]]);\n            };\n            GAEvents.fixMissingSessionEndEvents = function () {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                var args = [];\n                args.push([\"session_id\", EGAStoreArgsOperator.NotEqual, GAState.getSessionId()]);\n                var sessions = GAStore.select(EGAStore.Sessions, args);\n                if (!sessions || sessions.length == 0) {\n                    return;\n                }\n                GALogger.i(sessions.length + \" session(s) located with missing session_end event.\");\n                for (var i = 0; i < sessions.length; ++i) {\n                    var sessionEndEvent = JSON.parse(GAUtilities.decode64(sessions[i][\"event\"]));\n                    var event_ts = sessionEndEvent[\"client_ts\"];\n                    var start_ts = sessions[i][\"timestamp\"];\n                    var length = event_ts - start_ts;\n                    length = Math.max(0, length);\n                    sessionEndEvent[\"category\"] = GAEvents.CategorySessionEnd;\n                    sessionEndEvent[\"length\"] = length;\n                    GAEvents.addEventToStore(sessionEndEvent);\n                }\n            };\n            GAEvents.addEventToStore = function (eventData) {\n                if (!GAState.isEventSubmissionEnabled()) {\n                    return;\n                }\n                if (!GAState.isInitialized()) {\n                    GALogger.w(\"Could not add event: SDK is not initialized\");\n                    return;\n                }\n                try {\n                    if (GAStore.isStoreTooLargeForEvents() && !GAUtilities.stringMatch(eventData[\"category\"], /^(user|session_end|business)$/)) {\n                        GALogger.w(\"Database too large. Event has been blocked.\");\n                        GAHTTPApi.instance.sendSdkErrorEvent(events_1.EGASdkErrorCategory.Database, events_1.EGASdkErrorArea.AddEventsToStore, events_1.EGASdkErrorAction.DatabaseTooLarge, events_1.EGASdkErrorParameter.Undefined, \"\", GAState.getGameKey(), GAState.getGameSecret());\n                        return;\n                    }\n                    var ev = GAState.getEventAnnotations();\n                    var jsonDefaults = GAUtilities.encode64(JSON.stringify(ev));\n                    for (var e in eventData) {\n                        ev[e] = eventData[e];\n                    }\n                    var json = JSON.stringify(ev);\n                    GALogger.ii(\"Event added to queue: \" + json);\n                    var values = {};\n                    values[\"status\"] = \"new\";\n                    values[\"category\"] = ev[\"category\"];\n                    values[\"session_id\"] = ev[\"session_id\"];\n                    values[\"client_ts\"] = ev[\"client_ts\"];\n                    values[\"event\"] = GAUtilities.encode64(JSON.stringify(ev));\n                    GAStore.insert(EGAStore.Events, values);\n                    if (eventData[\"category\"] == GAEvents.CategorySessionEnd) {\n                        GAStore[\"delete\"](EGAStore.Sessions, [[\"session_id\", EGAStoreArgsOperator.Equal, ev[\"session_id\"]]]);\n                    }\n                    else {\n                        values = {};\n                        values[\"session_id\"] = ev[\"session_id\"];\n                        values[\"timestamp\"] = GAState.getSessionStart();\n                        values[\"event\"] = jsonDefaults;\n                        GAStore.insert(EGAStore.Sessions, values, true, \"session_id\");\n                    }\n                    if (GAStore.isStorageAvailable()) {\n                        GAStore.save(GAState.getGameKey());\n                    }\n                }\n                catch (e) {\n                    GALogger.e(\"addEventToStore: error\");\n                    GALogger.e(e.stack);\n                    GAHTTPApi.instance.sendSdkErrorEvent(events_1.EGASdkErrorCategory.Database, events_1.EGASdkErrorArea.AddEventsToStore, events_1.EGASdkErrorAction.DatabaseTooLarge, events_1.EGASdkErrorParameter.Undefined, e.stack, GAState.getGameKey(), GAState.getGameSecret());\n                }\n            };\n            GAEvents.updateSessionStore = function () {\n                if (GAState.sessionIsStarted()) {\n                    var values = {};\n                    values[\"session_id\"] = GAState.instance.sessionId;\n                    values[\"timestamp\"] = GAState.getSessionStart();\n                    values[\"event\"] = GAUtilities.encode64(JSON.stringify(GAState.getEventAnnotations()));\n                    GAStore.insert(EGAStore.Sessions, values, true, \"session_id\");\n                    if (GAStore.isStorageAvailable()) {\n                        GAStore.save(GAState.getGameKey());\n                    }\n                }\n            };\n            GAEvents.addDimensionsToEvent = function (eventData) {\n                if (!eventData) {\n                    return;\n                }\n                if (GAState.getCurrentCustomDimension01()) {\n                    eventData[\"custom_01\"] = GAState.getCurrentCustomDimension01();\n                }\n                if (GAState.getCurrentCustomDimension02()) {\n                    eventData[\"custom_02\"] = GAState.getCurrentCustomDimension02();\n                }\n                if (GAState.getCurrentCustomDimension03()) {\n                    eventData[\"custom_03\"] = GAState.getCurrentCustomDimension03();\n                }\n            };\n            GAEvents.addFieldsToEvent = function (eventData, fields) {\n                if (!eventData) {\n                    return;\n                }\n                if (fields && Object.keys(fields).length > 0) {\n                    eventData[\"custom_fields\"] = fields;\n                }\n            };\n            GAEvents.resourceFlowTypeToString = function (value) {\n                if (value == gameanalytics.EGAResourceFlowType.Source || value == gameanalytics.EGAResourceFlowType[gameanalytics.EGAResourceFlowType.Source]) {\n                    return \"Source\";\n                }\n                else if (value == gameanalytics.EGAResourceFlowType.Sink || value == gameanalytics.EGAResourceFlowType[gameanalytics.EGAResourceFlowType.Sink]) {\n                    return \"Sink\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.progressionStatusToString = function (value) {\n                if (value == gameanalytics.EGAProgressionStatus.Start || value == gameanalytics.EGAProgressionStatus[gameanalytics.EGAProgressionStatus.Start]) {\n                    return \"Start\";\n                }\n                else if (value == gameanalytics.EGAProgressionStatus.Complete || value == gameanalytics.EGAProgressionStatus[gameanalytics.EGAProgressionStatus.Complete]) {\n                    return \"Complete\";\n                }\n                else if (value == gameanalytics.EGAProgressionStatus.Fail || value == gameanalytics.EGAProgressionStatus[gameanalytics.EGAProgressionStatus.Fail]) {\n                    return \"Fail\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.errorSeverityToString = function (value) {\n                if (value == gameanalytics.EGAErrorSeverity.Debug || value == gameanalytics.EGAErrorSeverity[gameanalytics.EGAErrorSeverity.Debug]) {\n                    return \"debug\";\n                }\n                else if (value == gameanalytics.EGAErrorSeverity.Info || value == gameanalytics.EGAErrorSeverity[gameanalytics.EGAErrorSeverity.Info]) {\n                    return \"info\";\n                }\n                else if (value == gameanalytics.EGAErrorSeverity.Warning || value == gameanalytics.EGAErrorSeverity[gameanalytics.EGAErrorSeverity.Warning]) {\n                    return \"warning\";\n                }\n                else if (value == gameanalytics.EGAErrorSeverity.Error || value == gameanalytics.EGAErrorSeverity[gameanalytics.EGAErrorSeverity.Error]) {\n                    return \"error\";\n                }\n                else if (value == gameanalytics.EGAErrorSeverity.Critical || value == gameanalytics.EGAErrorSeverity[gameanalytics.EGAErrorSeverity.Critical]) {\n                    return \"critical\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.adActionToString = function (value) {\n                if (value == gameanalytics.EGAAdAction.Clicked || value == gameanalytics.EGAAdAction[gameanalytics.EGAAdAction.Clicked]) {\n                    return \"clicked\";\n                }\n                else if (value == gameanalytics.EGAAdAction.Show || value == gameanalytics.EGAAdAction[gameanalytics.EGAAdAction.Show]) {\n                    return \"show\";\n                }\n                else if (value == gameanalytics.EGAAdAction.FailedShow || value == gameanalytics.EGAAdAction[gameanalytics.EGAAdAction.FailedShow]) {\n                    return \"failed_show\";\n                }\n                else if (value == gameanalytics.EGAAdAction.RewardReceived || value == gameanalytics.EGAAdAction[gameanalytics.EGAAdAction.RewardReceived]) {\n                    return \"reward_received\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.adErrorToString = function (value) {\n                if (value == gameanalytics.EGAAdError.Unknown || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.Unknown]) {\n                    return \"unknown\";\n                }\n                else if (value == gameanalytics.EGAAdError.Offline || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.Offline]) {\n                    return \"offline\";\n                }\n                else if (value == gameanalytics.EGAAdError.NoFill || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.NoFill]) {\n                    return \"no_fill\";\n                }\n                else if (value == gameanalytics.EGAAdError.InternalError || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.InternalError]) {\n                    return \"internal_error\";\n                }\n                else if (value == gameanalytics.EGAAdError.InvalidRequest || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.InvalidRequest]) {\n                    return \"invalid_request\";\n                }\n                else if (value == gameanalytics.EGAAdError.UnableToPrecache || value == gameanalytics.EGAAdError[gameanalytics.EGAAdError.UnableToPrecache]) {\n                    return \"unable_to_precache\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.adTypeToString = function (value) {\n                if (value == gameanalytics.EGAAdType.Video || value == gameanalytics.EGAAdType[gameanalytics.EGAAdType.Video]) {\n                    return \"video\";\n                }\n                else if (value == gameanalytics.EGAAdType.RewardedVideo || value == gameanalytics.EGAAdError[gameanalytics.EGAAdType.RewardedVideo]) {\n                    return \"rewarded_video\";\n                }\n                else if (value == gameanalytics.EGAAdType.Playable || value == gameanalytics.EGAAdError[gameanalytics.EGAAdType.Playable]) {\n                    return \"playable\";\n                }\n                else if (value == gameanalytics.EGAAdType.Interstitial || value == gameanalytics.EGAAdError[gameanalytics.EGAAdType.Interstitial]) {\n                    return \"interstitial\";\n                }\n                else if (value == gameanalytics.EGAAdType.OfferWall || value == gameanalytics.EGAAdError[gameanalytics.EGAAdType.OfferWall]) {\n                    return \"offer_wall\";\n                }\n                else if (value == gameanalytics.EGAAdType.Banner || value == gameanalytics.EGAAdError[gameanalytics.EGAAdType.Banner]) {\n                    return \"banner\";\n                }\n                else {\n                    return \"\";\n                }\n            };\n            GAEvents.CategorySessionStart = \"user\";\n            GAEvents.CategorySessionEnd = \"session_end\";\n            GAEvents.CategoryDesign = \"design\";\n            GAEvents.CategoryBusiness = \"business\";\n            GAEvents.CategoryProgression = \"progression\";\n            GAEvents.CategoryResource = \"resource\";\n            GAEvents.CategoryError = \"error\";\n            GAEvents.CategoryAds = \"ads\";\n            GAEvents.MaxEventCount = 500;\n            return GAEvents;\n        }());\n        events_1.GAEvents = GAEvents;\n    })(events = gameanalytics.events || (gameanalytics.events = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var threading;\n    (function (threading) {\n        var GALogger = gameanalytics.logging.GALogger;\n        var GAState = gameanalytics.state.GAState;\n        var GAEvents = gameanalytics.events.GAEvents;\n        var GAThreading = (function () {\n            function GAThreading() {\n                this.blocks = new threading.PriorityQueue({\n                    compare: function (x, y) {\n                        return x - y;\n                    }\n                });\n                this.id2TimedBlockMap = {};\n                GAThreading.startThread();\n            }\n            GAThreading.createTimedBlock = function (delayInSeconds) {\n                if (delayInSeconds === void 0) { delayInSeconds = 0; }\n                var time = new Date();\n                time.setSeconds(time.getSeconds() + delayInSeconds);\n                var timedBlock = new threading.TimedBlock(time);\n                return timedBlock;\n            };\n            GAThreading.performTaskOnGAThread = function (taskBlock, delayInSeconds) {\n                if (delayInSeconds === void 0) { delayInSeconds = 0; }\n                var time = new Date();\n                time.setSeconds(time.getSeconds() + delayInSeconds);\n                var timedBlock = new threading.TimedBlock(time);\n                timedBlock.block = taskBlock;\n                GAThreading.instance.id2TimedBlockMap[timedBlock.id] = timedBlock;\n                GAThreading.instance.addTimedBlock(timedBlock);\n            };\n            GAThreading.performTimedBlockOnGAThread = function (timedBlock) {\n                GAThreading.instance.id2TimedBlockMap[timedBlock.id] = timedBlock;\n                GAThreading.instance.addTimedBlock(timedBlock);\n            };\n            GAThreading.scheduleTimer = function (interval, callback) {\n                var time = new Date();\n                time.setSeconds(time.getSeconds() + interval);\n                var timedBlock = new threading.TimedBlock(time);\n                timedBlock.block = callback;\n                GAThreading.instance.id2TimedBlockMap[timedBlock.id] = timedBlock;\n                GAThreading.instance.addTimedBlock(timedBlock);\n                return timedBlock.id;\n            };\n            GAThreading.getTimedBlockById = function (blockIdentifier) {\n                if (blockIdentifier in GAThreading.instance.id2TimedBlockMap) {\n                    return GAThreading.instance.id2TimedBlockMap[blockIdentifier];\n                }\n                else {\n                    return null;\n                }\n            };\n            GAThreading.ensureEventQueueIsRunning = function () {\n                GAThreading.instance.keepRunning = true;\n                if (!GAThreading.instance.isRunning) {\n                    GAThreading.instance.isRunning = true;\n                    GAThreading.scheduleTimer(GAThreading.ProcessEventsIntervalInSeconds, GAThreading.processEventQueue);\n                }\n            };\n            GAThreading.endSessionAndStopQueue = function () {\n                if (GAState.isInitialized()) {\n                    GALogger.i(\"Ending session.\");\n                    GAThreading.stopEventQueue();\n                    if (GAState.isEnabled() && GAState.sessionIsStarted()) {\n                        GAEvents.addSessionEndEvent();\n                        GAState.instance.sessionStart = 0;\n                    }\n                }\n            };\n            GAThreading.stopEventQueue = function () {\n                GAThreading.instance.keepRunning = false;\n            };\n            GAThreading.ignoreTimer = function (blockIdentifier) {\n                if (blockIdentifier in GAThreading.instance.id2TimedBlockMap) {\n                    GAThreading.instance.id2TimedBlockMap[blockIdentifier].ignore = true;\n                }\n            };\n            GAThreading.setEventProcessInterval = function (interval) {\n                if (interval > 0) {\n                    GAThreading.ProcessEventsIntervalInSeconds = interval;\n                }\n            };\n            GAThreading.prototype.addTimedBlock = function (timedBlock) {\n                this.blocks.enqueue(timedBlock.deadline.getTime(), timedBlock);\n            };\n            GAThreading.run = function () {\n                clearTimeout(GAThreading.runTimeoutId);\n                try {\n                    var timedBlock;\n                    while ((timedBlock = GAThreading.getNextBlock())) {\n                        if (!timedBlock.ignore) {\n                            if (timedBlock.async) {\n                                if (!timedBlock.running) {\n                                    timedBlock.running = true;\n                                    timedBlock.block();\n                                    break;\n                                }\n                            }\n                            else {\n                                timedBlock.block();\n                            }\n                        }\n                    }\n                    GAThreading.runTimeoutId = setTimeout(GAThreading.run, GAThreading.ThreadWaitTimeInMs);\n                    return;\n                }\n                catch (e) {\n                    GALogger.e(\"Error on GA thread\");\n                    GALogger.e(e.stack);\n                }\n            };\n            GAThreading.startThread = function () {\n                GAThreading.runTimeoutId = setTimeout(GAThreading.run, 0);\n            };\n            GAThreading.getNextBlock = function () {\n                var now = new Date();\n                if (GAThreading.instance.blocks.hasItems() && GAThreading.instance.blocks.peek().deadline.getTime() <= now.getTime()) {\n                    if (GAThreading.instance.blocks.peek().async) {\n                        if (GAThreading.instance.blocks.peek().running) {\n                            return GAThreading.instance.blocks.peek();\n                        }\n                        else {\n                            return GAThreading.instance.blocks.dequeue();\n                        }\n                    }\n                    else {\n                        return GAThreading.instance.blocks.dequeue();\n                    }\n                }\n                return null;\n            };\n            GAThreading.processEventQueue = function () {\n                GAEvents.processEvents(\"\", true);\n                if (GAThreading.instance.keepRunning) {\n                    GAThreading.scheduleTimer(GAThreading.ProcessEventsIntervalInSeconds, GAThreading.processEventQueue);\n                }\n                else {\n                    GAThreading.instance.isRunning = false;\n                }\n            };\n            GAThreading.instance = new GAThreading();\n            GAThreading.ThreadWaitTimeInMs = 1000;\n            GAThreading.ProcessEventsIntervalInSeconds = 8.0;\n            return GAThreading;\n        }());\n        threading.GAThreading = GAThreading;\n    })(threading = gameanalytics.threading || (gameanalytics.threading = {}));\n})(gameanalytics || (gameanalytics = {}));\nvar gameanalytics;\n(function (gameanalytics) {\n    var GAThreading = gameanalytics.threading.GAThreading;\n    var GALogger = gameanalytics.logging.GALogger;\n    var GAStore = gameanalytics.store.GAStore;\n    var GAState = gameanalytics.state.GAState;\n    var GAHTTPApi = gameanalytics.http.GAHTTPApi;\n    var GADevice = gameanalytics.device.GADevice;\n    var GAValidator = gameanalytics.validators.GAValidator;\n    var EGAHTTPApiResponse = gameanalytics.http.EGAHTTPApiResponse;\n    var GAUtilities = gameanalytics.utilities.GAUtilities;\n    var GAEvents = gameanalytics.events.GAEvents;\n    var GameAnalytics = (function () {\n        function GameAnalytics() {\n        }\n        GameAnalytics.init = function () {\n            GADevice.touch();\n            GameAnalytics.methodMap['configureAvailableCustomDimensions01'] = GameAnalytics.configureAvailableCustomDimensions01;\n            GameAnalytics.methodMap['configureAvailableCustomDimensions02'] = GameAnalytics.configureAvailableCustomDimensions02;\n            GameAnalytics.methodMap['configureAvailableCustomDimensions03'] = GameAnalytics.configureAvailableCustomDimensions03;\n            GameAnalytics.methodMap['configureAvailableResourceCurrencies'] = GameAnalytics.configureAvailableResourceCurrencies;\n            GameAnalytics.methodMap['configureAvailableResourceItemTypes'] = GameAnalytics.configureAvailableResourceItemTypes;\n            GameAnalytics.methodMap['configureBuild'] = GameAnalytics.configureBuild;\n            GameAnalytics.methodMap['configureSdkGameEngineVersion'] = GameAnalytics.configureSdkGameEngineVersion;\n            GameAnalytics.methodMap['configureGameEngineVersion'] = GameAnalytics.configureGameEngineVersion;\n            GameAnalytics.methodMap['configureUserId'] = GameAnalytics.configureUserId;\n            GameAnalytics.methodMap['initialize'] = GameAnalytics.initialize;\n            GameAnalytics.methodMap['addBusinessEvent'] = GameAnalytics.addBusinessEvent;\n            GameAnalytics.methodMap['addResourceEvent'] = GameAnalytics.addResourceEvent;\n            GameAnalytics.methodMap['addProgressionEvent'] = GameAnalytics.addProgressionEvent;\n            GameAnalytics.methodMap['addDesignEvent'] = GameAnalytics.addDesignEvent;\n            GameAnalytics.methodMap['addErrorEvent'] = GameAnalytics.addErrorEvent;\n            GameAnalytics.methodMap['addErrorEvent'] = GameAnalytics.addErrorEvent;\n            GameAnalytics.methodMap['setEnabledInfoLog'] = GameAnalytics.setEnabledInfoLog;\n            GameAnalytics.methodMap['setEnabledVerboseLog'] = GameAnalytics.setEnabledVerboseLog;\n            GameAnalytics.methodMap['setEnabledManualSessionHandling'] = GameAnalytics.setEnabledManualSessionHandling;\n            GameAnalytics.methodMap['setEnabledEventSubmission'] = GameAnalytics.setEnabledEventSubmission;\n            GameAnalytics.methodMap['setCustomDimension01'] = GameAnalytics.setCustomDimension01;\n            GameAnalytics.methodMap['setCustomDimension02'] = GameAnalytics.setCustomDimension02;\n            GameAnalytics.methodMap['setCustomDimension03'] = GameAnalytics.setCustomDimension03;\n            GameAnalytics.methodMap['setEventProcessInterval'] = GameAnalytics.setEventProcessInterval;\n            GameAnalytics.methodMap['startSession'] = GameAnalytics.startSession;\n            GameAnalytics.methodMap['endSession'] = GameAnalytics.endSession;\n            GameAnalytics.methodMap['onStop'] = GameAnalytics.onStop;\n            GameAnalytics.methodMap['onResume'] = GameAnalytics.onResume;\n            GameAnalytics.methodMap['addRemoteConfigsListener'] = GameAnalytics.addRemoteConfigsListener;\n            GameAnalytics.methodMap['removeRemoteConfigsListener'] = GameAnalytics.removeRemoteConfigsListener;\n            GameAnalytics.methodMap['getRemoteConfigsValueAsString'] = GameAnalytics.getRemoteConfigsValueAsString;\n            GameAnalytics.methodMap['isRemoteConfigsReady'] = GameAnalytics.isRemoteConfigsReady;\n            GameAnalytics.methodMap['getRemoteConfigsContentAsString'] = GameAnalytics.getRemoteConfigsContentAsString;\n            if (typeof window !== 'undefined' && typeof window['GameAnalytics'] !== 'undefined' && typeof window['GameAnalytics']['q'] !== 'undefined') {\n                var q = window['GameAnalytics']['q'];\n                for (var i in q) {\n                    GameAnalytics.gaCommand.apply(null, q[i]);\n                }\n            }\n            window.addEventListener(\"beforeunload\", function () {\n                console.log('addEventListener unload');\n                GAThreading.endSessionAndStopQueue();\n            });\n        };\n        GameAnalytics.gaCommand = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (args.length > 0) {\n                if (args[0] in gameanalytics.GameAnalytics.methodMap) {\n                    if (args.length > 1) {\n                        gameanalytics.GameAnalytics.methodMap[args[0]].apply(null, Array.prototype.slice.call(args, 1));\n                    }\n                    else {\n                        gameanalytics.GameAnalytics.methodMap[args[0]]();\n                    }\n                }\n            }\n        };\n        GameAnalytics.configureAvailableCustomDimensions01 = function (customDimensions) {\n            if (customDimensions === void 0) { customDimensions = []; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Available custom dimensions must be set before SDK is initialized\");\n                    return;\n                }\n                GAState.setAvailableCustomDimensions01(customDimensions);\n            });\n        };\n        GameAnalytics.configureAvailableCustomDimensions02 = function (customDimensions) {\n            if (customDimensions === void 0) { customDimensions = []; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Available custom dimensions must be set before SDK is initialized\");\n                    return;\n                }\n                GAState.setAvailableCustomDimensions02(customDimensions);\n            });\n        };\n        GameAnalytics.configureAvailableCustomDimensions03 = function (customDimensions) {\n            if (customDimensions === void 0) { customDimensions = []; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Available custom dimensions must be set before SDK is initialized\");\n                    return;\n                }\n                GAState.setAvailableCustomDimensions03(customDimensions);\n            });\n        };\n        GameAnalytics.configureAvailableResourceCurrencies = function (resourceCurrencies) {\n            if (resourceCurrencies === void 0) { resourceCurrencies = []; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Available resource currencies must be set before SDK is initialized\");\n                    return;\n                }\n                GAState.setAvailableResourceCurrencies(resourceCurrencies);\n            });\n        };\n        GameAnalytics.configureAvailableResourceItemTypes = function (resourceItemTypes) {\n            if (resourceItemTypes === void 0) { resourceItemTypes = []; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Available resource item types must be set before SDK is initialized\");\n                    return;\n                }\n                GAState.setAvailableResourceItemTypes(resourceItemTypes);\n            });\n        };\n        GameAnalytics.configureBuild = function (build) {\n            if (build === void 0) { build = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"Build version must be set before SDK is initialized.\");\n                    return;\n                }\n                if (!GAValidator.validateBuild(build)) {\n                    GALogger.i(\"Validation fail - configure build: Cannot be null, empty or above 32 length. String: \" + build);\n                    return;\n                }\n                GAState.setBuild(build);\n            });\n        };\n        GameAnalytics.configureSdkGameEngineVersion = function (sdkGameEngineVersion) {\n            if (sdkGameEngineVersion === void 0) { sdkGameEngineVersion = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    return;\n                }\n                if (!GAValidator.validateSdkWrapperVersion(sdkGameEngineVersion)) {\n                    GALogger.i(\"Validation fail - configure sdk version: Sdk version not supported. String: \" + sdkGameEngineVersion);\n                    return;\n                }\n                GADevice.sdkGameEngineVersion = sdkGameEngineVersion;\n            });\n        };\n        GameAnalytics.configureGameEngineVersion = function (gameEngineVersion) {\n            if (gameEngineVersion === void 0) { gameEngineVersion = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    return;\n                }\n                if (!GAValidator.validateEngineVersion(gameEngineVersion)) {\n                    GALogger.i(\"Validation fail - configure game engine version: Game engine version not supported. String: \" + gameEngineVersion);\n                    return;\n                }\n                GADevice.gameEngineVersion = gameEngineVersion;\n            });\n        };\n        GameAnalytics.configureUserId = function (uId) {\n            if (uId === void 0) { uId = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"A custom user id must be set before SDK is initialized.\");\n                    return;\n                }\n                if (!GAValidator.validateUserId(uId)) {\n                    GALogger.i(\"Validation fail - configure user_id: Cannot be null, empty or above 64 length. Will use default user_id method. Used string: \" + uId);\n                    return;\n                }\n                GAState.setUserId(uId);\n            });\n        };\n        GameAnalytics.initialize = function (gameKey, gameSecret) {\n            if (gameKey === void 0) { gameKey = \"\"; }\n            if (gameSecret === void 0) { gameSecret = \"\"; }\n            GADevice.updateConnectionType();\n            var timedBlock = GAThreading.createTimedBlock();\n            timedBlock.async = true;\n            GameAnalytics.initTimedBlockId = timedBlock.id;\n            timedBlock.block = function () {\n                if (GameAnalytics.isSdkReady(true, false)) {\n                    GALogger.w(\"SDK already initialized. Can only be called once.\");\n                    return;\n                }\n                if (!GAValidator.validateKeys(gameKey, gameSecret)) {\n                    GALogger.w(\"SDK failed initialize. Game key or secret key is invalid. Can only contain characters A-z 0-9, gameKey is 32 length, gameSecret is 40 length. Failed keys - gameKey: \" + gameKey + \", secretKey: \" + gameSecret);\n                    return;\n                }\n                GAState.setKeys(gameKey, gameSecret);\n                GameAnalytics.internalInitialize();\n            };\n            GAThreading.performTimedBlockOnGAThread(timedBlock);\n        };\n        GameAnalytics.addBusinessEvent = function (currency, amount, itemType, itemId, cartType) {\n            if (currency === void 0) { currency = \"\"; }\n            if (amount === void 0) { amount = 0; }\n            if (itemType === void 0) { itemType = \"\"; }\n            if (itemId === void 0) { itemId = \"\"; }\n            if (cartType === void 0) { cartType = \"\"; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add business event\")) {\n                    return;\n                }\n                GAEvents.addBusinessEvent(currency, amount, itemType, itemId, cartType, {});\n            });\n        };\n        GameAnalytics.addResourceEvent = function (flowType, currency, amount, itemType, itemId) {\n            if (flowType === void 0) { flowType = gameanalytics.EGAResourceFlowType.Undefined; }\n            if (currency === void 0) { currency = \"\"; }\n            if (amount === void 0) { amount = 0; }\n            if (itemType === void 0) { itemType = \"\"; }\n            if (itemId === void 0) { itemId = \"\"; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add resource event\")) {\n                    return;\n                }\n                GAEvents.addResourceEvent(flowType, currency, amount, itemType, itemId, {});\n            });\n        };\n        GameAnalytics.addProgressionEvent = function (progressionStatus, progression01, progression02, progression03, score) {\n            if (progressionStatus === void 0) { progressionStatus = gameanalytics.EGAProgressionStatus.Undefined; }\n            if (progression01 === void 0) { progression01 = \"\"; }\n            if (progression02 === void 0) { progression02 = \"\"; }\n            if (progression03 === void 0) { progression03 = \"\"; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add progression event\")) {\n                    return;\n                }\n                var sendScore = typeof score === \"number\";\n                GAEvents.addProgressionEvent(progressionStatus, progression01, progression02, progression03, sendScore ? score : 0, sendScore, {});\n            });\n        };\n        GameAnalytics.addDesignEvent = function (eventId, value) {\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add design event\")) {\n                    return;\n                }\n                var sendValue = typeof value === \"number\";\n                GAEvents.addDesignEvent(eventId, sendValue ? value : 0, sendValue, {});\n            });\n        };\n        GameAnalytics.addErrorEvent = function (severity, message) {\n            if (severity === void 0) { severity = gameanalytics.EGAErrorSeverity.Undefined; }\n            if (message === void 0) { message = \"\"; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add error event\")) {\n                    return;\n                }\n                GAEvents.addErrorEvent(severity, message, {});\n            });\n        };\n        GameAnalytics.addAdEventWithNoAdReason = function (adAction, adType, adSdkName, adPlacement, noAdReason) {\n            if (adAction === void 0) { adAction = gameanalytics.EGAAdAction.Undefined; }\n            if (adType === void 0) { adType = gameanalytics.EGAAdType.Undefined; }\n            if (adSdkName === void 0) { adSdkName = \"\"; }\n            if (adPlacement === void 0) { adPlacement = \"\"; }\n            if (noAdReason === void 0) { noAdReason = gameanalytics.EGAAdError.Undefined; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add ad event\")) {\n                    return;\n                }\n                GAEvents.addAdEvent(adAction, adType, adSdkName, adPlacement, noAdReason, 0, false, {});\n            });\n        };\n        GameAnalytics.addAdEventWithDuration = function (adAction, adType, adSdkName, adPlacement, duration) {\n            if (adAction === void 0) { adAction = gameanalytics.EGAAdAction.Undefined; }\n            if (adType === void 0) { adType = gameanalytics.EGAAdType.Undefined; }\n            if (adSdkName === void 0) { adSdkName = \"\"; }\n            if (adPlacement === void 0) { adPlacement = \"\"; }\n            if (duration === void 0) { duration = 0; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add ad event\")) {\n                    return;\n                }\n                GAEvents.addAdEvent(adAction, adType, adSdkName, adPlacement, gameanalytics.EGAAdError.Undefined, duration, true, {});\n            });\n        };\n        GameAnalytics.addAdEvent = function (adAction, adType, adSdkName, adPlacement) {\n            if (adAction === void 0) { adAction = gameanalytics.EGAAdAction.Undefined; }\n            if (adType === void 0) { adType = gameanalytics.EGAAdType.Undefined; }\n            if (adSdkName === void 0) { adSdkName = \"\"; }\n            if (adPlacement === void 0) { adPlacement = \"\"; }\n            GADevice.updateConnectionType();\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GameAnalytics.isSdkReady(true, true, \"Could not add ad event\")) {\n                    return;\n                }\n                GAEvents.addAdEvent(adAction, adType, adSdkName, adPlacement, gameanalytics.EGAAdError.Undefined, 0, false, {});\n            });\n        };\n        GameAnalytics.setEnabledInfoLog = function (flag) {\n            if (flag === void 0) { flag = false; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (flag) {\n                    GALogger.setInfoLog(flag);\n                    GALogger.i(\"Info logging enabled\");\n                }\n                else {\n                    GALogger.i(\"Info logging disabled\");\n                    GALogger.setInfoLog(flag);\n                }\n            });\n        };\n        GameAnalytics.setEnabledVerboseLog = function (flag) {\n            if (flag === void 0) { flag = false; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (flag) {\n                    GALogger.setVerboseLog(flag);\n                    GALogger.i(\"Verbose logging enabled\");\n                }\n                else {\n                    GALogger.i(\"Verbose logging disabled\");\n                    GALogger.setVerboseLog(flag);\n                }\n            });\n        };\n        GameAnalytics.setEnabledManualSessionHandling = function (flag) {\n            if (flag === void 0) { flag = false; }\n            GAThreading.performTaskOnGAThread(function () {\n                GAState.setManualSessionHandling(flag);\n            });\n        };\n        GameAnalytics.setEnabledEventSubmission = function (flag) {\n            if (flag === void 0) { flag = false; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (flag) {\n                    GAState.setEnabledEventSubmission(flag);\n                    GALogger.i(\"Event submission enabled\");\n                }\n                else {\n                    GALogger.i(\"Event submission disabled\");\n                    GAState.setEnabledEventSubmission(flag);\n                }\n            });\n        };\n        GameAnalytics.setCustomDimension01 = function (dimension) {\n            if (dimension === void 0) { dimension = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GAValidator.validateDimension01(dimension, GAState.getAvailableCustomDimensions01())) {\n                    GALogger.w(\"Could not set custom01 dimension value to '\" + dimension + \"'. Value not found in available custom01 dimension values\");\n                    return;\n                }\n                GAState.setCustomDimension01(dimension);\n            });\n        };\n        GameAnalytics.setCustomDimension02 = function (dimension) {\n            if (dimension === void 0) { dimension = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GAValidator.validateDimension02(dimension, GAState.getAvailableCustomDimensions02())) {\n                    GALogger.w(\"Could not set custom02 dimension value to '\" + dimension + \"'. Value not found in available custom02 dimension values\");\n                    return;\n                }\n                GAState.setCustomDimension02(dimension);\n            });\n        };\n        GameAnalytics.setCustomDimension03 = function (dimension) {\n            if (dimension === void 0) { dimension = \"\"; }\n            GAThreading.performTaskOnGAThread(function () {\n                if (!GAValidator.validateDimension03(dimension, GAState.getAvailableCustomDimensions03())) {\n                    GALogger.w(\"Could not set custom03 dimension value to '\" + dimension + \"'. Value not found in available custom03 dimension values\");\n                    return;\n                }\n                GAState.setCustomDimension03(dimension);\n            });\n        };\n        GameAnalytics.setEventProcessInterval = function (intervalInSeconds) {\n            GAThreading.performTaskOnGAThread(function () {\n                GAThreading.setEventProcessInterval(intervalInSeconds);\n            });\n        };\n        GameAnalytics.startSession = function () {\n            {\n                if (!GAState.isInitialized()) {\n                    return;\n                }\n                var timedBlock = GAThreading.createTimedBlock();\n                timedBlock.async = true;\n                GameAnalytics.initTimedBlockId = timedBlock.id;\n                timedBlock.block = function () {\n                    if (GAState.isEnabled() && GAState.sessionIsStarted()) {\n                        GAThreading.endSessionAndStopQueue();\n                    }\n                    GameAnalytics.resumeSessionAndStartQueue();\n                };\n                GAThreading.performTimedBlockOnGAThread(timedBlock);\n            }\n        };\n        GameAnalytics.endSession = function () {\n            {\n                GameAnalytics.onStop();\n            }\n        };\n        GameAnalytics.onStop = function () {\n            GAThreading.performTaskOnGAThread(function () {\n                try {\n                    GAThreading.endSessionAndStopQueue();\n                }\n                catch (Exception) {\n                }\n            });\n        };\n        GameAnalytics.onResume = function () {\n            var timedBlock = GAThreading.createTimedBlock();\n            timedBlock.async = true;\n            GameAnalytics.initTimedBlockId = timedBlock.id;\n            timedBlock.block = function () {\n                GameAnalytics.resumeSessionAndStartQueue();\n            };\n            GAThreading.performTimedBlockOnGAThread(timedBlock);\n        };\n        GameAnalytics.getRemoteConfigsValueAsString = function (key, defaultValue) {\n            if (defaultValue === void 0) { defaultValue = null; }\n            return GAState.getConfigurationStringValue(key, defaultValue);\n        };\n        GameAnalytics.isRemoteConfigsReady = function () {\n            return GAState.isRemoteConfigsReady();\n        };\n        GameAnalytics.addRemoteConfigsListener = function (listener) {\n            GAState.addRemoteConfigsListener(listener);\n        };\n        GameAnalytics.removeRemoteConfigsListener = function (listener) {\n            GAState.removeRemoteConfigsListener(listener);\n        };\n        GameAnalytics.getRemoteConfigsContentAsString = function () {\n            return GAState.getRemoteConfigsContentAsString();\n        };\n        GameAnalytics.getABTestingId = function () {\n            return GAState.getABTestingId();\n        };\n        GameAnalytics.getABTestingVariantId = function () {\n            return GAState.getABTestingVariantId();\n        };\n        GameAnalytics.internalInitialize = function () {\n            GAState.ensurePersistedStates();\n            GAStore.setItem(GAState.getGameKey(), GAState.DefaultUserIdKey, GAState.getDefaultId());\n            GAState.setInitialized(true);\n            GameAnalytics.newSession();\n            if (GAState.isEnabled()) {\n                GAThreading.ensureEventQueueIsRunning();\n            }\n        };\n        GameAnalytics.newSession = function () {\n            GALogger.i(\"Starting a new session.\");\n            GAState.validateAndFixCurrentDimensions();\n            GAHTTPApi.instance.requestInit(GAState.instance.configsHash, GameAnalytics.startNewSessionCallback);\n        };\n        GameAnalytics.startNewSessionCallback = function (initResponse, initResponseDict) {\n            if ((initResponse === EGAHTTPApiResponse.Ok || initResponse === EGAHTTPApiResponse.Created) && initResponseDict) {\n                var timeOffsetSeconds = 0;\n                if (initResponseDict[\"server_ts\"]) {\n                    var serverTs = initResponseDict[\"server_ts\"];\n                    timeOffsetSeconds = GAState.calculateServerTimeOffset(serverTs);\n                }\n                initResponseDict[\"time_offset\"] = timeOffsetSeconds;\n                if (initResponse != EGAHTTPApiResponse.Created) {\n                    var currentSdkConfig = GAState.getSdkConfig();\n                    if (currentSdkConfig[\"configs\"]) {\n                        initResponseDict[\"configs\"] = currentSdkConfig[\"configs\"];\n                    }\n                    if (currentSdkConfig[\"configs_hash\"]) {\n                        initResponseDict[\"configs_hash\"] = currentSdkConfig[\"configs_hash\"];\n                    }\n                    if (currentSdkConfig[\"ab_id\"]) {\n                        initResponseDict[\"ab_id\"] = currentSdkConfig[\"ab_id\"];\n                    }\n                    if (currentSdkConfig[\"ab_variant_id\"]) {\n                        initResponseDict[\"ab_variant_id\"] = currentSdkConfig[\"ab_variant_id\"];\n                    }\n                }\n                GAState.instance.configsHash = initResponseDict[\"configs_hash\"] ? initResponseDict[\"configs_hash\"] : \"\";\n                GAState.instance.abId = initResponseDict[\"ab_id\"] ? initResponseDict[\"ab_id\"] : \"\";\n                GAState.instance.abVariantId = initResponseDict[\"ab_variant_id\"] ? initResponseDict[\"ab_variant_id\"] : \"\";\n                GAStore.setItem(GAState.getGameKey(), GAState.SdkConfigCachedKey, GAUtilities.encode64(JSON.stringify(initResponseDict)));\n                GAState.instance.sdkConfigCached = initResponseDict;\n                GAState.instance.sdkConfig = initResponseDict;\n                GAState.instance.initAuthorized = true;\n            }\n            else if (initResponse == EGAHTTPApiResponse.Unauthorized) {\n                GALogger.w(\"Initialize SDK failed - Unauthorized\");\n                GAState.instance.initAuthorized = false;\n            }\n            else {\n                if (initResponse === EGAHTTPApiResponse.NoResponse || initResponse === EGAHTTPApiResponse.RequestTimeout) {\n                    GALogger.i(\"Init call (session start) failed - no response. Could be offline or timeout.\");\n                }\n                else if (initResponse === EGAHTTPApiResponse.BadResponse || initResponse === EGAHTTPApiResponse.JsonEncodeFailed || initResponse === EGAHTTPApiResponse.JsonDecodeFailed) {\n                    GALogger.i(\"Init call (session start) failed - bad response. Could be bad response from proxy or GA servers.\");\n                }\n                else if (initResponse === EGAHTTPApiResponse.BadRequest || initResponse === EGAHTTPApiResponse.UnknownResponseCode) {\n                    GALogger.i(\"Init call (session start) failed - bad request or unknown response.\");\n                }\n                if (GAState.instance.sdkConfig == null) {\n                    if (GAState.instance.sdkConfigCached != null) {\n                        GALogger.i(\"Init call (session start) failed - using cached init values.\");\n                        GAState.instance.sdkConfig = GAState.instance.sdkConfigCached;\n                    }\n                    else {\n                        GALogger.i(\"Init call (session start) failed - using default init values.\");\n                        GAState.instance.sdkConfig = GAState.instance.sdkConfigDefault;\n                    }\n                }\n                else {\n                    GALogger.i(\"Init call (session start) failed - using cached init values.\");\n                }\n                GAState.instance.initAuthorized = true;\n            }\n            GAState.instance.clientServerTimeOffset = GAState.getSdkConfig()[\"time_offset\"] ? GAState.getSdkConfig()[\"time_offset\"] : 0;\n            GAState.populateConfigurations(GAState.getSdkConfig());\n            if (!GAState.isEnabled()) {\n                GALogger.w(\"Could not start session: SDK is disabled.\");\n                GAThreading.stopEventQueue();\n                return;\n            }\n            else {\n                GAThreading.ensureEventQueueIsRunning();\n            }\n            var newSessionId = GAUtilities.createGuid();\n            GAState.instance.sessionId = newSessionId;\n            GAState.instance.sessionStart = GAState.getClientTsAdjusted();\n            GAEvents.addSessionStartEvent();\n            var timedBlock = GAThreading.getTimedBlockById(GameAnalytics.initTimedBlockId);\n            if (timedBlock != null) {\n                timedBlock.running = false;\n            }\n            GameAnalytics.initTimedBlockId = -1;\n        };\n        GameAnalytics.resumeSessionAndStartQueue = function () {\n            if (!GAState.isInitialized()) {\n                return;\n            }\n            GALogger.i(\"Resuming session.\");\n            if (!GAState.sessionIsStarted()) {\n                GameAnalytics.newSession();\n            }\n        };\n        GameAnalytics.isSdkReady = function (needsInitialized, warn, message) {\n            if (warn === void 0) { warn = true; }\n            if (message === void 0) { message = \"\"; }\n            if (message) {\n                message = message + \": \";\n            }\n            if (needsInitialized && !GAState.isInitialized()) {\n                if (warn) {\n                    GALogger.w(message + \"SDK is not initialized\");\n                }\n                return false;\n            }\n            if (needsInitialized && !GAState.isEnabled()) {\n                if (warn) {\n                    GALogger.w(message + \"SDK is disabled\");\n                }\n                return false;\n            }\n            if (needsInitialized && !GAState.sessionIsStarted()) {\n                if (warn) {\n                    GALogger.w(message + \"Session has not started yet\");\n                }\n                return false;\n            }\n            return true;\n        };\n        GameAnalytics.initTimedBlockId = -1;\n        GameAnalytics.methodMap = {};\n        return GameAnalytics;\n    }());\n    gameanalytics.GameAnalytics = GameAnalytics;\n})(gameanalytics || (gameanalytics = {}));\ngameanalytics.GameAnalytics.init();\nvar GameAnalytics = gameanalytics.GameAnalytics.gaCommand;\nmodule.exports = gameanalytics;","let width = undefined\nlet height = undefined\n\nmodule.exports = function(parameters) {\n    width = parameters.width\n    height = parameters.height\n    resize()\n}\n\nfunction resize() {\n    if(width !== undefined && height !== undefined) {\n        const x = Math.floor(window.innerWidth / width)\n        const y = Math.floor(window.innerHeight / height)\n        window.document.documentElement.style.fontSize = Math.min(x, y) + \"px\"\n    }\n}\n\nwindow.addEventListener(\"resize\", resize)\n","var Afloop = require(\"afloop\")\r\n\r\nmodule.exports = function(func) {\r\n    this.func = func\r\n\r\n    this.fps = 60\r\n    this.cap = 1000\r\n\r\n    return new Afloop((delta) => {\r\n        // Cap the delta.\r\n        if(typeof this.cap === \"number\") {\r\n            delta = Math.min(delta, this.cap)\r\n        }\r\n\r\n        // Calculate the delta in\r\n        // different units of time.\r\n        delta = {\r\n            ms: delta, // in milliseconds\r\n            s: delta / 1000, // in seconds\r\n            f: delta / (1000 / this.fps), // in frames\r\n        }\r\n\r\n        // Call the function\r\n        // with the delta.\r\n        this.func(delta)\r\n    })\r\n}\r\n","function Afloop(func) {\n    (function loop(delta) {\n        func(Math.min(window.performance.now() - delta, 1000))\n        window.requestAnimationFrame(loop.bind(this, window.performance.now()))\n    })(window.performance.now())\n}\n\nmodule.exports = Afloop\n","import \"local-json-storage\"\n\nimport keyb from \"keyb\"\nimport poin from \"poin\"\n\nimport Game from \"models/Game.js\"\n\nconst MINIMUM_DEATH_TIME = 1.5 // in seconds\nconst STATE_EXPIRATION = 10 * 1000 // in milliseconds\n\nconst DEMO_GAME_STATE = {\"isDemo\": true, \"adventurer\": {\"position\": {\"x\": 2, \"y\": 2}}}\nconst NEW_GAME_STATE = {\"adventurer\": {\"position\": {\"x\": 2, \"y\": 2}}}\n\nconst Dev = {\"isInDevMode\": true}\n\nexport default new class Model {\n    constructor() {\n        if(Dev.isInDevMode == true) {\n            window.app = this\n        }\n\n        const state = window.localStorage.getJSON(\"state\")\n\n        if(state !== null\n        && Date.now() - state.date < STATE_EXPIRATION\n        && state.game.adventurer.isDead !== true) {\n            this.hasUsedKeyboard = state.hasUsedKeyboard\n            this.game = new Game({\"model\": this, \"game\": state.game})\n        } else {\n            this.game = new Game({\"model\": this, \"game\": DEMO_GAME_STATE})\n        }\n    }\n    startNewGame() {\n        this.game = new Game({\"model\": this, \"game\": NEW_GAME_STATE})\n    }\n    update(delta) {\n        if(this.game.isDemo === true\n        || this.game.isDone === true) {\n            this.deathtime = this.deathtime || 0\n            this.deathtime += delta.s\n            if(this.deathtime > MINIMUM_DEATH_TIME) {\n                if(keyb.isJustDown(\"W\", delta.ms)\n                || keyb.isJustDown(\"S\", delta.ms)\n                || keyb.isJustDown(\"A\", delta.ms)\n                || keyb.isJustDown(\"D\", delta.ms)\n                || keyb.isJustDown(\"<up>\", delta.ms)\n                || keyb.isJustDown(\"<down>\", delta.ms)\n                || keyb.isJustDown(\"<left>\", delta.ms)\n                || keyb.isJustDown(\"<right>\", delta.ms)\n                || keyb.isJustDown(\"<space>\", delta.ms)\n                || poin.wasJustPressed(\"primary\", delta.ms)) {\n                    return this.startNewGame()\n                }\n            }\n        }\n\n        this.game.update(delta)\n    }\n}\n","\"use strict\";\nconst localJSONStorage = window.localStorage;\n\nlocalJSONStorage.__proto__.setJSON = function(key, data) {\n\tlocalStorage.setItem(key, JSON.stringify(data));\n};\nlocalJSONStorage.__proto__.getJSON = function(key) {\n\treturn JSON.parse(localStorage.getItem(key));\n};\n\nmodule.exports = localJSONStorage;","const vkey = require(\"vkey\")\n\nconst DEFAULT_DELTA = 1000 / 60\n\nconst Keyb = {\"data\": {}}\n\nKeyb.isPressed = function(key) {\n    return this.data[key] != undefined\n        && this.data[key].state == \"pressed\"\n}\n\nKeyb.isUnpressed = function(key) {\n    return this.data[key] == undefined\n        || this.data[key].state == \"unpressed\"\n}\n\nKeyb.wasJustPressed = function(key, delta) {\n    return this.data[key] != undefined\n        && this.data[key].state == \"pressed\"\n        && window.performance.now() - this.data[key].time < (delta || DEFAULT_DELTA)\n}\n\nKeyb.wasJustUnpressed = function(key, delta) {\n    return this.data[key] != undefined\n        && this.data[key].state == \"unpressed\"\n        && window.performance.now() - this.data[key].time < (delta || DEFAULT_DELTA)\n}\n\nKeyb.setPressed = function(keycode) {\n    const key = vkey[keycode]\n    if(this.isPressed(key) == false) {\n        this.data[key] = {\"time\": window.performance.now(), \"state\": \"pressed\"}\n    }\n}\n\nKeyb.setNotPressed = function(keycode) {\n    const key = vkey[keycode]\n    this.data[key] = {\"time\": window.performance.now(), \"state\": \"unpressed\"}\n}\n\nKeyb.isDown = Keyb.isPressed\nKeyb.isJustDown = Keyb.wasJustPressed\nKeyb.isUp = Keyb.isNotPressed\nKeyb.isNotPressed = Keyb.isUnpressed\n\ndocument.addEventListener(\"keydown\", (event) => Keyb.setPressed(event.keyCode))\ndocument.addEventListener(\"keyup\", (event) => Keyb.setNotPressed(event.keyCode))\n\nmodule.exports = Keyb\n","'use strict'\n\nvar ua = typeof window !== 'undefined' ? window.navigator.userAgent : ''\n  , isOSX = /OS X/.test(ua)\n  , isOpera = /Opera/.test(ua)\n  , maybeFirefox = !/like Gecko/.test(ua) && !isOpera\n\nvar i, output = module.exports = {\n  0:  isOSX ? '<menu>' : '<UNK>'\n, 1:  '<mouse 1>'\n, 2:  '<mouse 2>'\n, 3:  '<break>'\n, 4:  '<mouse 3>'\n, 5:  '<mouse 4>'\n, 6:  '<mouse 5>'\n, 8:  '<backspace>'\n, 9:  '<tab>'\n, 12: '<clear>'\n, 13: '<enter>'\n, 16: '<shift>'\n, 17: '<control>'\n, 18: '<alt>'\n, 19: '<pause>'\n, 20: '<caps-lock>'\n, 21: '<ime-hangul>'\n, 23: '<ime-junja>'\n, 24: '<ime-final>'\n, 25: '<ime-kanji>'\n, 27: '<escape>'\n, 28: '<ime-convert>'\n, 29: '<ime-nonconvert>'\n, 30: '<ime-accept>'\n, 31: '<ime-mode-change>'\n, 32: '<space>'\n, 33: '<page-up>'\n, 34: '<page-down>'\n, 35: '<end>'\n, 36: '<home>'\n, 37: '<left>'\n, 38: '<up>'\n, 39: '<right>'\n, 40: '<down>'\n, 41: '<select>'\n, 42: '<print>'\n, 43: '<execute>'\n, 44: '<snapshot>'\n, 45: '<insert>'\n, 46: '<delete>'\n, 47: '<help>'\n, 91: '<meta>'  // meta-left -- no one handles left and right properly, so we coerce into one.\n, 92: '<meta>'  // meta-right\n, 93: isOSX ? '<meta>' : '<menu>'      // chrome,opera,safari all report this for meta-right (osx mbp).\n, 95: '<sleep>'\n, 106: '<num-*>'\n, 107: '<num-+>'\n, 108: '<num-enter>'\n, 109: '<num-->'\n, 110: '<num-.>'\n, 111: '<num-/>'\n, 144: '<num-lock>'\n, 145: '<scroll-lock>'\n, 160: '<shift-left>'\n, 161: '<shift-right>'\n, 162: '<control-left>'\n, 163: '<control-right>'\n, 164: '<alt-left>'\n, 165: '<alt-right>'\n, 166: '<browser-back>'\n, 167: '<browser-forward>'\n, 168: '<browser-refresh>'\n, 169: '<browser-stop>'\n, 170: '<browser-search>'\n, 171: '<browser-favorites>'\n, 172: '<browser-home>'\n\n  // ff/osx reports '<volume-mute>' for '-'\n, 173: isOSX && maybeFirefox ? '-' : '<volume-mute>'\n, 174: '<volume-down>'\n, 175: '<volume-up>'\n, 176: '<next-track>'\n, 177: '<prev-track>'\n, 178: '<stop>'\n, 179: '<play-pause>'\n, 180: '<launch-mail>'\n, 181: '<launch-media-select>'\n, 182: '<launch-app 1>'\n, 183: '<launch-app 2>'\n, 186: ';'\n, 187: '='\n, 188: ','\n, 189: '-'\n, 190: '.'\n, 191: '/'\n, 192: '`'\n, 219: '['\n, 220: '\\\\'\n, 221: ']'\n, 222: \"'\"\n, 223: '<meta>'\n, 224: '<meta>'       // firefox reports meta here.\n, 226: '<alt-gr>'\n, 229: '<ime-process>'\n, 231: isOpera ? '`' : '<unicode>'\n, 246: '<attention>'\n, 247: '<crsel>'\n, 248: '<exsel>'\n, 249: '<erase-eof>'\n, 250: '<play>'\n, 251: '<zoom>'\n, 252: '<no-name>'\n, 253: '<pa-1>'\n, 254: '<clear>'\n}\n\nfor(i = 58; i < 65; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// 0-9\nfor(i = 48; i < 58; ++i) {\n  output[i] = (i - 48)+''\n}\n\n// A-Z\nfor(i = 65; i < 91; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// num0-9\nfor(i = 96; i < 106; ++i) {\n  output[i] = '<num-'+(i - 96)+'>'\n}\n\n// F1-F24\nfor(i = 112; i < 136; ++i) {\n  output[i] = 'F'+(i-111)\n}\n","const BUTTON_NAMES = {\n    \"primary\": 0, // usually left button\n    \"secondary\": 2, // usually right button\n    \"auxiliary\": 1, // usually mouse wheel middle button\n}\n\nconst Poin = {\n    \"position\": {\"x\": 0, \"y\": 0},\n    \"pressed\": {0: undefined, 1: undefined, 2: undefined},\n    \"isPressed\": function(button = \"primary\") {\n        return (this.pressed[button] || this.pressed[BUTTON_NAMES[button]]) != undefined\n    },\n    \"wasJustPressed\": function(button = \"primary\", delta = 1000/60) {\n        const pressed = this.pressed[button] || this.pressed[BUTTON_NAMES[button]]\n        return window.performance.now() - pressed < delta\n    },\n    \"setPressed\": function(button, isPressed) {\n        if(isPressed == true) {\n            this.pressed[button] = window.performance.now()\n        } else if(isPressed == false) {\n            this.pressed[button] = undefined\n        }\n    },\n    \"setPosition\": function(position) {\n        this.position.x = position.x\n        this.position.y = position.y\n    },\n}\n\ndocument.addEventListener(\"mousedown\", (event) => Poin.setPressed(event.button, true))\ndocument.addEventListener(\"mouseup\", (event) => Poin.setPressed(event.button, false))\ndocument.addEventListener(\"mousemove\", (event) => Poin.setPosition({\"x\": event.clientX, \"y\": event.clientY}))\ndocument.addEventListener(\"pointerdown\", (event) => Poin.setPressed(event.button || 0, true))\ndocument.addEventListener(\"pointerup\", (event) => Poin.setPressed(event.button || 0, false))\ndocument.addEventListener(\"pointermove\", (event) => Poin.setPosition({\"x\": event.clientX, \"y\": event.clientY}))\ndocument.addEventListener(\"touchstart\", (event) => Poin.setPressed(0, true))\ndocument.addEventListener(\"touchend\", (event) => Poin.setPressed(0, false))\ndocument.addEventListener(\"touchstart\", (event) => Poin.setPosition({\"x\": event.touches[0].clientX, \"y\": event.touches[0].clientY}))\ndocument.addEventListener(\"touchend\", (event) => Poin.setPosition({\"x\": event.touches[0].clientX, \"y\": event.touches[0].clientY}))\ndocument.addEventListener(\"touchmove\", (event) => Poin.setPosition({\"x\": event.touches[0].clientX, \"y\": event.touches[0].clientY}))\n\ndocument.addEventListener(\"contextmenu\", (event) => {\n    if(Poin.isIgnoringContextMenu == true) {\n        event.preventDefault()\n    }\n})\n\n// https://stackoverflow.com/questions/38373684/how-do-i-stop-ios-chrome-from-dimming-on-touching-a-canvas\ndocument.addEventListener(\"touchstart\", function(event) {\n    if(Poin.isIgnoringTouchHover == true) {\n        event.preventDefault()\n    }\n})\n\nmodule.exports = Poin\n","import \"local-json-storage\"\n\nimport analytics from \"library/analytics.js\"\n\nimport activity from \"data/activity.js\"\n\nimport Adventurer from \"models/Adventurer.js\"\nimport Monster from \"models/Monster.js\"\nimport MonsterWave from \"models/MonsterWave.js\"\nimport Room from \"models/Room.js\"\n\nexport default class Game {\n    constructor(parameters) {\n        this.model = parameters.model\n\n        analytics.reportStartGame()\n\n        parameters.game = parameters.game || {}\n        parameters.game.monsters = parameters.game.monsters || []\n        parameters.game.adventurer = parameters.game.adventurer || {}\n\n        this.score = parameters.game.score || 0\n        this.add(this.adventurer = new Adventurer(parameters.game.adventurer))\n        parameters.game.monsters.forEach((monster) => this.add(new Monster(monster)))\n\n        this.room = new Room({\"width\": 5, \"height\": 5})\n        this.camera = {\"position\": {\"x\": 2.5, \"y\": 2.5}} // new Camera()\n        this.wave = new MonsterWave({\"game\": this, \"wave\": {\"capacity\": 4}})\n\n        this.isDemo = parameters.game.isDemo\n    }\n    add(entity) {\n        entity.game = this\n\n        this.entities = this.entities || []\n        this.entities.push(entity)\n\n        if(entity.group) {\n            this[entity.group] = this[entity.group] || []\n            this[entity.group].push(entity)\n        }\n    }\n    remove(entity) {\n        entity.game = this\n\n        this.entities.splice(this.entities.indexOf(entity), 1)\n\n        if(entity.group) {\n            this[entity.group] = this[entity.group] || []\n            this[entity.group].splice(this[entity.group].indexOf(entity), 1)\n        }\n    }\n    update(delta) {\n        this.adventurer.update(delta)\n    }\n    onReaction() {\n        this.entities.forEach((entity) => {\n            if(entity.onReaction instanceof Function) {\n                entity.onReaction()\n            }\n        })\n        this.wave.onAction()\n\n        // Save the state.\n        if(this.isDemo !== true) {\n            window.localStorage.setJSON(\"state\", {\n                \"date\": Date.now(),\n                \"game\": this.toState(),\n                \"hasUsedKeyboard\": this.model.hasUsedKeyboard\n            })\n        }\n    }\n    onEnd() {\n        if(this.hasEndeded !== true) {\n            this.hasEnded = true\n            analytics.reportEndGame()\n            this.model.deathtime = 0\n        }\n    }\n    get isDone() {\n        return this.adventurer.isDead === true\n    }\n    get isTutorial() {\n        if(this.isDemo) {\n            return false\n        }\n        if(this.model.hasUsedKeyboard) {\n            return false\n        }\n        return true\n    }\n    toState() {\n        return {\n            \"score\": this.score,\n            \"adventurer\": this.adventurer.toState(),\n            \"monsters\": this.monsters.map((monster) => monster.toState()),\n            // \"camera\": this.camera,\n            // \"wave\": this.wave.toState(),\n            // \"room\": this.room.toState(),\n        }\n    }\n}\n","module.exports = \"ENCHIRIDION!\"\n","import keyb from \"keyb\"\nimport shortid from \"shortid\"\n\nimport colors from \"data/colors.js\"\nimport deathtext from \"data/deathtext.js\"\n\nimport Monster from \"models/Monster.js\"\n\nimport GRAVESTONE_IMAGE from \"assets/images/monsters/gravestone.png\"\nimport ADVENTURER_IMAGE from \"assets/images/monsters/adventurer.png\"\n\nconst Dev = {\"isInGodMode\": __STAGE__ == \"NONE\"}\n\nconst DIRECTIONS = {\n    \"-1x0\": \"west\",\n    \"1x0\": \"east\",\n    \"0x-1\": \"north\",\n    \"0x1\": \"south\"\n}\n\nconst DEMO_CLOCK = 0.25 // in seconds\nconst DEMO_MOVEMENTS = [\n    {\"movement\": {\"x\": -1}},\n    {\"movement\": {\"x\": +1}},\n    {\"movement\": {\"y\": -1}},\n    {\"movement\": {\"y\": +1}},\n]\n\nexport default class Adventurer {\n    constructor(parameters = {}) {\n        this.key = shortid.generate()\n\n        this.position = parameters.position || {\"x\": 0, \"y\": 0}\n        this.prevposition = parameters.prevposition || {\"x\": this.position.x, \"y\": this.position.y}\n        this.damage = parameters.damage || 0\n\n        this.title = \"The Adventurer\"\n        this.description = \"It you!!\"\n        this.health = 3\n\n        this.stack = 1\n    }\n    update(delta) {\n        if(this.isDead) {\n            return\n        }\n\n        if(this.game.isDemo) {\n            this.clock = (this.clock || 0) + delta.s\n            if(this.clock > DEMO_CLOCK) {\n                this.clock -= DEMO_CLOCK\n                let move = Math.random()\n                this.onAction({\"move\": {\n                    \"x\": move < 0.5 ? 0 : (Math.random() < 0.25 ? (this.position.x !== 0 ? -1 : +1) : (this.position.x !== this.game.room.width - 1 ? +1 : -1)),\n                    \"y\": move >= 0.5 ? 0 : (Math.random() < 0.25 ? (this.position.y !== 0 ? -1 : +1) : (this.position.y !== this.game.room.height - 1 ? +1 : -1)),\n                }})\n            }\n            return\n        }\n\n        if(keyb.isJustDown(\"W\", delta.ms)\n        || keyb.isJustDown(\"<up>\", delta.ms)) {\n            this.onAction({\"move\": {\"y\": -1}})\n            this.game.model.hasUsedKeyboard = true\n        }\n        if(keyb.isJustDown(\"S\", delta.ms)\n        || keyb.isJustDown(\"<down>\", delta.ms)) {\n            this.onAction({\"move\": {\"y\": +1}})\n            this.game.model.hasUsedKeyboard = true\n        }\n        if(keyb.isJustDown(\"A\", delta.ms)\n        || keyb.isJustDown(\"<left>\", delta.ms)) {\n            this.onAction({\"move\": {\"x\": -1}})\n            this.game.model.hasUsedKeyboard = true\n        }\n        if(keyb.isJustDown(\"D\", delta.ms)\n        || keyb.isJustDown(\"<right>\", delta.ms)) {\n            this.onAction({\"move\": {\"x\": +1}})\n            this.game.model.hasUsedKeyboard = true\n        }\n\n        if(Dev.isInGodMode) {\n            if(keyb.isJustDown(\"T\", delta.ms)) {\n                this.onAction({\"move\": {}})\n            }\n        }\n    }\n    onAction(action) {\n        this.isAttacking = false\n        action.move.x = action.move.x || 0\n        action.move.y = action.move.y || 0\n\n        this.direction = DIRECTIONS[action.move.x + \"x\" + action.move.y] || \"none\"\n\n        this.game.entities.forEach((entity) => {\n            if(entity !== this\n            && entity.isDead !== true\n            && this.position.x + action.move.x === entity.position.x\n            && this.position.y + action.move.y === entity.position.y) {\n                if(entity instanceof Monster\n                && entity.beAttacked instanceof Function) {\n                    this.isAttacking = true\n                    entity.beAttacked()\n                }\n                action.move.x = 0\n                action.move.y = 0\n            }\n        })\n\n        if(this.position.x + action.move.x < 0\n        || this.position.y + action.move.y < 0\n        || this.position.x + action.move.x >= this.game.room.width\n        || this.position.y + action.move.y >= this.game.room.height) {\n            action.move.x = 0\n            action.move.y = 0\n            return\n        }\n\n        // if(action.move.x === 0\n        // && action.move.y === 0) {\n        //     return\n        // }\n\n        this.prevposition.x = this.position.x\n        this.prevposition.y = this.position.y\n\n        this.position.x += action.move.x\n        this.position.y += action.move.y\n\n        this.game.onReaction()\n    }\n    beAttacked() {\n        if(this.game.isDemo) {\n            return\n        }\n        if(this.isDead !== true) {\n            this.damage += 1\n            this.isAttacked = shortid.generate()\n            if(this.isDead === true) {\n                this.deathtext = deathtext[0]\n                deathtext.push(deathtext.shift())\n                this.game.onEnd()\n            }\n        }\n    }\n    get isDead() {\n        return this.damage >= this.health\n    }\n    get image() {\n        if(this.isDead === true) {\n            return GRAVESTONE_IMAGE\n        } else {\n            return ADVENTURER_IMAGE\n        }\n    }\n    toState() {\n        return {\n            \"damage\": this.damage,\n            \"position\": this.position,\n            \"prevposition\": this.prevposition,\n            \"isDead\": this.isDead\n        }\n    }\n}\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nmodule.exports = randomByte;\n","// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nmodule.exports = function (random, alphabet, size) {\n  // We can’t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length)\n  var id = ''\n\n  while (true) {\n    var bytes = random(step)\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || ''\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n}\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nmodule.exports = 0;\n","export default {\n    \"yellow\": \"#DEB74A\",\n    \"red\": \"#A52F22\",\n    \"white\": \"#F4F8F0\",\n    \"blue\": \"#00688B\",\n}\n","export default [\n    \"you died\",\n    \"you died\",\n    \"you died again\",\n    \"you died\",\n    \"you died\",\n    \"pjsalt\",\n    \"you died\",\n    \"you died?\",\n    \"what happened?\",\n    \"you died\",\n    \"press f\",\n    \"you died\",\n    \"ouch\",\n    \"dang it\",\n    \"not like this\",\n    \"you died\",\n    // \"rest in peace\",\n    // \"that's rough buddy\",\n    // \"everyone is dead\",\n    // \"you have died\",\n    // \"game over\",\n]\n","import keyb from \"keyb\"\nimport shortid from \"shortid\"\n\nimport frame from \"data/frame.js\"\nimport colors from \"data/colors.js\"\n\nimport Adventurer from \"models/Adventurer.js\"\n\nimport SLIME_ALPHA_IMAGE from \"assets/images/monsters/slime_alpha.png\"\nimport SLIME_OMEGA_IMAGE from \"assets/images/monsters/slime_omega.png\"\n\nconst DIRECTIONS = {\n    \"-1x0\": \"west\",\n    \"1x0\": \"east\",\n    \"0x-1\": \"north\",\n    \"0x1\": \"south\"\n}\n\nexport default class Monster {\n    constructor(parameters = {}) {\n        this.key = \"monster-\" + shortid.generate()\n\n        this.position = parameters.position || {\"x\": 0, \"y\": 0}\n        this.flipflop = parameters.flipflop || false\n        this.damage = parameters.damage || 0\n\n        // this.color = colors.red\n\n        this.title = \"Red Slime\"\n        this.description = \"It looks gross.\"\n        this.health = 1\n\n        this.group = \"monsters\"\n        this.stack = 1\n    }\n    get image() {\n        if(this.flipflop === true) {\n            return SLIME_OMEGA_IMAGE\n        } else {\n            return SLIME_ALPHA_IMAGE\n        }\n    }\n    get opacity() {\n        if(this.isOutOfRoom) {\n            return 0.5\n        } else {\n            return 1\n        }\n    }\n    get animation() {\n        if(this.isAttacking) {\n            return \"strike\" + \" \" + this.direction\n        }\n\n        if(this.flipflop === true) {\n            return \"shake\"\n        }\n\n        return \"ooze\"\n    }\n    get isOutOfRoom() {\n        return this.position.x < 0\n            || this.position.y < 0\n            || this.position.x >= this.game.room.width\n            || this.position.y >= this.game.room.height\n    }\n    onReaction() {\n        if(this.isDead) {\n            return\n        }\n\n        const action = {\"move\": {\"x\": 0, \"y\": 0}}\n\n        this.isAttacking = false\n\n        if(this.flipflop == false) {\n            this.flipflop = true\n        } else if(this.flipflop = true) {\n            this.flipflop = false\n\n            // move towards the this.game.adventurer, prioritzing whichever vector has a longer magnitude.\n            if(Math.abs(this.position.y - ((this.game.adventurer.position.y + this.game.adventurer.prevposition.y) / 2))\n            >= Math.abs(this.position.x - ((this.game.adventurer.position.x + this.game.adventurer.prevposition.x) / 2))) {\n                if(this.position.y > this.game.adventurer.position.y) {\n                    action.move.y = -1\n                } else if(this.position.y < this.game.adventurer.position.y) {\n                    action.move.y = +1\n                }\n            } else {\n                if(this.position.x > this.game.adventurer.position.x) {\n                    action.move.x = -1\n                } else if(this.position.x < this.game.adventurer.position.x) {\n                    action.move.x = +1\n                }\n            }\n\n            if(this.isOutOfRoom) {\n                if(this.position.x < 0) action.move = {x: +1}\n                if(this.position.x >= this.game.room.width) action.move = {x: -1}\n                if(this.position.y < 0) action.move = {y: +1}\n                if(this.position.y >= this.game.room.height) action.move = {y: -1}\n            }\n        }\n\n        ///////////\n        // MOVE //\n        /////////\n\n        action.move.x = action.move.x || 0\n        action.move.y = action.move.y || 0\n\n        this.direction = DIRECTIONS[action.move.x + \"x\" + action.move.y] || \"none\"\n\n        if(this.isOutOfRoom !== true) {\n            if(this.position.x + action.move.x < 0\n            || this.position.y + action.move.y < 0\n            || this.position.x + action.move.x >= this.game.room.width\n            || this.position.y + action.move.y >= this.game.room.height) {\n                action.move.x = 0\n                action.move.y = 0\n            }\n        }\n\n        this.game.entities.forEach((entity) => {\n            if(entity !== this\n            && this.position.x + action.move.x === entity.position.x\n            && this.position.y + action.move.y === entity.position.y) {\n                if(entity instanceof Adventurer) {\n                    this.isAttacking = true\n                    entity.beAttacked()\n                }\n                action.move.x = 0\n                action.move.y = 0\n            }\n        })\n\n        this.position.x += action.move.x\n        this.position.y += action.move.y\n    }\n    beAttacked() {\n        this.damage += 1\n        if(this.damage >= this.health) {\n            this.isDead = true\n            this.game.score += 1\n            this.game.wave.killcount -= 1\n            this.game.remove(this)\n            // if(Math.abs(this.position.x - altar.position.x) <= 1\n            // && Math.abs(this.position.y - altar.position.y) <= 1) {\n            //     this.game.score += 2\n            //     altar.isBloody = this.id\n            // }\n        }\n    }\n    toState() {\n        return {\n            \"damage\": this.damage,\n            \"position\": this.position,\n            \"flipflop\": this.flipflop,\n        }\n    }\n}\n","export default {\"width\": 9, \"height\": 9}\n","module.exports = __webpack_public_path__ + \"67e6355612749bdb32866842a0d0525a.png\";","module.exports = __webpack_public_path__ + \"77e28c59b7a24ca9a1cdf625be8270c4.png\";","module.exports = __webpack_public_path__ + \"e1736d89cabb2b25dc5548e1d9d85fb5.png\";","module.exports = __webpack_public_path__ + \"df5169e48dff213ccfea80e266517db5.png\";","// This class is responsible for spawning the\n// monsters to attack the adventurer. Each wave\n// is given a limit of how many monsters it can\n// spawn at any given time, how many monsters it\n// can spawn before the wave is done, and an\n// array of monsters to spawn.\n\n// Someday, if we decide to pivot away from\n// the arcade-like beat-em-up gameplay, we'll\n// rewrite the dungeons to be responsible for\n// instantiating the monsters. At that time,\n// we can deprecate this class. But until\n// then, enjoy the waves of monsters. :]\n\nimport frame from \"data/frame.js\"\nimport Monster from \"models/Monster.js\"\n\nexport default class MonsterWave {\n    constructor(parameters) {\n        this.game = parameters.game\n\n        // TODO: Change capacity from a variable\n        // to a function of how many monsters have\n        // already been killed, so the wave can\n        // become more difficult during the wave.\n        this.capacity = parameters.wave.capacity || 4\n        this.killcount = parameters.wave.killcount || Infinity\n        \n        this.game.monsters = this.game.monsters || []\n    }\n    onAction() {\n        // If attached to a game...\n        if(this.game != undefined) {\n            // If there are still monsters left to kill...\n            if(this.game.monsters.length < this.killcount) {\n                // If, at the moment, the number of monsters is\n                // less than the intended capacity of monsters...\n                while(this.game.monsters.length < this.capacity) {\n                    // Then spawn a new monster in the game!\n                    this.game.add(new Monster({\n                        \"position\": this.getRandomValidPosition(),\n                    }))\n                }\n            }\n        }\n    }\n    // Returns a random position to\n    // spawn a monster, which should\n    // generally be a position that\n    // is just off-screen.\n    getRandomPosition() {\n        // TODO: Update this method to consult the\n        // bounds of either a DungeonRoom or Camera.\n        // TODO: Update this method to ensure it won't\n        // collide with an already existing monster.\n        if(Math.random() < 0.5) {\n            return {\n                x: Math.random() < 0.5 ? -1 : this.game.room.width,\n                y: Math.floor(Math.random() * this.game.room.height),\n            }\n        } else {\n            return {\n                x: Math.floor(Math.random() * this.game.room.width),\n                y: Math.random() < 0.5 ? -1 : this.game.room.height,\n            }\n        }\n    }\n    getRandomValidPosition() {\n        let position\n        do {\n            position = this.getRandomPosition()\n        } while(this.game.monsters.some((monster) => {\n            return monster.position.x === position.x\n                && monster.position.y === position.y\n        }))\n        return position\n    }\n    toState() {\n        return {\n            \"capacity\": this.capacity,\n            \"killcount\": this.killcount,\n        }\n    }\n    // // Returns a random monster\n    // // to be spawned. It randomizes\n    // // from the static pool of monsters\n    // // that was given for this wave.\n    // getRandomMonster() {\n    //     // TODO: Update this method to optionally\n    //     // use weighted randomness if a weight is\n    //     // assigned to each monster in the wave.\n    //     var index = Math.floor(Math.random() * this.monsters.length)\n    //     return this.monsters[index]\n    // }\n}\n","export default class Room {\n    constructor(room) {\n        this.width = room.width || 5\n        this.height = room.height || 5\n\n        // // // this.tiles = {}\n        // // // for(let x = 0; x < this.width; x += 1) {\n        // // //     for(let y = 0; y < this.height; y += 1) {\n        // // //         this.tiles[x + \"x\" + y] = {\n        // // //             \"position\": {\"x\": x, \"y\": y},\n        // // //             \"key\": x + \"x\" + y,\n        // // //             \"color\": \"#191923\",\n        // // //             \"stack\": 0\n        // // //         }\n        // // //     }\n        // // // }\n    }\n    toState() {\n        return {\n            \"width\": this.width,\n            \"height\": this.height,\n        }\n    }\n}\n","import * as Preact from \"preact\"\n\nimport App from \"models/App.js\"\n\nimport Game from \"views/Game.view.js\"\n\nimport \"views/Mount.view.less\"\n\nexport default class Mount {\n    render() {\n        return (\n            <div className=\"Mount\" id=\"mounted-as-none\">\n                <div className=\"Frame\"\n                    onMouseUp={this.onMouseUp}\n                    onMouseDown={this.onMouseDown}>\n                    <Preload/>\n                        <Game/>\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction Preload() {\n    return (\n        <div className=\"Preload\">\n            <img src={require(\"assets/images/monsters/adventurer.png\")}/>\n            <img src={require(\"assets/images/monsters/gravestone.png\")}/>\n            <img src={require(\"assets/images/monsters/slime_alpha.png\")}/>\n            <img src={require(\"assets/images/monsters/slime_omega.png\")}/>\n            <img src={require(\"assets/images/ui/heart-full-white.png\")}/>\n            <img src={require(\"assets/images/ui/heart-half-white.png\")}/>\n            <img src={require(\"assets/images/ui/heart-none-white.png\")}/>\n            <img src={require(\"assets/images/ui/keyboard.png\")}/>\n        </div>\n    )\n}\n","var n,l,u,i,t,r,o={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,r,o=arguments,f={};for(r in l)\"key\"==r?i=l[r]:\"ref\"==r?t=l[r]:f[r]=l[r];if(arguments.length>3)for(u=[u],r=3;r<arguments.length;r++)u.push(o[r]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===f[r]&&(f[r]=n.defaultProps[r]);return v(n,f,i,t,null)}function v(l,u,i,t,r){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++n.__v:r};return null!=n.vnode&&n.vnode(o),o}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!m.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(m)}function m(){for(var n;m.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,T(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?d(t):r,t.__h),j(u,t),t.__e!=r&&_(t)))})}function b(n,l,u,i,t,r,e,c,s,a){var h,p,_,k,m,b,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}T(n,k,_=_||o,t,r,e,c,s,a),m=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||m,k)),null!=m?(null==b&&(b=m),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,m,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=b,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)I(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function A(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||C(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||C(n,r,l[r],u[r],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?H:$,r):n.removeEventListener(l,r?H:$,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(l,u,i,t,r,o,f,e,s){var a,v,h,d,_,k,m,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?m=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,b(l,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),m&&(v.__E=v.__=null),v.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=z(i.__e,u,i,t,r,o,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=o)&&(u.__e=e,u.__h=!!s,o[o.indexOf(e)]=null),n.__e(l,u,i)}}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function z(n,l,u,i,t,r,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=r)for(;k<r.length;k++)if((a=r[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,r[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),r=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(r=r&&f.slice.call(n.childNodes),v=(p=u.props||o).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=r)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,b(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,r,e,n.firstChild,c),null!=r)for(k=r.length;k--;)null!=r[k]&&s(r[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,r,o;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(r=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(o=0;o<t.length;o++)t[o]&&L(t[o],u,i);null!=r&&s(r)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,r,e;n.__&&n.__(l,u),r=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],T(u,l=(!t&&i||u).__k=a(y,null,[l]),r||o,o,void 0!==u.ownerSVGElement,!t&&i?[i]:r?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:r?r.__e:u.firstChild,t),j(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,r,o=arguments,f=c({},n.props);for(r in l)\"key\"==r?i=l[r]:\"ref\"==r?t=l[r]:f[r]=l[r];if(arguments.length>3)for(u=[u],r=3;r<arguments.length;r++)u.push(o[r]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0,r=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import * as Preact from \"preact\"\n\nimport Entity from \"views/Entity.view.js\"\nimport UI from \"views/UI.view.js\"\nimport Camera from \"views/Camera.view.js\"\n\nimport App from \"models/App.js\"\n\nimport \"views/Game.view.less\"\n\nexport default class Game {\n    render() {\n        return (\n            <div className={this.className}>\n                <div className=\"Scene\">\n                    <Camera>\n                        <div className=\"Room\"/>\n                        {this.entities}\n                    </Camera>\n                </div>\n                <UI/>\n            </div>\n        )\n    }\n    get className() {\n        return [\n            \"Game\",\n            App.game.isDone === true ? \"isDone\" : \"\",\n            App.game.isDemo === true ? \"isDemo\" : \"\",\n            App.game.isTutorial ? \"isTutorial\" : \"\",\n        ].join(\" \")\n    }\n    get entities() {\n        return App.game.entities.map((entity) => (\n            <Entity entity={entity} key={entity.key}/>\n        ))\n    }\n}\n","import * as Preact from \"preact\"\n\nimport \"views/Entity.view.less\"\n\nexport default class Entity {\n    render() {\n        return (\n            <div className={this.className} style={this.style}/>\n        )\n    }\n    get className() {\n        return `Entity ${this.props.entity.animation}`\n    }\n    get style() {\n        let style = {}\n\n        if(this.props.entity.position) {\n            style.top = this.props.entity.position.y + \"em\"\n            style.left = this.props.entity.position.x + \"em\"\n        }\n        if(this.props.entity.stack) {\n            style.zIndex = (this.props.entity.stack * 100) + this.props.entity.position.y\n        }\n\n        if(this.props.entity.image) {\n            style.backgroundImage = `url(${this.props.entity.image})`\n        }\n\n        if(this.props.entity.color) {\n            style.backgroundColor = this.props.entity.color\n        }\n\n        if(this.props.entity.opacity) {\n            style.opacity = this.props.entity.opacity\n        }\n\n        return style\n    }\n}\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./Entity.view.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Entity {\\n  width: 1em;\\n  height: 1em;\\n  position: absolute;\\n  transition-duration: 0.1s;\\n  transition-property: top left opacity;\\n  background-size: 1em;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n}\\n.Entity.shake {\\n  animation-name: shake;\\n  animation-duration: 0.1s;\\n  animation-iteration-count: infinite;\\n}\\n.Entity.ooze {\\n  animation-name: ooze;\\n  animation-duration: 4s;\\n  animation-iteration-count: infinite;\\n}\\n.Entity.strike {\\n  animation-delay: 0.05s;\\n  animation-duration: 0.25s;\\n  animation-iteration-count: 1;\\n}\\n.Entity.strike.east {\\n  animation-name: strike-east;\\n}\\n.Entity.strike.west {\\n  animation-name: strike-west;\\n}\\n.Entity.strike.north {\\n  animation-name: strike-north;\\n}\\n.Entity.strike.south {\\n  animation-name: strike-south;\\n}\\n@keyframes strike-east {\\n  0% {\\n    transform: translateX(-0.25em) rotate(-25deg);\\n  }\\n  25% {\\n    transform: translateX(0.5em) rotate(25deg);\\n  }\\n  100% {\\n    transform: translateX(0em);\\n  }\\n}\\n@keyframes strike-west {\\n  0% {\\n    transform: translateX(0.25em) rotate(25deg);\\n  }\\n  25% {\\n    transform: translateX(-0.5em) rotate(-25deg);\\n  }\\n  100% {\\n    transform: translateX(0em);\\n  }\\n}\\n@keyframes strike-south {\\n  0% {\\n    transform: translateY(-0.25em) rotate(25deg);\\n  }\\n  25% {\\n    transform: translateY(0.5em) rotate(-25deg);\\n  }\\n  100% {\\n    transform: translateY(0em);\\n  }\\n}\\n@keyframes strike-north {\\n  0% {\\n    transform: translateY(0.25em) rotate(-25deg);\\n  }\\n  25% {\\n    transform: translateY(-0.5em) rotate(25deg);\\n  }\\n  100% {\\n    transform: translateY(0em);\\n  }\\n}\\n@keyframes shake {\\n  0% {\\n    transform: translateX(-0.025em);\\n  }\\n  50% {\\n    transform: translateX(0.025em);\\n  }\\n  100% {\\n    transform: translateX(-0.025em);\\n  }\\n}\\n@keyframes ooze {\\n  0% {\\n    transform: scaleX(1.1) scaleY(0.9);\\n  }\\n  75% {\\n    transform: scaleX(0.9) scaleY(1.1);\\n  }\\n  100% {\\n    transform: scaleX(1.1) scaleY(0.9);\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","import * as Preact from \"preact\"\n\nimport App from \"models/App.js\"\n\nimport \"views/UI.view.less\"\n\nexport default class UI {\n    render() {\n        return (\n            <div className=\"UI\">\n                <div className=\"hearts\">\n                    {this.hearts}\n                </div>\n                <div className=\"score\">\n                    {this.score}\n                </div>\n                <div className=\"flash\">\n                    {this.flash}\n                </div>\n                <div className=\"title-banner\">\n                    <span>Enchiridion</span>\n                    <span className=\"play-prompt\">\n                        Click to play!\n                    </span>\n                </div>\n                <div className=\"game-over-banner\">\n                    <span>{App.game.adventurer.deathtext}</span>\n                </div>\n                <div className=\"pause-banner\">\n                    <span>PAUSED</span>\n                </div>\n                <div className=\"tutorial\">\n                    <img src={require(\"assets/images/ui/keyboard.png\")}/>\n                    <span>MOVE INTO MONSTERS TO SLAY THEM</span>\n                </div>\n            </div>\n        )\n    }\n    get hearts() {\n        var hearts = new Array()\n        for(var i = App.game.adventurer.health - 1; i >= 0; i -= 1) {\n            if(i >= App.game.adventurer.damage) {\n                if(App.game.adventurer.damage + 1 === App.game.adventurer.health) {\n                    hearts.push(<span className=\"final full heart\" key={i}/>)\n                } else {\n                    hearts.push(<span className=\"full heart\" key={i}/>)\n                }\n            } else {\n                hearts.push(<span className=\"none heart\" key={i}/>)\n            }\n        }\n        return hearts\n    }\n    get score() {\n        let score = App.game.score\n        return (\n            <span>\n                {score < 100 ? <i>0</i> : undefined}\n                {score < 10 ? <i>0</i> : undefined}\n                {score === 0 ? <i>{score}</i> : score}\n            </span>\n        )\n    }\n    get flash() {\n        if(App.game.adventurer.isAttacked) {\n            return (\n                <div className=\"blood\" key={App.game.adventurer.isAttacked}/>\n            )\n        }\n    }\n}\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./UI.view.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/fonts/tiny.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../assets/images/ui/heart-full-yellow.png\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../assets/images/ui/heart-full-white.png\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../assets/images/ui/heart-half-yellow.png\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../assets/images/ui/heart-half-white.png\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../assets/images/ui/heart-none-yellow.png\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = require(\"../assets/images/ui/heart-none-white.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\n// Module\nexports.push([module.id, \"* {\\n  margin: 0px;\\n  padding: 0px;\\n  user-select: none;\\n  box-sizing: border-box;\\n  image-rendering: pixelated;\\n}\\n@font-face {\\n  font-weight: 400;\\n  font-family: \\\"tiny\\\";\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"truetype\\\");\\n}\\n.UI .hearts {\\n  top: 0em;\\n  right: 0em;\\n  z-index: 999;\\n  padding: 0.5em;\\n  position: absolute;\\n}\\n.UI .hearts .heart {\\n  width: 0.75em;\\n  height: 0.75em;\\n  line-height: 1em;\\n  margin-left: 0.1em;\\n  display: inline-block;\\n  background-size: contain;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n}\\n.UI .hearts .heart.full {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n}\\n.UI .hearts .heart.half {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");\\n}\\n.UI .hearts .heart.none {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \");\\n}\\n.UI .hearts .heart.final {\\n  animation-name: tremble;\\n  animation-duration: 0.5s;\\n  animation-iteration-count: infinite;\\n}\\n.UI .score {\\n  left: 0em;\\n  bottom: 0em;\\n  z-index: 999;\\n  padding: 0.25em 0.5em;\\n  position: absolute;\\n  line-height: 1em;\\n}\\n.UI .score i {\\n  font: inherit;\\n  opacity: 0.5;\\n}\\n.UI .flash {\\n  top: 0em;\\n  left: 0em;\\n  right: 0em;\\n  bottom: 0em;\\n  z-index: 999;\\n  position: absolute;\\n}\\n.UI .flash .blood {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #A52F22;\\n  animation-name: flash;\\n  animation-duration: 0.1s;\\n  animation-fill-mode: forwards;\\n}\\n.UI .title-banner {\\n  transition-duration: 0.1s;\\n  transition-property: transform;\\n  top: 0em;\\n  left: -2em;\\n  right: -2em;\\n  bottom: 0em;\\n  margin: auto;\\n  height: 2em;\\n  z-index: 999;\\n  position: absolute;\\n  transform: rotate(0deg) scaleY(0);\\n  line-height: 2em;\\n  text-align: center;\\n  border-radius: 1em;\\n  background-color: rgba(165, 47, 34, 0.5);\\n}\\n.UI .game-over-banner {\\n  transition-duration: 0.1s;\\n  transition-property: transform;\\n  top: 0em;\\n  left: -2em;\\n  right: -2em;\\n  bottom: 0em;\\n  margin: auto;\\n  height: 2em;\\n  z-index: 999;\\n  position: absolute;\\n  transform: rotate(0deg) scaleY(0);\\n  line-height: 2em;\\n  text-align: center;\\n  border-radius: 1em;\\n  background-color: rgba(165, 47, 34, 0.5);\\n}\\n.UI .play-prompt {\\n  opacity: 0;\\n  left: 0em;\\n  right: 0em;\\n  bottom: -2em;\\n  position: absolute;\\n  color: #DEB74A;\\n  font-size: 0.5em;\\n  text-align: center;\\n  animation-name: blink;\\n  animation-duration: 3s;\\n  animation-iteration-count: infinite;\\n}\\n.UI .pause-banner {\\n  top: 0em;\\n  left: 0em;\\n  right: 0em;\\n  bottom: 0em;\\n  width: 5em;\\n  height: 5em;\\n  margin: auto;\\n  z-index: 999;\\n  line-height: 5em;\\n  text-align: center;\\n  position: absolute;\\n  transform: rotate(0deg) scaleY(0);\\n}\\n.UI .tutorial {\\n  top: 3.5em;\\n  width: 3em;\\n  height: 4em;\\n  right: 0.5em;\\n  z-index: 999999;\\n  position: absolute;\\n  opacity: 0;\\n  transition-duration: 1s;\\n  transition-property: opacity;\\n}\\n.UI .tutorial img {\\n  width: 100%;\\n}\\n.UI .tutorial span {\\n  display: block;\\n  font-size: 0.5em;\\n  line-height: 1em;\\n  text-align: center;\\n}\\n.Game.isTutorial .UI .tutorial {\\n  opacity: 1;\\n  transition-delay: 1s;\\n}\\n.Game.isPaused:not(.isDone) .UI .pause-banner {\\n  transition-delay: 1.5s;\\n  transition-duration: 0.5s;\\n  transition-property: transform;\\n  transform: rotate(45deg) scaleY(1);\\n}\\n.Game.isDone .UI .hearts,\\n.Game.isDone .UI .score {\\n  opacity: 0;\\n  transition-delay: 0.5s;\\n  transition-duration: 0.5s;\\n  transition-property: opacity;\\n}\\n.Game.isDone .UI .game-over-banner {\\n  opacity: 1;\\n  transition-delay: 1.5s;\\n  transition-duration: 0.5s;\\n  transform: rotate(45deg) scaleY(1);\\n}\\n.Game.isDemo .UI .hearts,\\n.Game.isDemo .UI .score,\\n.Game.isDemo .UI .flash,\\n.Game.isDemo .UI .pause-banner,\\n.Game.isDemo .UI .game-over-banner {\\n  visibility: hidden;\\n}\\n.Game.isDemo .UI .title-banner {\\n  transform: rotate(45deg) scaleY(1);\\n}\\n@keyframes blink {\\n  0% {\\n    opacity: 1;\\n  }\\n  75% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes fadeinout {\\n  0% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes flash {\\n  0% {\\n    opacity: 0.5;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes tremble {\\n  0% {\\n    transform: translate(0em, 0.025em);\\n  }\\n  10% {\\n    transform: translate(0.025em, -0.025em);\\n  }\\n  20% {\\n    transform: translate(0.025em, 0em);\\n  }\\n  30% {\\n    transform: translate(-0.025em, -0.025em);\\n  }\\n  40% {\\n    transform: translate(0em, -0.025em);\\n  }\\n  50% {\\n    transform: translate(-0.025em, 0.025em);\\n  }\\n  60% {\\n    transform: translate(0em, -0.025em);\\n  }\\n  70% {\\n    transform: translate(-0.025em, 0em);\\n  }\\n  80% {\\n    transform: translate(0.025em, -0.025em);\\n  }\\n  90% {\\n    transform: translate(-0.025em, 0.025em);\\n  }\\n  100% {\\n    transform: translate(0.025em, 0.025em);\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = __webpack_public_path__ + \"9167f1dbf5d8d9905aa5933a2fc45693.ttf\";","module.exports = __webpack_public_path__ + \"20ab7de870ebb2ed76b36048e392691d.png\";","module.exports = __webpack_public_path__ + \"c445b7f6374a437c5506eed7a5d2e473.png\";","module.exports = __webpack_public_path__ + \"7aa435c534e74880dd30deb358b472c0.png\";","module.exports = __webpack_public_path__ + \"79b27b5927cef6f02460a93f41f2aa84.png\";","module.exports = __webpack_public_path__ + \"58a6382774d8a94cbd13ce1960976417.png\";","module.exports = __webpack_public_path__ + \"dfef87f0bcb5ad87e0bafda937662040.png\";","module.exports = __webpack_public_path__ + \"07231bc69618323e334495f8e390947f.png\";","import * as Preact from \"preact\"\n\nimport frame from \"data/frame.js\"\nimport App from \"models/App.js\"\n\nimport \"views/Camera.view.less\"\n\nexport default class Camera {\n    render() {\n        return (\n            <div className=\"Camera\" style={this.style}>\n                {this.props.children}\n            </div>\n        )\n    }\n    // get style() {\n    //     return {\n    //         \"left\": (frame.width / 2) - (App.game.camera.position.x) + \"em\",\n    //         \"top\": (frame.height / 2) - (App.game.camera.position.y) + \"em\",\n    //     }\n    // }\n    get style() {\n        return {\n            \"marginLeft\": -1 * App.game.camera.position.x + \"em\",\n            \"marginTop\": -1 * App.game.camera.position.y + \"em\",\n        }\n    }\n}\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./Camera.view.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Camera {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./Game.view.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/fonts/tiny.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"* {\\n  margin: 0px;\\n  padding: 0px;\\n  user-select: none;\\n  box-sizing: border-box;\\n  image-rendering: pixelated;\\n}\\n@font-face {\\n  font-weight: 400;\\n  font-family: \\\"tiny\\\";\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"truetype\\\");\\n}\\n.Game {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  color: #FFF;\\n  font-family: tiny;\\n  font-weight: normal;\\n}\\n.Game .Scene {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  font-size: 1.25em;\\n}\\n.Game .Scene .Room {\\n  top: 0em;\\n  left: 0em;\\n  width: 5em;\\n  height: 5em;\\n  z-index: 0;\\n  position: absolute;\\n  border-radius: 0.25em;\\n  background-color: #191923;\\n}\\n.Game.isDemo .Scene {\\n  filter: blur(0.05em);\\n}\\n.Game.isDone .Scene {\\n  filter: blur(0.05em);\\n  transition-delay: 1s;\\n  transition-duration: 2s;\\n  transition-property: filter;\\n}\\n.Game.isPaused:not(.isDone):not(.isDemo) .Scene {\\n  filter: blur(0.125em);\\n  transition-delay: 0.25s;\\n  transition-duration: 0.5s;\\n  transition-property: filter;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./Mount.view.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/fonts/tiny.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"* {\\n  margin: 0px;\\n  padding: 0px;\\n  user-select: none;\\n  box-sizing: border-box;\\n  image-rendering: pixelated;\\n}\\n@font-face {\\n  font-weight: 400;\\n  font-family: \\\"tiny\\\";\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"truetype\\\");\\n}\\n.Frame {\\n  top: 0em;\\n  left: 0em;\\n  right: 0em;\\n  bottom: 0em;\\n  margin: auto;\\n  position: fixed;\\n  overflow: hidden;\\n  color: #DEB74A;\\n  color: #F4F8F0;\\n  width: 10em;\\n  height: 10em;\\n  background-image: linear-gradient(135deg, #2F243A, #444054);\\n}\\n#mounted-as-none {\\n  top: 0em;\\n  left: 0em;\\n  right: 0em;\\n  bottom: 0em;\\n  position: absolute;\\n  background-color: #111;\\n}\\n.Preload {\\n  opacity: 0;\\n  position: absolute;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import * as Preact from \"preact\"\n\nlet dom = document.body\nlet view = undefined\n\nexport default function(ViewModel) {\n    view = Preact.render(Preact.h(ViewModel), dom, view)\n}\n"],"sourceRoot":""}